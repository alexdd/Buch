[{"id":"0e661463-0259-4d9f-a784-93f4f169bc52","text":"Abfragen mit XQuery","title":"Abfragen mit XQuery"},{"id":"c2687f09-7480-4b8a-aa85-97d3e6821592","text":"Xquery führt im Publishing-Bereich ein Schattendasein. In meiner Zeit als XSL Programmierer für zwei Publishing Firmen hatte ich damit nie zu tun. Erst als ich näher an den eigentlichen Daten war und mit XML Datenbanken zu tun hatte, kam ich mit XQuery in Berührung.","title":"Abfragen mit XQuery"},{"id":"68844713-b2c6-475e-8649-74c9094a4533d6e6","text":"Während relationale Datenbanken mit SQL abgefragt werden, verwendet man bei XML Datenbanken, wie eXist oder Marklogic, XQuery als Abfragesprache.","title":"Abfragen mit XQuery"},{"id":"beb7e5e2-4c9d-4fc8-b536-7f06da326062d6e8","text":"Aber auch einzelne XML Dokumente können z.B. in Oxygen XML Editor mit dem XQuery Builder Tool oder auch per Saxon Kommandozeile abgefragt werden:","title":"Abfragen mit XQuery"},{"id":"82bd2bc8-d52c-4012-85f5-f167da7f8dc4d6e12","text":"Mit der Option kann hier der Querystring angebenen werden.","title":"Abfragen mit XQuery"},{"id":"a1ae2cee-3b1d-4919-8531-d42c03a501f2d6e17","text":"Wie man an dem einfachen Beispiel schon sieht, ist XQuery mit XPath verwandt. XQuery umfasst den Sprachumfang von XPath bietet aber zusätzlich die FLOWR Syntax um mächtigere Abfragen stellen zu können. Mittels weiterer Extensions können aber auch ganze Programme erstellt werden, die weit über die Funktionalität einer \"Abfragesprache\" hinausgehen.","title":"Abfragen mit XQuery"},{"id":"c7e8acb5-6c21-4de1-a88d-8bbd376bbbb4d6e20","text":"XQuery Builder","title":"Abfragen mit XQuery"},{"id":"10cad5f2-85f8-44a2-820b-25080e044176d6e22","text":"Oxygen XML Editor bietet eine schöne Möglichkeit XQuery-Abfragen \nauf einem geladenen XML Dokument auszuführen. Dazu kann man \nseine Query in das betreffende Eingabefenster schreiben.","title":"Abfragen mit XQuery"},{"id":"667dba3e-88fa-4c6d-962d-22773f3fc227d7e25","text":"oXygen XQuery Builder","title":"Abfragen mit XQuery"},{"id":"f9cd5153-7930-46ee-9bfd-33e14ec55f03d6e28","text":"Mit folgendem Ergebnis:","title":"Abfragen mit XQuery"},{"id":"59f98501-17c8-47d7-a314-8f89c6b7299ed6e33","text":"FLOWR Expression","title":"Abfragen mit XQuery"},{"id":"d9c7b63e-5eb8-4c1a-8efb-88af290b55bfd6e34","text":"FLOWR steht für . Das sind die Query-Anweisungen, die in \ndem Ausdruck erlaubt sind - in genau dieser Reihenfolge.","title":"Abfragen mit XQuery"},{"id":"c8a0cb85-703f-405f-b645-b24ac1e81133d6e38","text":"In dieser Query werden die Titel aller Bücher von Grass zurückgeliefert.\nBemerkenswert ist hier die Syntax.","title":"Abfragen mit XQuery"},{"id":"9107c2a6-03d3-41db-b842-771ef054948fd6e41","text":"Normalerweise würde man zwischen den\neinzelnen Anweisungen einen Blockabschluss, wie ein Semikolon erwarten.\nDa wir aber hier funtional prorgammieren, ist die Sache etwas anders...","title":"Abfragen mit XQuery"},{"id":"7dbf0fb3-8421-43c4-b792-0eba61c4bf27d6e44","text":"XML per XQuery","title":"Abfragen mit XQuery"},{"id":"9ab1e252-cb55-4821-9893-74ec6ef84344d6e45","text":"Es ist aber auch möglich XML zu erzeugen, wobei natürlich für eine Transformation XSLT \nvorzuziehen ist. Dazu werden Tags direkt in die Expression geschrieben, wie z.B. hier:","title":"Abfragen mit XQuery"},{"id":"998102ca-7388-47ce-bb9d-0c6676f3788dd6e49","text":"Speichert man dieses Schnippsel in einer Datei ab,\nso kann man mit der folgenden Kommandozeile auf einer Datei als Eingabe suchen:","title":"Abfragen mit XQuery"},{"id":"72199b87-ef45-4bac-93aa-a03892a63e12d6e54","text":"Document Projection","title":"Abfragen mit XQuery"},{"id":"4b856b14-5e37-4b3f-97aa-35d140f8c43bd6e55","text":"Document Projection ist ein verstecktes Saxon XQuery Feature. Es funktioniert nur für eine einzige Abfrage.\nDas kann schon recht hilfreich sein, wenn man ein mehrere 100MB großes Dokument durchsuchen\nwill.","title":"Abfragen mit XQuery"},{"id":"ac58c0ea-28fd-4c0f-9ecc-722bb1233a6ad6e57","text":"Ohne Projection würde das Beispiel von oben so verarbeitet:","title":"Abfragen mit XQuery"},{"id":"f182025a-4c60-479e-a19f-5927645b8a2ed6e61","text":"Mit der Option verändert sich die Ausführungszeit signifikant:","title":"Abfragen mit XQuery"}]