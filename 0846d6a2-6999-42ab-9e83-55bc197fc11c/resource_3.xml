<?xml version="1.0" encoding="UTF-8"?><topic id="ae325776-f861-42c4-9a68-95d2d1c756a5"><title id="0e661463-0259-4d9f-a784-93f4f169bc52">Abfragen mit XQuery</title><body id="09f76c76-f17f-41fd-a303-1d0812cb6e21"><p id="c2687f09-7480-4b8a-aa85-97d3e6821592">Xquery führt im Publishing-Bereich ein Schattendasein. In meiner Zeit als XSL Programmierer für zwei Publishing  Firmen hatte ich damit nie zu tun. Erst als ich näher an den eigentlichen Daten war und mit XML Datenbanken zu tun hatte, kam ich mit XQuery in Berührung.</p><p id="68844713-b2c6-475e-8649-74c9094a4533d6e6">Während relationale Datenbanken mit SQL abgefragt werden, verwendet man bei XML Datenbanken, wie eXist[[fn:http://exist-db.org/exist/apps/homepage/index.html]] oder Marklogic[[fn:https://de.marklogic.com/]], XQuery als Abfragesprache.</p><p id="beb7e5e2-4c9d-4fc8-b536-7f06da326062d6e8">Aber auch einzelne XML Dokumente können z.B. in Oxygen XML Editor mit dem XQuery Builder Tool[[fn:https://www.oxygenxml.com/xml_editor/xquery_builder.html]] oder auch per Saxon Kommandozeile abgefragt werden:</p><pre id="bd520084-0bc9-4369-a291-2162ad1210ebd6e10" xml:space="preserve">java -cp usr/lib/saxon/saxon.jar net.sf.saxon.Query 
     -s:"schulen.xml" 
     -qs:"/schulen/schule[id='6']" 
     -o:"/Users/Alex/Desktop/schule_6.xml"</pre><p id="82bd2bc8-d52c-4012-85f5-f167da7f8dc4d6e12">Mit der Option <b id="03edacb3-4ba0-4dd4-b0a7-0cfd1ee296f0d6e14" href="undefined">-qs </b>kann hier der Querystring angebenen werden. </p><p id="a1ae2cee-3b1d-4919-8531-d42c03a501f2d6e17">Wie man an dem einfachen Beispiel schon sieht, ist XQuery mit XPATH verwandt. XQuery umfasst den Sprachumfang von XPATH bietet aber zusätzlich die FLOWR[[https://en.wikipedia.org/wiki/FLWOR]] Syntax um mächtigere Abfragen stellen zu können. Mittels weiterer Extensions[[fn:http://cs.au.dk/~amoeller/XML/querying/flwrexp.html]] können aber auch ganze Programme erstellt werden, die weit über die Funktionalität einer "Abfragesprache" hinausgehen.</p><section id="b99f0198-676d-4781-b5a6-aed5c22149cad6e19"><title id="c7e8acb5-6c21-4de1-a88d-8bbd376bbbb4d6e20">FLOWR Ausdruck</title></section></body></topic>