<html xmlns:xs="http://www.w3.org/2001/XMLSchema"><head><meta charset="utf-8"></meta><link type="text/css" rel="stylesheet" href="/editor/res/css/scrollbars.css"></link><link type="text/css" rel="stylesheet" href="/editor/res/css/tektur-editor-gui.css"></link><link type="text/css" rel="stylesheet" href="/editor/res/css/tektur-editor.css"></link><link type="text/css" rel="stylesheet" href="/editor/res/css/tektur-editor-preview.css"></link><link type="text/css" rel="stylesheet" href="/editor/res/css/tektur-editor-custom.css"></link><script type="text/javascript" src="/editor/res/js/lib/ckeditor/ckeditor.js"></script><script type="text/javascript" src="/editor/res/js/lib/jquery.js"></script><script type="text/javascript" src="/editor/res/js/lib/ckeditor/adapters/jquery.js"></script><script type="text/javascript" src="/editor/res/js/lib/FileSaver.min.js"></script><script type="text/javascript" src="/editor/res/js/lib/colResizable-1.5.min.js"></script><script type="text/javascript" src="/editor/res/js/lib/jquery-ui.min.js"></script><script type="text/javascript" src="/editor/res/js/lib/templater.js"></script><script type="text/javascript" src="/editor/src/custom.js"></script><script type="text/javascript" src="/dist/tektur-editor.js"></script></head><body><div id="edit-mode" style="display:none">1</div><div id="resource-path" style="display:none">/data/</div><div id="is-dirty" style="display:none">false</div><div class="popup" id="attributes-dialog" style="display:none"><div class="scroll-panel"><ul><li>Keine Eigenschaften</li></ul></div><div class="buttons"><button class="cancel-button">Abbrechen</button><button class="save-button">Ändern</button></div></div><div class="custom-dropdown-menu" id="attributes-select" style="display:none"><ul class="items scroll-panel"><li>dummy1</li><li>dummy2</li><li>dummy3</li></ul></div><div class="popup" id="image-dialog" style="display:none"><div class="scroll-panel"><ul><li>todo</li></ul></div><div class="buttons"><button class="cancel-button">Cancel</button><button class="save-button">Save</button></div></div><script type="text/html" id="gui_optional_tmpl"><div class="gui-optional-elements-button" contenteditable="false"><div class="menu-icon" style="display:none">+</div></div></script><script type="text/html" id="gui_multiple_tmpl"><div class="gui-multiple-elements-button" contenteditable="false"><div class="menu-icon" style="display:none">+</div></div></script><script type="text/html" id="p_tmpl"><div class="p" data-element="p"></div></script><script type="text/html" id="placeholder_text_tmpl"><div class="pmarker placeholder text" data-element="p"></div></script><script type="text/html" id="title_tmpl"><div class="title" data-element="title"></div></script><script type="text/html" id="table_tmpl"><% if(mode == "normal") { %><div data-element="table" class="table show_menu" style="display:none" data-attribute-pgwide="0" data-attribute-frame="all"><div data-element="desc" style="display:none" class="pmarker desc optional placeholder text"></div><table data-element="tgroup" width="100%" cols="0"><colgroup><% for(var i=count2; i>0; i--) { %><col data-colname="set-me"></col><% } %></colgroup><thead data-element="thead"><tr class="row" data-element="row"><% for(var i=count2; i>0; i--) { %><td valign="top" class="entry" data-element="entry"><div class="pmarker placeholder text" data-element="p"></div></td><% } %></tr></thead><tbody data-element="tbody"><% for(var j=count1; j>0; j--) { %><tr class="row" data-element="row"><% for(var i=count2; i>0; i--) { %><td valign="top" class="entry" data-element="entry"><div class="pmarker placeholder text" data-element="p"></div></td><% } %></tr><% } %></tbody></table><div data-element="title" class="pmarker title optional placeholder text" style="display:none"></div></div><div class="pmarker placeholder text" data-element="p"></div><% } else { %><div data-element="simpletable" class="table show_menu" style="display:none"><table width="100%"><tr class="sthead" data-element="sthead"><% for(var i=count2; i>0; i--) { %><td valign="top" class="stentry" data-element="stentry"><div class="pmarker placeholder text" data-element="p"></div></td><% } %></tr><% for(var j=count1; j>0; j--) { %><tr class="strow" data-element="strow"><% for(var i=count2; i>0; i--) { %><td valign="top" class="stentry" data-element="stentry"><div class="pmarker placeholder text" data-element="p"></div></td><% } %></tr><% } %></table></div><div class="pmarker placeholder text" data-element="p"></div><% } %></script><script type="text/html" id="row_tmpl"><tr class="row" data-element="row"><% for(var i=count1; i>0; i--) { %><td valign="top" class="entry" data-element="entry"><div class="pmarker placeholder text" data-element="p"></div></td><% } %></tr></script><script type="text/html" id="strow_tmpl"><tr class="row" data-element="strow"><% for(var i=count1; i>0; i--) { %><td valign="top" class="entry" data-element="stentry"><div class="pmarker placeholder text" data-element="p"></div></td><% } %></tr></script><script type="text/html" id="sthead_tmpl"><tr class="row" data-element="sthead"><% for(var i=count1; i>0; i--) { %><td valign="top" class="entry" data-element="stentry"><div class="pmarker placeholder text" data-element="p"></div></td><% } %></tr></script><script type="text/html" id="entry_tmpl"><td class="entry" data-element="entry" valign="top" width="20%"><div class="pmarker placeholder text" data-element="p"></div></td></script><script type="text/html" id="stentry_tmpl"><td class="entry" data-element="stentry" valign="top"><div class="pmarker placeholder text" data-element="p"></div></td></script><script type="text/html" id="dl_tmpl"><table class="dl show_menu" data-element="dl" width="100%" style="display:none"><tbody><tr class="dlhead" data-element="dlhead"><th valign="top" class="dthd" data-element="dthd" width="30%"><div class="pmarker placeholder text" data-element="p"></div></th><th valign="top" class="ddhd" data-element="ddhd" width="70%"><div class="pmarker placeholder text" data-element="p"></div></th></tr><tr class="dlentry" data-element="dlentry"><td valign="top" class="dt" data-element="dt"><div class="pmarker placeholder text tektur-wrapper" data-element="p"></div></td><td valign="top" class="dd" data-element="dd"><div class="pmarker placeholder  text" data-element="p"></div></td></tr></tbody></table><div class="pmarker placeholder text" data-element="p"></div></script><script type="text/html" id="dlentry_tmpl"><tr class="dlentry" data-element="dlentry"><td valign="top" class="dt" data-element="dt"><div class="pmarker placeholder  text tektur-wrapper" data-element="p"></div></td><td valign="top" class="dd" data-element="dd"><div class="pmarker placeholder text" data-element="p"></div></td></tr></script><script type="text/html" id="ol_tmpl"><ol data-element="ol" style="display:none"><li class="li" data-element="li"><div class="p pmarker" data-element="p"></div></li></ol><div class="pmarker placeholder text" data-element="p"></div></script><script type="text/html" id="ul_tmpl"><ul data-element="ul" style="display:none"><li class="li" data-element="li"><div class="p pmarker" data-element="p"></div></li></ul><div class="pmarker placeholder text" data-element="p"></div></script><script type="text/html" id="li_tmpl"><li class="li" data-element="li"><div class="p  pmarker" data-element="p"></div></li></script><script type="text/html" id="section_tmpl"><div class="section optional show_menu" data-element="section"><div data-element="title" class="pmarker title"></div><div class="pmarker placeholder text" data-element="p"></div></div></script><script type="text/html" id="pre_tmpl"><div class="pre"><div class="pre-content pmarker" data-element="pre"></div></div><div class="placeholder text pmarker" data-element="p"></div></script><script type="text/html" id="fig_tmpl"><div class="fig show_menu" data-element="fig" style="display:none"><div data-element="desc" class="pmarker placeholder desc optional  text placeholder-forced" style="display:none"></div><img style="display:block" class="image" data-element="image" src="test.jpg" data-attribute-xr_oid-ref="dummy"></img><div class="image" data-element="image" data-attribute-href="test.jpg" style="display:none"></div><div data-element="title" class="pmarker title optional placeholder text placeholder-forced" style="display:none"></div><table class="legend optional show_menu" data-element="legend" width="100%" style="display:none"><tbody><tr class="legentry" data-element="legentry"><td valign="top" class="leg-pos" data-element="leg-pos" width="10%"><div class="pmarker placeholder text" data-element="p"></div></td><td valign="top" class="leg-name" data-element="leg-name" width="90%"><div class="pmarker placeholder text" data-element="p"></div></td></tr></tbody></table></div><div class="placeholder text pmarker" data-element="p"></div></script><script type="text/html" id="legentry_tmpl"><tr class="legentry" data-element="legentry"><td valign="top" class="leg-pos" data-element="leg-pos" width="10%"><div class="placeholder text pmarker" data-element="p"></div></td><td valign="top" class="leg-name" data-element="leg-name" width="90%"><div class="placeholder text pmarker" data-element="p"></div></td></tr></script><script type="text/html" id="hazardstatement_tmpl"><div data-element="hazardstatement" data-attribute-type="warning" data-ommited="messagepanel" style="display:none" class="show_menu"><div class="Warning container"><div class="signal-word">WARNING</div><div class="hcontent"><div class="typeofhazard" data-element="typeofhazard"><div class="pmarker p tektur-wrapper placeholder text" data-element="p"></div></div><div class="consequence multiple optional" data-element="consequence" style="display:none"><div class="pmarker p tektur-wrapper placeholder text" data-element="p"></div></div><div class="howtoavoid multiple" data-element="howtoavoid"><div class="pmarker p tektur-wrapper placeholder text" data-element="p"></div></div></div></div></div><div class="placeholder text pmarker" data-element="p"></div></script><script type="text/html" id="typeofhazard_tmpl"><div class="typeofhazard" data-element="typeofhazard"><div class="pmarker p tektur-wrapper placeholder text" data-element="p"></div></div></script><script type="text/html" id="consequence_tmpl"><div class="consequence multiple optional" data-element="consequence" style="display:none"><div class="pmarker p tektur-wrapper placeholder text" data-element="p"></div></div></script><script type="text/html" id="howtoavoid_tmpl"><div class="howtoavoid multiple" data-element="howtoavoid"><div class="pmarker p tektur-wrapper placeholder text" data-element="p"></div></div></script><script type="text/html" id="note_tmpl"><div data-element="note" style="display:none" class="show_menu"><div class="Note"><div class="signal-word">NOTE</div><div class="hcontent"><div class="pmarker placeholder text" data-element="p"></div></div></div></div><div class="pmarker placeholder text" data-element="p"></div></script><script type="text/html" id="steps_tmpl"><ol data-element="steps" style="display:none" class="steps optional"><div class="placeholder element show_menu tektur-wrapper" data-element="placeholder-element" data-optional="stepsection"><div class="stepsection optional" data-element="stepsection" style="display:none" data-not="note|hazardstatement|table"><div class="pmarker placeholder text" data-element="p"></div></div></div><li data-element="step" class="step show_menu special"><div class="pmarker cmd placeholder text implied" data-element="cmd" data-before="note|hazardstatement" data-text-placeholder="no"></div><ol class="substeps optional multiple" data-element="substeps" style="display:none"><li data-element="substep" class="substep show_menu special"><div class="pmarker cmd placeholder text implied" data-element="cmd" data-before="note|hazardstatement" data-text-placeholder="no"></div><div class="info optional show_menu" data-element="info" style="display:none"><div class="pmarker placeholder text" data-element="p"></div></div><div class="stepresult optional show_menu" data-element="stepresult" style="display:none"><table><tr><td class="symbol" valign="top">▷</td><td class="result-content"><div class="pmarker placeholder text" data-element="p"></div></td></tr></table></div></li></ol><ul class="choices optional multiple" data-element="choices" style="display:none"><li class="choice" data-element="choice"><div class="pmarker placeholder text" data-element="p"></div></li></ul><table style="display:none" data-element="choicetable" width="100%" class="choicetable optional show_menu"><tbody><tr class="chhead" data-element="chhead"><th valign="top" class="choptionhd" data-element="choptionhd" width="50%"><div class="plaseholder text" data-element="p"></div></th><th valign="top" class="chdeschd" data-element="chdeschd" width="50%"><div class="pmarker placeholder text" data-element="p"></div></th></tr><tr class="chrow" data-element="chrow"><td valign="top" class="choption" data-element="choption" width="50%"><div class="pmarker placeholder text" data-element="p"></div></td><td valign="top" class="chdesc" data-element="chdesc" width="50%"><div class="pmarker placeholder text" data-element="p"></div></td></tr></tbody></table><div class="info optional show_menu" data-element="info" style="display:none"><div class="pmarker placeholder text" data-element="p"></div></div><div class="stepresult optional show_menu" data-element="stepresult" style="display:none"><table><tr><td class="symbol" valign="top">▷</td><td class="result-content"><div class="pmarker placeholder text" data-element="p"></div></td></tr></table></div></li></ol></script><script type="text/html" id="substeps_tmpl"><ol data-element="substeps" style="display:none" class="substeps multiple optional"><li data-element="substep" class="substep show_menu special"><div class="pmarker cmd placeholder text implied" data-element="cmd" data-before="note|hazardstatement" data-text-placeholder="no"></div><div class="info optional show_menu" data-element="info" style="display:none"><div class="pmarker placeholder text" data-element="p"></div></div><div class="stepresult optional show_menu" data-element="stepresult" style="display:none"><table><tr><td class="symbol" valign="top">▷</td><td class="result-content"><div class="pmarker placeholder text" data-element="p"></div></td></tr></table></div></li></ol></script><script type="text/html" id="choice_tmpl"><li class="choice" data-element="choice"><div class="pmarker placeholder text" data-element="p"></div></li></script><script type="text/html" id="info_tmpl"><div class="info optional show_menu" data-element="info"><div class="pmarker placeholder text" data-element="p"></div></div></script><script type="text/html" id="stepresult_tmpl"><div class="stepresult optional show_menu" data-element="stepresult" style="display:none"><table><tr><td class="symbol" valign="top">▷</td><td class="result-content"><div class="pmarker placeholder text" data-element="p"></div></td></tr></table></div></script><script type="text/html" id="result_tmpl"><div class="result optional show_menu" data-element="result" style="display:none"><table><tr><td class="symbol" valign="top">▷</td><td class="result-content"><div class="pmarker placeholder text" data-element="p"></div></td></tr></table></div></script><script type="text/html" id="choicetable_tmpl"><table style="display:none" data-element="choicetable" width="100%" class="choicetable optional show_menu"><tbody><tr class="chhead" data-element="chhead"><th valign="top" class="choptionhd" data-element="choptionhd" width="50%"><div class="pmarker plaseholder text" data-element="p"></div></th><th valign="top" class="chdeschd" data-element="chdeschd" width="50%"><div class="pmarker placeholder text" data-element="p"></div></th></tr><tr class="chrow" data-element="chrow"><td valign="top" class="choption" data-element="choption" width="50%"><div class="pmarker placeholder text" data-element="p"></div></td><td valign="top" class="chdesc" data-element="chdesc" width="50%"><div class="pmarker placeholder text" data-element="p"></div></td></tr></tbody></table></script><script type="text/html" id="choices_tmpl"><ul class="choices optional multiple" data-element="choices" style="display:none"><li class="choice" data-element="choice"><div class="pmarker placeholder text" data-element="p"></div></li></ul></script><script type="text/html" id="step_tmpl"><li data-element="step" class="step show_menu special"><div class="pmarker cmd placeholder text implied" data-element="cmd" data-before="note|hazardstatement" data-text-placeholder="no"></div><ol class="substeps optional multiple" data-element="substeps" style="display:none"><li data-element="substep" class="substep show_menu special"><div class="pmarker cmd placeholder text implied" data-element="cmd" data-before="note|hazardstatement" data-text-placeholder="no"></div><div class="info optional show_menu" data-element="info" style="display:none"><div class="pmarker placeholder text" data-element="p"></div></div><div class="stepresult optional show_menu" data-element="stepresult" style="display:none"><table><tr><td class="symbol" valign="top">▷</td><td class="result-content"><div class="pmarker placeholder text" data-element="p"></div></td></tr></table></div></li></ol><ul class="choices optional multiple" data-element="choices" style="display:none"><li class="choice" data-element="choice"><div class="pmarker placeholder text" data-element="p"></div></li></ul><table style="display:none" data-element="choicetable" width="100%" class="choicetable optional show_menu"><tbody><tr class="chhead" data-element="chhead"><th valign="top" class="choptionhd" data-element="choptionhd" width="50%"><div class="plaseholder text" data-element="p"></div></th><th valign="top" class="chdeschd" data-element="chdeschd" width="50%"><div class="pmarker placeholder text" data-element="p"></div></th></tr><tr class="chrow" data-element="chrow"><td valign="top" class="choption" data-element="choption" width="50%"><div class="pmarker placeholder text" data-element="p"></div></td><td valign="top" class="chdesc" data-element="chdesc" width="50%"><div class="pmarker placeholder text" data-element="p"></div></td></tr></tbody></table><div class="info optional show_menu" data-element="info" style="display:none"><div class="pmarker placeholder text" data-element="p"></div></div><div class="stepresult optional show_menu" data-element="stepresult" style="display:none"><table><tr><td class="symbol" valign="top">▷</td><td class="result-content"><div class="pmarker placeholder text" data-element="p"></div></td></tr></table></div></li></script><script type="text/html" id="substep_tmpl"><li data-element="substep" class="substep show_menu special"><div class="pmarker cmd placeholder text implied" data-element="cmd" data-before="note|hazardstatement" data-text-placeholder="no"></div><div class="info optional show_menu" data-element="info" style="display:none"><div class="pmarker placeholder text" data-element="p"></div></div><div class="stepresult optional show_menu" data-element="stepresult" style="display:none"><table><tr><td class="symbol" valign="top">▷</td><td class="result-content"><div class="pmarker placeholder text" data-element="p"></div></td></tr></table></div></li></script><script type="text/html" id="chrow_tmpl"><tr class="chrow" data-element="chrow"><td valign="top" class="choption" data-element="choption" width="50%"><div class="pmarker placeholder p" data-element="p"></div></td><td valign="top" class="chdesc" data-element="chdesc" width="50%"><div class="pmarker placeholder p" data-element="p"></div></td></tr></script><script type="text/html" id="postreq_tmpl"><div data-element="postreq" class="postreq optional show_menu" style="display:none"><div class="pmarker placeholder text" data-element="p"></div></div></script><script type="text/html" id="prereq_tmpl"><div data-element="prereq" class="prereq optional show_menu" style="display:none"><div class="pmarker placeholder text" data-element="p"></div></div></script><script type="text/html" id="context_tmpl"><div data-element="context" class="context optional show_menu" style="display:none"><div class="pmarker placeholder text" data-element="p"></div></div></script><script type="text/html" id="stepsection_tmpl"><div class="placeholder element show_menu tektur-wrapper" data-element="placeholder-element" data-optional="stepsection"><div class="stepsection optional" data-element="stepsection" style="display:none" data-not="note|hazardstatement|pre|table"><div class="pmarker placeholder text" data-element="p"></div></div></div></script><script type="text/html" id="legend_tmpl"><table class="legend optional show_menu" data-element="legend" width="100%" style="display:none"><tbody><tr class="legentry" data-element="legentry"><td valign="top" class="leg-pos" data-element="leg-pos" width="10%"><div class="pmarker placeholder text" data-element="p"></div></td><td valign="top" class="leg-name" data-element="leg-name" width="90%"><div class="pmarker placeholder text" data-element="p"></div></td></tr></tbody></table></script><script type="text/html" id="shortdesc_tmpl"><div class="pmarker shortdesc optional placeholder text" data-element="shortdesc" data-excluding="abstract"></div></script><script type="text/html" id="abstract_tmpl"><div class="abstract optional show_menu" data-element="abstract" data-excluding="shortdesc" style="display:none"><div class="pmarker placeholder text" data-element="p"></div></div></script><script type="text/html" id="icon_tmpl"><span class="icon" data-element="image" data-attribute-href="test.jpg"><img style="display:inline" class="icon" data-element="image" src="test.jpg" data-attribute-xr_oid-ref="dummy"></img></span></script><div id="scroll-area"><div id="toolbar"><table><tr><td><img style="display:none" id="save-icon" title="not-used"></img></td><td><div><img id="undo-icon" src="/editor/res/icons/undo.png" title="Undo"></img></div></td><td><div><img id="redo-icon" src="/editor/res/icons/redo.png" title="Redo"></img></div></td><td class="spacer"><div><img id="import-text-icon" src="/editor/res/icons/paste.png" title="Import Text Content"></img></div></td><td class="spacer"><div><img id="swap-icon" src="/editor/res/icons/arrow_up.png" title="Move Up"></img></div></td><td><div><img id="movedown-icon" src="/editor/res/icons/arrow_down.png" title="Move Down"></img></div></td><td class="spacer"><div><img id="bold-icon" src="/editor/res/icons/bold-text.png" title="Set Bold Text"></img></div></td><td><div><img id="italic-icon" src="/editor/res/icons/italics.png" title="Set Italics Text"></img></div></td><td><div><img id="underline-icon" src="/editor/res/icons/undelined.png" title="Set Underlined Text"></img></div></td><td><div><img id="sup-icon" src="/editor/res/icons/superscript.png" title="Set Superscript Text"></img></div></td><td><div><img id="sub-icon" src="/editor/res/icons/subscript.png" title="Set Subscript Text"></img></div></td><td class="spacer"><div><img id="ul-icon" src="/editor/res/icons/bullets.png" title="Set Bulleted List"></img></div></td><td><div><img id="ol-icon" src="/editor/res/icons/numbering.png" title="Set Numbered List"></img></div></td><td><div><img id="dl-icon" src="/editor/res/icons/definitionlist.png" title="Set Definition-List"></img></div></td><td><div><img id="fig-icon" src="/editor/res/icons/insert-picture.png" title="Insert Figure"></img></div></td><td><div><img id="icon-icon" src="/editor/res/icons/insert-icon.png" title="Insert Icon"></img></div></td><td><div><img id="table-icon" src="/editor/res/icons/table.png" title="Insert Table"></img></div></td><td style="display:none"><div></div></td><td><div><img id="hazardstatement-icon" src="/editor/res/icons/caution.png" title="Insert Hazardstatement"></img></div></td><td><div><img id="note-icon" src="/editor/res/icons/note.png" title="Insert Note"></img></div></td><td><div><img id="pre-icon" src="/editor/res/icons/code.png" title="Insert Code"></img></div></td><td><div><img id="section-icon" src="/editor/res/icons/new_section.png" title="Insert Section"></img></div></td><td><div><img id="link-icon" src="/editor/res/icons/link.png" title="Insert Link"></img></div></td><td class="spacer" style="display:none"><div></div></td><td style="display:none"><div></div></td><td style="display:none"><div></div></td><td style="display:none"><div></div></td><td style="display:none"><div></div></td><td style="display:none"><div></div></td></tr></table></div><div id="breadcrumbs"></div><div id="table-button-panel" style="display:none;position:fixed;right: 8px;top:90px;background-color:white;"><div style="margin-bottom:10px"><button type="button" id="debug-button-1" style="background-color:white;">Button-1</button></div><div style="margin-bottom:10px"><button type="button" id="debug-button-2" style="background-color:white;">Button-2</button></div><div style="margin-bottom:10px"><button type="button" id="debug-button-3" style="background-color:white;">Button-3</button></div><div style="margin-bottom:10px"><button type="button" id="debug-button-4" style="background-color:white;">Button-4</button></div><div style="margin-bottom:10px"><button type="button" id="debug-button-5" style="background-color:white;">Button-5</button></div><div style="margin-bottom:10px"><button type="button" id="debug-button-6" style="background-color:white;">Button-6</button></div><div style="margin-bottom:10px"><button type="button" id="debug-button-7" style="background-color:white;">Button-7</button></div><div style="margin-bottom:10px"><button type="button" id="debug-button-8" style="background-color:white;">Button-8</button></div><div style="margin-bottom:10px"><button type="button" id="debug-button-9" style="background-color:white;">Button-9</button></div><div style="margin-bottom:10px"><button type="button" id="debug-button-10" style="background-color:white;">Button-10</button></div><div style="margin-bottom:10px"><button type="button" id="debug-button-11" style="background-color:white;">Button-11</button></div><div style="margin-bottom:10px"><button type="button" id="debug-button-12" style="background-color:white;">Button-12</button></div><div style="margin-bottom:10px"><button type="button" id="debug-button-13" style="background-color:white;">Button-13</button></div><div style="margin-bottom:10px"><button type="button" id="debug-button-14" style="background-color:white;">Button-14</button></div><div style="margin-bottom:10px"><button type="button" id="debug-button-15" style="background-color:white;">Button-15</button></div><div style="margin-bottom:10px"><button type="button" id="debug-button-16" style="background-color:white;">Button-16</button></div></div><div id="content"><div data-attribute-id="7f03cc5e-675a-4371-b3e9-5d79b981ff95" class="topic show_menu" data-element="topic" data-deletable="false"><div data-attribute-id="fbbe8267-ed7b-4b78-b547-d00fe41f0b5c" class="title" data-element="title">Webservice Calls mit [[code:doc()]] und [[code:unparsed-text()]]</div><div class="abstract optional show_menu" data-element="abstract" data-excluding="shortdesc" style="display:none"><div class="placeholder text" data-element="p"></div></div><div data-attribute-id="813af5cb-f856-4d8c-996c-dd02e81732fd" class="body show_menu" data-element="body" data-deletable="false"><div class="section tektur-wrapper" data-element="section"><div xmlns:xr="http://www.tekturcms.de/2012/xr/common" xmlns:xlink="http://www.w3.org/1999/xlink" data-attribute-id="cfd5bdf8-a043-405f-a3f7-1feb395fbd3d" class="p" data-element="p">Eine verbreitete Paxis ist es, mit der Funktion [[code:document()]] oder kurz [[code:doc()]] 
entfernte Ressourcen in die Transformation einzubinden. 
Bei einer Schematron-Validierung, würde bspw. eine Regel, wie:</div><div class="pre"><div data-attribute-id="d8ba6a9b-d3ae-4ddc-848a-237342a4b964d7e6" data-attribute-xml_space="preserve" class="pre-content" data-element="pre">&lt;sch:not-assert id="personal-check"
    role="error"
    test="doc(concat('https://tekturcms.de/personal.xqy?personal-id=',personal-id))/kuendigung"&gt;
        Angestellter mit ID "&lt;sch:value-of select="personal-id"/&gt;" hat gekündigt!
&lt;/sch:not-assert&gt;</div></div><div class="placeholder text" data-element="p"></div><div xmlns:xr="http://www.tekturcms.de/2012/xr/common" xmlns:xlink="http://www.w3.org/1999/xlink" data-attribute-id="9fc3fa46-8e19-4c2b-90cf-0f2a76ef18eed6e8" class="p" data-element="p">einen entferneten Webservice aufrufen und prüfen, ob für den Angestellten mit [[code:personal-id]]
eine Kündigung vorliegt. Ist dies der Fall, so ist die negative Zusicherung [[code:not-assert]] nicht
erfüllt und die Schematron Regel feuert - was sich wohl im einfachsten Fall in einem 
Logfile Eintrag äussern sollte.</div><div xmlns:xr="http://www.tekturcms.de/2012/xr/common" xmlns:xlink="http://www.w3.org/1999/xlink" data-attribute-id="e3b1a6ca-7163-4c64-a69d-a1f4277847d5d6e10" class="p" data-element="p">Was vermutlich viele noch nicht kennen - ich nehme jetzt einfach mal an, dass mein 
bisheriger Kenntnisstand dem der Mehrheit der XML-Entwickler entspricht - ist der Umstand,
dass auch die Funktion [[code:unparsed-text()]] eine URL als Parameter nimmt:</div><div class="pre"><div data-attribute-id="9e5da5dc-d5f3-4ddb-9826-4076a7497398d7e12" data-attribute-xml_space="preserve" class="pre-content" data-element="pre">&lt;xsl:template match="angestellter"
    &lt;xsl:copy&gt;
        &lt;xsl:apply-templates select="node()|@*"/&gt;
        &lt;hat-gekuendigt&gt;
            &lt;xsl:sequence select="json-to-xml(
                                  unparsed-text(
                                  concat('https://tekturcms.de/personal.xqy?personal-id=',
                                  personal-id))))/descendant::*[@key='gekuendigt']/text()"/&gt;
        &lt;/hat-gekuendigt&gt;
    &lt;/xsl:copy&gt;
&lt;/xsl:template&gt;</div></div><div class="placeholder text" data-element="p"></div><div xmlns:xr="http://www.tekturcms.de/2012/xr/common" xmlns:xlink="http://www.w3.org/1999/xlink" data-attribute-id="9992ff44-8622-4832-a290-5b53de8787fbd6e14" class="p" data-element="p">Während mit [[code:doc()]] oder [[code:document()]] ein zurückgeliefertes XML Fragment 
prozessiert wird, erwartet [[code:unparsed-text()]] z.B. einen <span data-attribute-id="cb9e283d-09cb-4e2f-a785-74aa1b809452d7e16" class="b" data-element="b">JSON-String</span>, der dann mittels
der Funktion [[code:json-to-xml()]] nach XML konvertiert werden kann.</div><div xmlns:xr="http://www.tekturcms.de/2012/xr/common" xmlns:xlink="http://www.w3.org/1999/xlink" data-attribute-id="3b7e4ebd-cc5a-448c-8ae5-85e90302d51dd6e16" class="p" data-element="p">Beispielsweise könnte die Gegenseite zum [[code:angestellter]] Template mittels XQuery
folgendermassen realisiert sein:</div><div class="pre"><div data-attribute-id="b1aa7f7c-4bc4-4d08-9d95-b599561b6b58d7e21" data-attribute-xml_space="preserve" class="pre-content" data-element="pre">xquery version "1.0-ml";

declare variable $personal-id := xdmp:get-request-field('personal-id');

let $gekuendigt := if (collection('/personal')/*[personal-id = $personal-id and 
                                                 fn:exists(kuendingung)] then 
                                                 'ja' else 'nein'
return 
    common:render-response(concat('{"gekuendigt":"',$gekuendigt,'",
                                    "personal-id":"',$personal-id,'"}'))</div></div><div class="placeholder text" data-element="p"></div><div xmlns:xr="http://www.tekturcms.de/2012/xr/common" xmlns:xlink="http://www.w3.org/1999/xlink" data-attribute-id="83a12eb2-9d2c-4bea-9d00-463280925e65d6e20" class="p" data-element="p">(<span class="link" data-element="link" data-tektur-editor-id="86e61dc1-c690-4420-b3ce-83c39c6bf091" href="98665bd9-d40d-4fc7-ab7a-e340be6190a6" data-type="none">Mehr zu XQuery und den hier verwendeten Konstrukten</span>, wie [[code:render-response()]]))</div><div xmlns:xr="http://www.tekturcms.de/2012/xr/common" xmlns:xlink="http://www.w3.org/1999/xlink" data-attribute-id="dc9f1757-17d5-4982-9f9b-b624dcc9f86cd6e22" class="p" data-element="p">Das zurückgeklieferte JSON Dokument sieht dann so aus:</div><div class="pre"><div data-attribute-id="2ff353a6-dc85-4dca-848c-cc8a5ea49a18d7e30" data-attribute-xml_space="preserve" class="pre-content" data-element="pre">{"gekuendig":"ja","personal-id":"q5687500"}</div></div><div class="placeholder text" data-element="p"></div><div xmlns:xr="http://www.tekturcms.de/2012/xr/common" xmlns:xlink="http://www.w3.org/1999/xlink" data-attribute-id="c16d857e-bf25-4013-a637-fb1f1f42b212d6e27" class="p" data-element="p">Konvertiert nach XML erhält man eine Map Struktur:</div><div class="pre"><div data-attribute-id="ffb50115-b875-4064-83ad-c2858612b49bd7e35" data-attribute-xml_space="preserve" class="pre-content" data-element="pre">&lt;map xmlns="http://www.w3.org/2005/xpath-functions"&gt;
    &lt;string key="gekuedigt"&gt;ja&lt;/string&gt;
    &lt;string key="personal-id"&gt;q5687500&lt;/string&gt;
&lt;/map&gt;</div></div><div class="placeholder text" data-element="p"></div><div xmlns:xr="http://www.tekturcms.de/2012/xr/common" xmlns:xlink="http://www.w3.org/1999/xlink" data-attribute-id="5aa1c1a3-6eaa-470b-bbb0-9cecf34158c3d6e31" class="p" data-element="p">was den Selektorausdruck im obigen XPATH erklärt:</div><div class="pre"><div data-attribute-id="b2a41b74-b23c-403d-8102-ffe5bb7f7f9ed7e39" data-attribute-xml_space="preserve" class="pre-content" data-element="pre">json-to-xml(
unparsed-text(
concat('https://tekturcms.de/personal.xqy?personal-id=',
personal-id))))/descendant::*[@key='gekuendigt']/text()</div></div><div class="placeholder text" data-element="p"></div><div xmlns:xr="http://www.tekturcms.de/2012/xr/common" xmlns:xlink="http://www.w3.org/1999/xlink" data-attribute-id="423a28a9-42c2-4e62-b73c-c2a48f68c079d6e35" class="p" data-element="p">Resultat der Konvertierung wäre also dann - wie erwartet - ein um 
das [[code:gekuendigt]] Flag erweitertes [[code:&lt;angestellter&gt;]]
Element:</div><div class="pre"><div data-attribute-id="f6cf4dce-8530-4b4d-a15e-b6cd6ab9af6cd7e43" data-attribute-xml_space="preserve" class="pre-content" data-element="pre">&lt;angestellter&gt;
    &lt;perosnal-id&gt;q5687500&lt;/perosnal-id&gt;
    &lt;name&gt;Alex&lt;/name&gt;
    [...]
    &lt;gekuendigt&gt;nein&lt;/gekuendigt&gt;
&lt;/angestellter&gt;</div></div><div class="placeholder text" data-element="p"></div><div xmlns:xr="http://www.tekturcms.de/2012/xr/common" xmlns:xlink="http://www.w3.org/1999/xlink" data-attribute-id="d6ebc0e3-4946-40df-99b9-89d396165f96d6e39" class="p" data-element="p">Sicherlich wird der XML Entwicler eine <span class="link" data-element="link" data-tektur-editor-id="997e18de-4390-4b97-9f13-5198617f39e4" href="3337f433-44bf-430d-a809-73fd1de5ba6c" data-type="none">XML Datenbank</span>, wie MarkLogic, vorziehen
und sich gleich XML Fragmente ausliefern laasen. [[$productname]] ist aber bspw. mit
[[link]]MongoDB[[fn:https://www.mongodb.com/*Homepage der NoSQL Datenbank MongoDB]]
realisiert, die auf JSON arbeitet... Nicht zuletzt deshalb finde ich JSON Verarbeitung
mit XSLT recht spannend.</div><div class="placeholder text" data-element="p"></div></div></div></div></div></div><textarea style="display:none" id="application-status">{}</textarea><div id="table-drag-info" style="display:none"></div><div id="debug-message" style="display:none;color:red"></div><div id="rendering-finished" style="display:none;">true</div><div id="tektur-configuration" style="display:none"><div id="tektur-configuration-editable-elements">p,title,pre,desc,shortdesc,cmd,navtitle,searchtitle</div><div id="tektur-configuration-title-elements">title,dthd,ddhd,desc,shortdesc,navtitle,searchtitle,typeofhazard</div><div id="tektur-configuration-inline-elements">b,i,u,sup,sub,xref,tt,indexterm,image</div><div id="tektur-configuration-list-elements">li,step,substep,choice</div><div id="tektur-configuration-table-elements">table,choicetable,simpletable,dl,legend</div><div id="tektur-configuration-real-table-elements">table,simpletable</div><div id="tektur-configuration-table-entry-elements">entry,leg-pos,leg-name,stentry,dt,dd,dthd,ddhd,choptionhd,chdeschd,choption,chdesc</div><div id="tektur-configuration-table-row-elements">row,legentry,strow,sthead,dlhead,dlentry,chhead,chrow</div><div id="tektur-configuration-paragraph-elements">p,cmd</div><div id="tektur-configuration-action-elements">cmd</div><div id="tektur-configuration-result-elements">step,stepresult</div><div id="tektur-configuration-pre-elements">pre</div><div id="tektur-configuration-selectable-elements">table,topic,task,taskbody,simpletable,fig,note,dl,step,substep,hazardstatement,ol,steps,ul,section,legend,choices,substeps,stepresult,choicetable,info,step,substep,body,placeholder-element</div><div id="tektur-configuration-block-elements">p,table,simpletable,pre,fig,dl,ol,ul,note,hazardstatement,pre</div><div id="tektur-configuration-body-elements">body,frontbody</div><div id="tektur-configuration-section-elements">section</div><div id="tektur-configuration-root-elements">topic,task,frontbody</div><div id="tektur-configuration-must-contain-elements">body,entry,desc,li,typeofhazard,consequence,dt,dd,dlhead,dlentry,chrow,chhead,legpos,legname,dthd,dtdd,titlealts</div><div id="tektur-configuration-show-tags-elements">table,fig,dl,ul,ol,code,typeofhazard,consequence,howtoavoid,hazardstatement,note,simpletable,legend,section,choices,info,stepresult,prereq,context,postreq,result,topic,task,abstract,taskbody,steps,choicetable,substeps,body</div><div id="tektur-configuration-show-icon-instead-of-tags-elements">placeholder-element,step,substep</div><div id="tektur-configuration-never-show-tags-elements">thead,tgroup,tbody,row,entry,stentry,strow,sthead,dlhead,dlentry,legentry,p,chhead,chrow</div><div id="tektur-configuration-labels">placeholder-element=Optional Element</div><div id="tektur-configuration-structure-nogos">table/table</div><div id="tektur-configuration-blocks-mode-deletable">dl,fig,hazardstatement,note,ol,p,li,pre,simpletable,table,ul,section,prereq,context,steps,result,postreq,step,substeps,choices,choicetable,info,stepresult,stepsection,abstract</div><div id="tektur-configuration-do-not-hide-tags">true</div><div id="tektur-configuration-tag-style">font-weight:normal;margin-bottom: 4px;color:black;padding-left:4px;padding-right:4px;font-style:italic;font-size:8pt;font-family:Arial;background-color:#e3e3e3</div><div id="tektur-configuration-tag-border-style">font-weight:normal;margin-bottom: 4px;color:black;padding-left:4px;padding-right:4px;font-style:italic;font-size:8pt;font-family:Arial;background-color:#e3e3e3;</div><div id="tektur-configuration-tag-invisible-style">font-weight:normal;margin-bottom: 4px;color:black;padding-left:4px;padding-right:4px;font-style:italic;font-size:8pt;font-family:Arial;background-color:#e3e3e3</div><div id="tektur-configuration-undo-keystroke-limit">10</div></div></body></html>