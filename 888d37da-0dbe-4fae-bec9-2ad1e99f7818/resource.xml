<?xml version="1.0" encoding="UTF-8"?><topic id="86c96e00-9a1f-4187-beba-e5d9bd3a938b"><title id="d97b76dd-7b2b-48e3-9b9e-53a4197d41f8">Vererbung</title><body id="21ad1c11-47f6-4a53-ac2e-6094cbbd1be6"><p id="9f3c9490-6544-4061-9f73-b31a0655f3fc">Mit XSLT[[xe1:Konzepte;xe2:Vererbung]] kann man Konstrukte nachbilden, so wie sie in anderen Programmiersprachen auch vorhanden sind, bspw. Vererbung. Dabei wird in einer Spezialisierung eine schon bereits getätigte Implementierung übernommen und erweitert oder eingeschränkt.</p><p id="55d7fd52-cfb0-4630-a202-8a4997fdc6d5d6e6">Der Vorteil dabei ist, dass man nicht alles nochmal neu schreiben muss. Das verkleinert die Redundanz, führt zu einer besseren Wartbarkeit und einer geringeren Fehleranfälligkeit.</p><section id="95fe6ef9-d836-48bd-91c0-bd9e2fc4d9b7d7e8"><title id="3e8c9912-e49a-4cf3-8836-4c6d59415fcdd6e9">Beispiel: Parameterisierung</title><p id="87a46d3c-3a53-49d8-81af-0b186522ab04d6e11">Gewöhnlich implementiert man ein Stylsheet für ein bestimmtes Ausgabeformat und eine Produktvariante. Schrittweise werden dann weitere Varianten und Formate hinzugefügt.</p><p id="2c5936d8-c14a-48c6-8783-22cb447e158ad6e13">Am komfortabelsten hat man es natürlich, wenn zu Beginn der Implementierung eine vollständige Spezifikation vorliegt... Das ist aber natürlich eher selten der Fall.</p><p id="e49285e4-0d9b-4cb5-88fa-3c0cce5f8ca7d6e13">Aus diesem Grund ist es wichtig, sich eine gute Strategie zu überlegen, damit die Architektur nicht in Spagetthi-Code auswartet.</p><p id="fd634ecc-535d-4768-bc6f-eb4e29d0f513d6e17">Eine gute Option wäre, die XSLT Import Präzedenz auszunutzen, vgl. Kapitel <xref href="db988919-f71e-437e-b699-b6fdd2a32cb9" id="626bb8a9-aa2a-4390-bea9-4151c230bd6b" type="topic">Eindeutigkeit der Regelbasis (imported)</xref>.</p><p id="c22ab5e0-6336-4c9b-8dff-af1a3bfd84a9d6e22">Angenommen es geht darum zu einem späteren Zeitpunkt weitere Parameter einzuführen. Ein Switch, wie der folgende, müsste dann an mehreren Stellen im Code aktualisiert werden.</p><pre id="62f9a106-1f0f-4a07-b4f7-3a190ddbea1ad7e24" xml:space="preserve">&lt;xsl:choose&gt;
    &lt;xsl:when test="$myParameter='this_option'"&gt;
        &lt;!-- do this --&gt;
    &lt;/xsl:when&gt;
    &lt;xsl:when test="$myParameter='that_option'"&gt;
        &lt;!-- do that --&gt;
    &lt;/xsl:when&gt;
        [...]
&lt;/xsl:choose&gt;</pre><p id="62f5f7b0-1fe2-41c7-a495-77e19a1fd871d6e24">Besser ist es, wenn man ein Core-Stylesheet[[xe1:Parameterisierung;xe2:Core-Stylesheet]] pflegt, das für ein Format und eine Produktvariante[[xe1:Format- und Produktvarianten]] gut ausgetestet ist. Dieses Core-Stylesheet wird dann einfach für eine neue Variante importiert und relevante Teile werden für die neue "Spezialisierung"[[xe1:Konzepte;xe2:Generalisierung und Spezialisierung]] überschrieben. Beispielsweise könnte eine Regel zum Setzen des Headers auf jeder Seite so implementiert sein:</p><pre id="f137b045-e1b7-4499-bfb4-dca5d57fdd44d7e28" xml:space="preserve">&lt;xsl:template name="render-header"&gt;
    &lt;!-- print logo on the left side spanning two rows--&gt;
    &lt;!-- print some metadata right side first row --&gt;
    &lt;!-- print a running header right side second row --&gt;
&lt;/xsl:template&gt;</pre><p id="a25fd496-3d0f-40d0-899b-8eeb8efa4a05d6e28">Will man in einem neuen Format, bspw. A5, diese Logik austauschen und nur eine Zeile drucken, z.B. weil man nicht so viel Platz hat, so würde in einem "abgeleiteten" Stylesheet einfach die Regel noch einmal implementiert.[[xe1:Parameterisierung;xe2:Sub-Stylssheet]]</p><pre id="3b0309be-6b18-4f01-82b6-fb0ea7223cabd7e32" xml:space="preserve">&lt;xsl:choose&gt;
&lt;xsl:template name="render-header"&gt;
    &lt;!-- print a running header on left side --&gt;
    &lt;!-- print logo on right side --&gt;
&lt;/xsl:template&gt;</pre><p id="93a58f22-f501-44d1-bcdd-2d15ff8634b1d6e32">Dieses Template hat nun Vorrang und wird zur Auswertung herangezogen, mit der Konsequenz, dass der Header nur einzeilig gedruckt wird. Das schöne an diesen "Named-Templates"[[xe1:Konzepte;xe2:Named Template]] ist auch, dass man sie innerhalb von Variablen verwenden kann:</p><pre id="f745a5fa-4b2b-4fe2-81dc-2b115af53cfad7e37" xml:space="preserve">&lt;xsl:variable name="margin-width"&gt;
    &lt;xsl:call-template name="get-margin-width"/&gt;
&lt;/xsl:variable&gt;</pre><p id="dcdc2784-bb46-400d-975b-16cf6746a77cd6e37">Das Template [[code:get-margin-width]] kann in einem "Sub"-Stylesheet überschrieben werden ohne dass die Variablen-Zugriffe im Core-Stylesheet angepasst werden müssten. Eine Zuweisung, wie:</p><pre id="5fd2cdac-d4bc-4934-afbb-193da7be7371d7e41" xml:space="preserve">width="{$margin-width}"</pre><p id="699bae96-6c18-45c8-a517-4d20e0232f1cd6e43">müsste nirgendwo im Code nochmal angefasst werden.</p></section></body></topic>