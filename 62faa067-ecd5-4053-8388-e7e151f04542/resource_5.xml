<?xml version="1.0" encoding="UTF-8"?><topic id="c25b36c1-64f0-4fff-8445-8dc096e98096"><title id="877dafce-2dfe-4a6f-9483-cfe566858b83">Ausführen der Beispielqueries</title><body id="48877454-f109-4d47-9192-0575f181f939"><p id="2459f527-8e4e-4230-9966-7c387208de9b">Wie im vorherigen Kapitel beschrieben, muss in der Konsolensitzung zwischen Anlegen der Originalversion und der Aktualisierung eine Verzögerung eingebaut werden, um irgendwie das "Zeitloch" zu simulieren, in dem - wenn wir bei dem vorherigen Beispiel bleiben -  der Personalausweis als Verlust gemeldet war, aber tatsächlich schon wieder in meinem Besitz war.</p><p id="699e7bf9-bd79-4a39-be86-f018583ec67dd6e6">Ohne jetzt groß [[code:validStart]] und [[code:validEnd]] anzupassen, habe ich das Bespiel mit einer Verzögerung von 50 Sekunden lassen und bekomme folgendes Ergebnis:</p><pre id="dcafb3b6-d813-4ddd-b2dc-8dcc5f2d91abd6e8" xml:space="preserve">( xdmp:invoke-function(local:create-temporal-fields#0),
  xdmp:invoke-function(local:create-range-index-fields#0),
  xdmp:invoke-function(local:create-axes#0),
  xdmp:invoke-function(local:create-temporal-collection#0),
  xdmp:invoke-function(local:insert-original#0),
  xdmp:sleep(50000),
  xdmp:invoke-function(local:insert-update#0))</pre><p id="16e38ef6-1840-4045-a53b-c4fcf6103b4ad6e10">Mit den Dokumenten:</p><table id="c4bd0531-72dc-4551-9712-58a21abef158d6e12" pgwide="1" frame="all" scale="50" status="changed"><desc id="b2d1af39-fc7f-4e44-9782-530d25fedb59d6e13">Diese Daten wurde aus der Exploreransicht der Konsolensitzung entnommen. </desc><tgroup id="6beda97a-ee30-48e6-8026-07c2bb8ad324d6e15" cols="5"><colspec id="893fb936-28ae-4248-abd7-7d6421d961e0d6e16" colwidth="187px" colname="col0"/><colspec id="9864e857-c030-4c3c-8ffd-b4c6784b83c5d6e17" colwidth="220px" colname="col1"/><colspec id="75a2a550-972c-423e-b6ba-bbfc34889450d6e18" colwidth="222px" colname="col2"/><colspec id="b45299e7-cf64-4bb6-ac28-433c2e7ddd31d6e19" colwidth="211px" colname="col3"/><colspec id="b9b92249-83f5-4496-baff-fa0acb5fd8dbd6e20" colwidth="225px" colname="col4"/><thead id="8f9db82b-59d3-4a75-9fc9-14d0e0c34bffd6e21"><row id="8bb81055-dea3-4da3-8257-f903c5a87b2dd6e22"><entry id="002585ce-558b-4d64-a2d9-d59fda7f7317d6e23" colname="col0" width="187px"><p id="3b858260-3132-4744-822a-388757bf1ca7d6e22">Document</p></entry><entry id="0e163c68-4663-496d-b046-4c264b7ab8eed6e26" colname="col1" width="220px"><p id="96fa723c-32d1-4215-8ea6-34f4c4e8d4e0d6e28">validStart</p></entry><entry id="d760abba-add6-41de-b8f5-3f2c64d803bcd6e29" colname="col2" width="222px"><p id="f3f4d9b2-d393-47f7-88f9-f0bd49c13be2d6e34">validEnd</p></entry><entry id="e35b369b-8dfa-4e7a-9e3a-0368a826200cd6e32" colname="col3" width="211px"><p id="6738e10e-4028-4824-bd5a-2f31fc7276a9d6e37">systemStart</p></entry><entry id="078f95f0-744b-4323-ad5f-f4632c2f5285d6e35" colname="col4" width="225px"><p id="abe482e7-7fea-4484-a3bc-7838a551a318d6e40">systemEnd</p></entry></row></thead><tbody id="2bc29a5f-bc28-4ed1-9caa-95a737c42be3d6e38"><row id="7a538fef-aad6-46d1-93d0-8c8bace92650d6e39"><entry id="95f4b945-b621-47d7-bea3-c3c1aa27ce3ad6e40" colname="col0" width="187px"><p id="1c29ef78-25db-4140-b0cf-2434fe62501fd6e33">duesel_alex_270774.2462380991258156208.xml</p></entry><entry id="cbb955d3-f636-4eaa-ad08-a110163a0a91d6e43" colname="col1" width="220px"><p id="05c544a3-7bd5-4253-b5ee-67dabcabfbf4d6e51">2019-03-19T14:17:00</p></entry><entry id="ce1fbfc7-be97-436e-998b-872c67519759d6e46" colname="col2" width="222px"><p id="7b570410-dfd1-48dc-a64c-5ff7ee9f84d1d6e54"><b id="e2968d95-6b67-479c-a4bc-d962ab336dc4d6e55">unendlich</b></p></entry><entry id="81e31387-92d9-488b-800b-9b545fa15ce2d6e50" colname="col3" width="211px"><p id="f84359ce-723b-4894-9c92-ffcea49f4624d6e58">2019-03-19T13:18:28</p></entry><entry id="12b5a255-b2f0-4f44-a589-54e4d8e6198fd6e53" colname="col4" width="225px"><p id="093daa5f-3d5f-4d81-beb6-e196c438fcd5d6e61">2019-03-19T13:19:18</p></entry></row><row id="d968009e-c04a-4563-9f8b-fe58d318d691d6e56"><entry id="d2668e85-a0ae-4419-8025-1a9b12857c2bd6e57" colname="col0" width="187px"><p id="80b154da-dd44-41e9-9478-c6902e4b4bb1d6e41">duesel_alex_270774.819911042637597172.xml</p></entry><entry id="b90532f9-04ea-4669-bca8-e2946d5e4ddcd6e60" colname="col1" width="220px"><p id="865093ca-d4e5-4225-a791-45f80ad8fb7ed6e71">2019-03-19T14:17:00</p></entry><entry id="44f841f7-505d-409a-8e4d-f2197f9771a4d6e63" colname="col2" width="222px"><p id="b274b678-7150-4874-a037-23b792835749d6e74">2019-03-19T14:18:00</p></entry><entry id="a4d62cd3-bdcd-4bf3-b819-ba3d72da7f1dd6e66" colname="col3" width="211px"><p id="c41e2883-6169-491b-a011-982003d98c89d6e77">2019-03-19T13:19:18</p></entry><entry id="11371f55-ff27-421e-ab48-f59a078817e1d6e69" colname="col4" width="225px"><p id="604a1931-45e7-48e9-879c-325749779335d6e80"><b id="679a6f9d-2685-4c2f-9f04-929aa5c31d02d6e81">unendlich</b></p></entry></row><row id="a8059201-413e-4238-8bcd-f2df602add25d6e73"><entry id="66061875-7b0c-48f1-a323-4097150ff86fd6e74" colname="col0" width="187px"><p id="1a49c7fb-9c2d-420d-aaf7-12f4c3c8c11dd6e49">duesel_alex_270774.xml</p></entry><entry id="4d609eda-80db-4cc6-ab61-f50b96d8009cd6e77" colname="col1" width="220px"><p id="2d55653f-3aff-4633-ab66-6de296a620f7d6e91">2019-03-19T14:18:00</p></entry><entry id="ef458306-af47-438d-adc5-9d5c08406a0ad6e80" colname="col2" width="222px"><p id="59329648-b091-46a1-8e6a-6247f0c7c617d6e94">unendlich</p></entry><entry id="99e549b6-a046-4f2d-9d33-407c46ffe9dad6e83" colname="col3" width="211px"><p id="22c74575-6baf-4a2b-9da6-1fb880a2b15ed6e97">2019-03-19T13:19:18</p></entry><entry id="04bb025e-9827-47f2-97e2-265cf6e0a086d6e86" colname="col4" width="225px"><p id="79110572-309b-4067-8121-9f9a456f8e1cd6e100"><b id="f2bc6042-2a22-49dc-b3d4-d22591503a53d6e101">unendlich</b></p></entry></row></tbody></tgroup></table><p id="ab1286fb-98c0-432c-bf1f-60bf116968a2d6e90">Wie man sieht müsste sich jetzt das Zeitloch von 50 Sekunden der Systemzeiten innerhalb der gültigen Zeiten befinden um das Beispiel mit dem verlorenen Ausweis zumindest für die Zeitspanne von 50 Sekunden zu simulieren. Das bleibt dem geneigten Leser selbst überlassen.</p><p id="93fa189b-1802-409f-9068-931c5de96e0dd6e92">Ausgehend von dieser Tabelle nun einige Queries, die die einzelnen Dokumente zurückgeben:</p><ol id="30e90dab-44a7-48e6-82a8-a533283c44f9d6e94"><li id="d0e65db2-a4fc-4332-8905-c87a6fa6aa01d6e95"><p id="a353ce4f-6d28-4204-a1ea-03d29d08526cd6e96">Rückgabe des Originals</p><pre id="b50e0e93-d389-472a-8b9e-e852fa49d2b1d6e98" xml:space="preserve">bla</pre></li></ol></body></topic>