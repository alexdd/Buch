<html xmlns:xs="http://www.w3.org/2001/XMLSchema"><head><meta charset="utf-8"></meta><link type="text/css" rel="stylesheet" href="/editor/res/css/scrollbars.css"></link><link type="text/css" rel="stylesheet" href="/editor/res/css/tektur-editor-gui.css"></link><link type="text/css" rel="stylesheet" href="/editor/res/css/tektur-editor.css"></link><link type="text/css" rel="stylesheet" href="/editor/res/css/tektur-editor-preview.css"></link><link type="text/css" rel="stylesheet" href="/editor/res/css/tektur-editor-custom.css"></link><script type="text/javascript" src="/editor/res/js/lib/ckeditor/ckeditor.js"></script><script type="text/javascript" src="/editor/res/js/lib/jquery.js"></script><script type="text/javascript" src="/editor/res/js/lib/ckeditor/adapters/jquery.js"></script><script type="text/javascript" src="/editor/res/js/lib/FileSaver.min.js"></script><script type="text/javascript" src="/editor/res/js/lib/colResizable-1.5.min.js"></script><script type="text/javascript" src="/editor/res/js/lib/jquery-ui.min.js"></script><script type="text/javascript" src="/editor/res/js/lib/templater.js"></script><script type="text/javascript" src="/editor/src/custom.js"></script><script type="text/javascript" src="/dist/tektur-editor.js"></script></head><body><div id="edit-mode" style="display:none">1</div><div id="resource-path" style="display:none">/data/</div><div id="is-dirty" style="display:none">false</div><div class="popup" id="attributes-dialog" style="display:none"><div class="scroll-panel"><ul><li>Keine Eigenschaften</li></ul></div><div class="buttons"><button class="cancel-button">Abbrechen</button><button class="save-button">Ändern</button></div></div><div class="custom-dropdown-menu" id="attributes-select" style="display:none"><ul class="items scroll-panel"><li>dummy1</li><li>dummy2</li><li>dummy3</li></ul></div><div class="popup" id="image-dialog" style="display:none"><div class="scroll-panel"><ul><li>todo</li></ul></div><div class="buttons"><button class="cancel-button">Cancel</button><button class="save-button">Save</button></div></div><script type="text/html" id="gui_optional_tmpl"><div class="gui-optional-elements-button" contenteditable="false"><div class="menu-icon" style="display:none">+</div></div></script><script type="text/html" id="gui_multiple_tmpl"><div class="gui-multiple-elements-button" contenteditable="false"><div class="menu-icon" style="display:none">+</div></div></script><script type="text/html" id="p_tmpl"><div class="p" data-element="p"></div></script><script type="text/html" id="placeholder_text_tmpl"><div class="pmarker placeholder text" data-element="p"></div></script><script type="text/html" id="title_tmpl"><div class="title" data-element="title"></div></script><script type="text/html" id="table_tmpl"><% if(mode == "normal") { %><div data-element="table" class="table show_menu" style="display:none" data-attribute-pgwide="0" data-attribute-frame="all"><div data-element="desc" style="display:none" class="pmarker desc optional placeholder text"></div><table data-element="tgroup" width="100%" cols="0"><colgroup><% for(var i=count2; i>0; i--) { %><col data-colname="set-me"></col><% } %></colgroup><thead data-element="thead"><tr class="row" data-element="row"><% for(var i=count2; i>0; i--) { %><td valign="top" class="entry" data-element="entry"><div class="pmarker placeholder text" data-element="p"></div></td><% } %></tr></thead><tbody data-element="tbody"><% for(var j=count1; j>0; j--) { %><tr class="row" data-element="row"><% for(var i=count2; i>0; i--) { %><td valign="top" class="entry" data-element="entry"><div class="pmarker placeholder text" data-element="p"></div></td><% } %></tr><% } %></tbody></table><div data-element="title" class="pmarker title optional placeholder text" style="display:none"></div></div><div class="pmarker placeholder text" data-element="p"></div><% } else { %><div data-element="simpletable" class="table show_menu" style="display:none"><table width="100%"><tr class="sthead" data-element="sthead"><% for(var i=count2; i>0; i--) { %><td valign="top" class="stentry" data-element="stentry"><div class="pmarker placeholder text" data-element="p"></div></td><% } %></tr><% for(var j=count1; j>0; j--) { %><tr class="strow" data-element="strow"><% for(var i=count2; i>0; i--) { %><td valign="top" class="stentry" data-element="stentry"><div class="pmarker placeholder text" data-element="p"></div></td><% } %></tr><% } %></table></div><div class="pmarker placeholder text" data-element="p"></div><% } %></script><script type="text/html" id="row_tmpl"><tr class="row" data-element="row"><% for(var i=count1; i>0; i--) { %><td valign="top" class="entry" data-element="entry"><div class="pmarker placeholder text" data-element="p"></div></td><% } %></tr></script><script type="text/html" id="strow_tmpl"><tr class="row" data-element="strow"><% for(var i=count1; i>0; i--) { %><td valign="top" class="entry" data-element="stentry"><div class="pmarker placeholder text" data-element="p"></div></td><% } %></tr></script><script type="text/html" id="sthead_tmpl"><tr class="row" data-element="sthead"><% for(var i=count1; i>0; i--) { %><td valign="top" class="entry" data-element="stentry"><div class="pmarker placeholder text" data-element="p"></div></td><% } %></tr></script><script type="text/html" id="entry_tmpl"><td class="entry" data-element="entry" valign="top" width="20%"><div class="pmarker placeholder text" data-element="p"></div></td></script><script type="text/html" id="stentry_tmpl"><td class="entry" data-element="stentry" valign="top"><div class="pmarker placeholder text" data-element="p"></div></td></script><script type="text/html" id="dl_tmpl"><table class="dl show_menu" data-element="dl" width="100%" style="display:none"><tbody><tr class="dlhead" data-element="dlhead"><th valign="top" class="dthd" data-element="dthd" width="30%"><div class="pmarker placeholder text" data-element="p"></div></th><th valign="top" class="ddhd" data-element="ddhd" width="70%"><div class="pmarker placeholder text" data-element="p"></div></th></tr><tr class="dlentry" data-element="dlentry"><td valign="top" class="dt" data-element="dt"><div class="pmarker placeholder text tektur-wrapper" data-element="p"></div></td><td valign="top" class="dd" data-element="dd"><div class="pmarker placeholder  text" data-element="p"></div></td></tr></tbody></table><div class="pmarker placeholder text" data-element="p"></div></script><script type="text/html" id="dlentry_tmpl"><tr class="dlentry" data-element="dlentry"><td valign="top" class="dt" data-element="dt"><div class="pmarker placeholder  text tektur-wrapper" data-element="p"></div></td><td valign="top" class="dd" data-element="dd"><div class="pmarker placeholder text" data-element="p"></div></td></tr></script><script type="text/html" id="ol_tmpl"><ol data-element="ol" style="display:none"><li class="li" data-element="li"><div class="p pmarker" data-element="p"></div></li></ol><div class="pmarker placeholder text" data-element="p"></div></script><script type="text/html" id="ul_tmpl"><ul data-element="ul" style="display:none"><li class="li" data-element="li"><div class="p pmarker" data-element="p"></div></li></ul><div class="pmarker placeholder text" data-element="p"></div></script><script type="text/html" id="li_tmpl"><li class="li" data-element="li"><div class="p  pmarker" data-element="p"></div></li></script><script type="text/html" id="section_tmpl"><div class="section optional show_menu" data-element="section"><div data-element="title" class="pmarker title"></div><div class="pmarker placeholder text" data-element="p"></div></div></script><script type="text/html" id="pre_tmpl"><div class="pre"><div class="pre-content pmarker" data-element="pre"></div></div><div class="placeholder text pmarker" data-element="p"></div></script><script type="text/html" id="fig_tmpl"><div class="fig show_menu" data-element="fig" style="display:none"><div data-element="desc" class="pmarker placeholder desc optional  text placeholder-forced" style="display:none"></div><img style="display:block" class="image" data-element="image" src="test.jpg" data-attribute-xr_oid-ref="dummy"></img><div class="image" data-element="image" data-attribute-href="test.jpg" style="display:none"></div><div data-element="title" class="pmarker title optional placeholder text placeholder-forced" style="display:none"></div><table class="legend optional show_menu" data-element="legend" width="100%" style="display:none"><tbody><tr class="legentry" data-element="legentry"><td valign="top" class="leg-pos" data-element="leg-pos" width="10%"><div class="pmarker placeholder text" data-element="p"></div></td><td valign="top" class="leg-name" data-element="leg-name" width="90%"><div class="pmarker placeholder text" data-element="p"></div></td></tr></tbody></table></div><div class="placeholder text pmarker" data-element="p"></div></script><script type="text/html" id="legentry_tmpl"><tr class="legentry" data-element="legentry"><td valign="top" class="leg-pos" data-element="leg-pos" width="10%"><div class="placeholder text pmarker" data-element="p"></div></td><td valign="top" class="leg-name" data-element="leg-name" width="90%"><div class="placeholder text pmarker" data-element="p"></div></td></tr></script><script type="text/html" id="hazardstatement_tmpl"><div data-element="hazardstatement" data-attribute-type="warning" data-ommited="messagepanel" style="display:none" class="show_menu"><div class="Warning container"><div class="signal-word">WARNING</div><div class="hcontent"><div class="typeofhazard" data-element="typeofhazard"><div class="pmarker p tektur-wrapper placeholder text" data-element="p"></div></div><div class="consequence multiple optional" data-element="consequence" style="display:none"><div class="pmarker p tektur-wrapper placeholder text" data-element="p"></div></div><div class="howtoavoid multiple" data-element="howtoavoid"><div class="pmarker p tektur-wrapper placeholder text" data-element="p"></div></div></div></div></div><div class="placeholder text pmarker" data-element="p"></div></script><script type="text/html" id="typeofhazard_tmpl"><div class="typeofhazard" data-element="typeofhazard"><div class="pmarker p tektur-wrapper placeholder text" data-element="p"></div></div></script><script type="text/html" id="consequence_tmpl"><div class="consequence multiple optional" data-element="consequence" style="display:none"><div class="pmarker p tektur-wrapper placeholder text" data-element="p"></div></div></script><script type="text/html" id="howtoavoid_tmpl"><div class="howtoavoid multiple" data-element="howtoavoid"><div class="pmarker p tektur-wrapper placeholder text" data-element="p"></div></div></script><script type="text/html" id="note_tmpl"><div data-element="note" style="display:none" class="show_menu"><div class="Note"><div class="signal-word">NOTE</div><div class="hcontent"><div class="pmarker placeholder text" data-element="p"></div></div></div></div><div class="pmarker placeholder text" data-element="p"></div></script><script type="text/html" id="steps_tmpl"><ol data-element="steps" style="display:none" class="steps optional"><div class="placeholder element show_menu tektur-wrapper" data-element="placeholder-element" data-optional="stepsection"><div class="stepsection optional" data-element="stepsection" style="display:none" data-not="note|hazardstatement|table"><div class="pmarker placeholder text" data-element="p"></div></div></div><li data-element="step" class="step show_menu special"><div class="pmarker cmd placeholder text implied" data-element="cmd" data-before="note|hazardstatement" data-text-placeholder="no"></div><ol class="substeps optional multiple" data-element="substeps" style="display:none"><li data-element="substep" class="substep show_menu special"><div class="pmarker cmd placeholder text implied" data-element="cmd" data-before="note|hazardstatement" data-text-placeholder="no"></div><div class="info optional show_menu" data-element="info" style="display:none"><div class="pmarker placeholder text" data-element="p"></div></div><div class="stepresult optional show_menu" data-element="stepresult" style="display:none"><table><tr><td class="symbol" valign="top">▷</td><td class="result-content"><div class="pmarker placeholder text" data-element="p"></div></td></tr></table></div></li></ol><ul class="choices optional multiple" data-element="choices" style="display:none"><li class="choice" data-element="choice"><div class="pmarker placeholder text" data-element="p"></div></li></ul><table style="display:none" data-element="choicetable" width="100%" class="choicetable optional show_menu"><tbody><tr class="chhead" data-element="chhead"><th valign="top" class="choptionhd" data-element="choptionhd" width="50%"><div class="plaseholder text" data-element="p"></div></th><th valign="top" class="chdeschd" data-element="chdeschd" width="50%"><div class="pmarker placeholder text" data-element="p"></div></th></tr><tr class="chrow" data-element="chrow"><td valign="top" class="choption" data-element="choption" width="50%"><div class="pmarker placeholder text" data-element="p"></div></td><td valign="top" class="chdesc" data-element="chdesc" width="50%"><div class="pmarker placeholder text" data-element="p"></div></td></tr></tbody></table><div class="info optional show_menu" data-element="info" style="display:none"><div class="pmarker placeholder text" data-element="p"></div></div><div class="stepresult optional show_menu" data-element="stepresult" style="display:none"><table><tr><td class="symbol" valign="top">▷</td><td class="result-content"><div class="pmarker placeholder text" data-element="p"></div></td></tr></table></div></li></ol></script><script type="text/html" id="substeps_tmpl"><ol data-element="substeps" style="display:none" class="substeps multiple optional"><li data-element="substep" class="substep show_menu special"><div class="pmarker cmd placeholder text implied" data-element="cmd" data-before="note|hazardstatement" data-text-placeholder="no"></div><div class="info optional show_menu" data-element="info" style="display:none"><div class="pmarker placeholder text" data-element="p"></div></div><div class="stepresult optional show_menu" data-element="stepresult" style="display:none"><table><tr><td class="symbol" valign="top">▷</td><td class="result-content"><div class="pmarker placeholder text" data-element="p"></div></td></tr></table></div></li></ol></script><script type="text/html" id="choice_tmpl"><li class="choice" data-element="choice"><div class="pmarker placeholder text" data-element="p"></div></li></script><script type="text/html" id="info_tmpl"><div class="info optional show_menu" data-element="info"><div class="pmarker placeholder text" data-element="p"></div></div></script><script type="text/html" id="stepresult_tmpl"><div class="stepresult optional show_menu" data-element="stepresult" style="display:none"><table><tr><td class="symbol" valign="top">▷</td><td class="result-content"><div class="pmarker placeholder text" data-element="p"></div></td></tr></table></div></script><script type="text/html" id="result_tmpl"><div class="result optional show_menu" data-element="result" style="display:none"><table><tr><td class="symbol" valign="top">▷</td><td class="result-content"><div class="pmarker placeholder text" data-element="p"></div></td></tr></table></div></script><script type="text/html" id="choicetable_tmpl"><table style="display:none" data-element="choicetable" width="100%" class="choicetable optional show_menu"><tbody><tr class="chhead" data-element="chhead"><th valign="top" class="choptionhd" data-element="choptionhd" width="50%"><div class="pmarker plaseholder text" data-element="p"></div></th><th valign="top" class="chdeschd" data-element="chdeschd" width="50%"><div class="pmarker placeholder text" data-element="p"></div></th></tr><tr class="chrow" data-element="chrow"><td valign="top" class="choption" data-element="choption" width="50%"><div class="pmarker placeholder text" data-element="p"></div></td><td valign="top" class="chdesc" data-element="chdesc" width="50%"><div class="pmarker placeholder text" data-element="p"></div></td></tr></tbody></table></script><script type="text/html" id="choices_tmpl"><ul class="choices optional multiple" data-element="choices" style="display:none"><li class="choice" data-element="choice"><div class="pmarker placeholder text" data-element="p"></div></li></ul></script><script type="text/html" id="step_tmpl"><li data-element="step" class="step show_menu special"><div class="pmarker cmd placeholder text implied" data-element="cmd" data-before="note|hazardstatement" data-text-placeholder="no"></div><ol class="substeps optional multiple" data-element="substeps" style="display:none"><li data-element="substep" class="substep show_menu special"><div class="pmarker cmd placeholder text implied" data-element="cmd" data-before="note|hazardstatement" data-text-placeholder="no"></div><div class="info optional show_menu" data-element="info" style="display:none"><div class="pmarker placeholder text" data-element="p"></div></div><div class="stepresult optional show_menu" data-element="stepresult" style="display:none"><table><tr><td class="symbol" valign="top">▷</td><td class="result-content"><div class="pmarker placeholder text" data-element="p"></div></td></tr></table></div></li></ol><ul class="choices optional multiple" data-element="choices" style="display:none"><li class="choice" data-element="choice"><div class="pmarker placeholder text" data-element="p"></div></li></ul><table style="display:none" data-element="choicetable" width="100%" class="choicetable optional show_menu"><tbody><tr class="chhead" data-element="chhead"><th valign="top" class="choptionhd" data-element="choptionhd" width="50%"><div class="plaseholder text" data-element="p"></div></th><th valign="top" class="chdeschd" data-element="chdeschd" width="50%"><div class="pmarker placeholder text" data-element="p"></div></th></tr><tr class="chrow" data-element="chrow"><td valign="top" class="choption" data-element="choption" width="50%"><div class="pmarker placeholder text" data-element="p"></div></td><td valign="top" class="chdesc" data-element="chdesc" width="50%"><div class="pmarker placeholder text" data-element="p"></div></td></tr></tbody></table><div class="info optional show_menu" data-element="info" style="display:none"><div class="pmarker placeholder text" data-element="p"></div></div><div class="stepresult optional show_menu" data-element="stepresult" style="display:none"><table><tr><td class="symbol" valign="top">▷</td><td class="result-content"><div class="pmarker placeholder text" data-element="p"></div></td></tr></table></div></li></script><script type="text/html" id="substep_tmpl"><li data-element="substep" class="substep show_menu special"><div class="pmarker cmd placeholder text implied" data-element="cmd" data-before="note|hazardstatement" data-text-placeholder="no"></div><div class="info optional show_menu" data-element="info" style="display:none"><div class="pmarker placeholder text" data-element="p"></div></div><div class="stepresult optional show_menu" data-element="stepresult" style="display:none"><table><tr><td class="symbol" valign="top">▷</td><td class="result-content"><div class="pmarker placeholder text" data-element="p"></div></td></tr></table></div></li></script><script type="text/html" id="chrow_tmpl"><tr class="chrow" data-element="chrow"><td valign="top" class="choption" data-element="choption" width="50%"><div class="pmarker placeholder p" data-element="p"></div></td><td valign="top" class="chdesc" data-element="chdesc" width="50%"><div class="pmarker placeholder p" data-element="p"></div></td></tr></script><script type="text/html" id="postreq_tmpl"><div data-element="postreq" class="postreq optional show_menu" style="display:none"><div class="pmarker placeholder text" data-element="p"></div></div></script><script type="text/html" id="prereq_tmpl"><div data-element="prereq" class="prereq optional show_menu" style="display:none"><div class="pmarker placeholder text" data-element="p"></div></div></script><script type="text/html" id="context_tmpl"><div data-element="context" class="context optional show_menu" style="display:none"><div class="pmarker placeholder text" data-element="p"></div></div></script><script type="text/html" id="stepsection_tmpl"><div class="placeholder element show_menu tektur-wrapper" data-element="placeholder-element" data-optional="stepsection"><div class="stepsection optional" data-element="stepsection" style="display:none" data-not="note|hazardstatement|pre|table"><div class="pmarker placeholder text" data-element="p"></div></div></div></script><script type="text/html" id="legend_tmpl"><table class="legend optional show_menu" data-element="legend" width="100%" style="display:none"><tbody><tr class="legentry" data-element="legentry"><td valign="top" class="leg-pos" data-element="leg-pos" width="10%"><div class="pmarker placeholder text" data-element="p"></div></td><td valign="top" class="leg-name" data-element="leg-name" width="90%"><div class="pmarker placeholder text" data-element="p"></div></td></tr></tbody></table></script><script type="text/html" id="shortdesc_tmpl"><div class="pmarker shortdesc optional placeholder text" data-element="shortdesc" data-excluding="abstract"></div></script><script type="text/html" id="abstract_tmpl"><div class="abstract optional show_menu" data-element="abstract" data-excluding="shortdesc" style="display:none"><div class="pmarker placeholder text" data-element="p"></div></div></script><script type="text/html" id="icon_tmpl"><span class="icon" data-element="image" data-attribute-href="test.jpg"><img style="display:inline" class="icon" data-element="image" src="test.jpg" data-attribute-xr_oid-ref="dummy"></img></span></script><div id="scroll-area"><div id="toolbar"><table><tr><td><img style="display:none" id="save-icon" title="not-used"></img></td><td><div><img id="undo-icon" src="/editor/res/icons/undo.png" title="Undo"></img></div></td><td><div><img id="redo-icon" src="/editor/res/icons/redo.png" title="Redo"></img></div></td><td class="spacer"><div><img id="import-text-icon" src="/editor/res/icons/paste.png" title="Import Text Content"></img></div></td><td class="spacer"><div><img id="swap-icon" src="/editor/res/icons/arrow_up.png" title="Move Up"></img></div></td><td><div><img id="movedown-icon" src="/editor/res/icons/arrow_down.png" title="Move Down"></img></div></td><td class="spacer"><div><img id="bold-icon" src="/editor/res/icons/bold-text.png" title="Set Bold Text"></img></div></td><td><div><img id="italic-icon" src="/editor/res/icons/italics.png" title="Set Italics Text"></img></div></td><td><div><img id="underline-icon" src="/editor/res/icons/undelined.png" title="Set Underlined Text"></img></div></td><td><div><img id="sup-icon" src="/editor/res/icons/superscript.png" title="Set Superscript Text"></img></div></td><td><div><img id="sub-icon" src="/editor/res/icons/subscript.png" title="Set Subscript Text"></img></div></td><td class="spacer"><div><img id="ul-icon" src="/editor/res/icons/bullets.png" title="Set Bulleted List"></img></div></td><td><div><img id="ol-icon" src="/editor/res/icons/numbering.png" title="Set Numbered List"></img></div></td><td><div><img id="dl-icon" src="/editor/res/icons/definitionlist.png" title="Set Definition-List"></img></div></td><td><div><img id="fig-icon" src="/editor/res/icons/insert-picture.png" title="Insert Figure"></img></div></td><td><div><img id="icon-icon" src="/editor/res/icons/insert-icon.png" title="Insert Icon"></img></div></td><td><div><img id="table-icon" src="/editor/res/icons/table.png" title="Insert Table"></img></div></td><td style="display:none"><div></div></td><td><div><img id="hazardstatement-icon" src="/editor/res/icons/caution.png" title="Insert Hazardstatement"></img></div></td><td><div><img id="note-icon" src="/editor/res/icons/note.png" title="Insert Note"></img></div></td><td><div><img id="pre-icon" src="/editor/res/icons/code.png" title="Insert Code"></img></div></td><td><div><img id="section-icon" src="/editor/res/icons/new_section.png" title="Insert Section"></img></div></td><td><div><img id="link-icon" src="/editor/res/icons/link.png" title="Insert Link"></img></div></td><td class="spacer" style="display:none"><div></div></td><td style="display:none"><div></div></td><td style="display:none"><div></div></td><td style="display:none"><div></div></td><td style="display:none"><div></div></td><td style="display:none"><div></div></td></tr></table></div><div id="breadcrumbs"></div><div id="table-button-panel" style="display:none;position:fixed;right: 8px;top:90px;background-color:white;"><div style="margin-bottom:10px"><button type="button" id="debug-button-1" style="background-color:white;">Button-1</button></div><div style="margin-bottom:10px"><button type="button" id="debug-button-2" style="background-color:white;">Button-2</button></div><div style="margin-bottom:10px"><button type="button" id="debug-button-3" style="background-color:white;">Button-3</button></div><div style="margin-bottom:10px"><button type="button" id="debug-button-4" style="background-color:white;">Button-4</button></div><div style="margin-bottom:10px"><button type="button" id="debug-button-5" style="background-color:white;">Button-5</button></div><div style="margin-bottom:10px"><button type="button" id="debug-button-6" style="background-color:white;">Button-6</button></div><div style="margin-bottom:10px"><button type="button" id="debug-button-7" style="background-color:white;">Button-7</button></div><div style="margin-bottom:10px"><button type="button" id="debug-button-8" style="background-color:white;">Button-8</button></div><div style="margin-bottom:10px"><button type="button" id="debug-button-9" style="background-color:white;">Button-9</button></div><div style="margin-bottom:10px"><button type="button" id="debug-button-10" style="background-color:white;">Button-10</button></div><div style="margin-bottom:10px"><button type="button" id="debug-button-11" style="background-color:white;">Button-11</button></div><div style="margin-bottom:10px"><button type="button" id="debug-button-12" style="background-color:white;">Button-12</button></div><div style="margin-bottom:10px"><button type="button" id="debug-button-13" style="background-color:white;">Button-13</button></div><div style="margin-bottom:10px"><button type="button" id="debug-button-14" style="background-color:white;">Button-14</button></div><div style="margin-bottom:10px"><button type="button" id="debug-button-15" style="background-color:white;">Button-15</button></div><div style="margin-bottom:10px"><button type="button" id="debug-button-16" style="background-color:white;">Button-16</button></div></div><div id="content"><div data-attribute-id="9d32e957-a332-40f5-bcbd-52fd6ed7f7da" class="topic show_menu" data-element="topic" data-deletable="false"><div data-attribute-id="a693fc99-5e16-4788-95a0-958870aa845a" class="title" data-element="title">Validierung mit Schematron</div><div class="abstract optional show_menu" data-element="abstract" data-excluding="shortdesc" style="display:none"><div class="placeholder text" data-element="p"></div></div><div data-attribute-id="4db49812-1821-437b-a489-45eacebddee0" class="body show_menu" data-element="body" data-deletable="false"><div class="section tektur-wrapper" data-element="section"><div xmlns:xr="http://www.tekturcms.de/2012/xr/common" xmlns:xlink="http://www.w3.org/1999/xlink" data-attribute-id="4e6cde2f-795e-42a2-97a3-67b0c72db22a" class="p" data-element="p">Um die Korrektheit einer XML Instanz zu prüfen, gib es verschiedene Schemata, wie <span data-attribute-id="1b1e16f2-2524-4a1a-b2ac-31a8787e79e8d7e6" class="b" data-element="b">XSD</span>, <span data-attribute-id="f2299966-f1c1-41e8-89c0-1759064028e7d7e9" class="b" data-element="b">RNG</span> oder <span data-attribute-id="f70cec2b-acf3-4544-8d6f-6ad74057f80ad7e12" class="b" data-element="b">DTD</span>[[xe1:Schemata]], welche der Parser beim Aufbau des DOM Baums heranzieht. Eine Validierung[[xe1:Verarbeitungsmethoden;xe2:Validierung]] mit Apache Xerces könnte beispielsweise als Java Code[[xe1:Programmiersprachen;xe2:Java]] folgendermaßen angestossen werden:</div><div class="pre"><div data-attribute-id="04b70b86-8b49-4bd3-8872-26472e2d1668d7e15" data-attribute-xml_space="preserve" class="pre-content" data-element="pre">URL schemaFile = new URL("http://host:port/filename.xsd");
Source xmlFile = new StreamSource(new File("web.xml"));
SchemaFactory schemaFactory = SchemaFactory
    .newInstance(XMLConstants.W3C_XML_SCHEMA_NS_URI);
try {
  Schema schema = schemaFactory.newSchema(schemaFile);
  Validator validator = schema.newValidator();
  validator.validate(xmlFile);
  System.out.println(xmlFile.getSystemId() + " is valid");
} catch (SAXException e) {
  System.out.println(xmlFile.getSystemId() + " is NOT valid reason:" + e);
} catch (IOException e) {</div></div><div class="placeholder text" data-element="p"></div><div xmlns:xr="http://www.tekturcms.de/2012/xr/common" xmlns:xlink="http://www.w3.org/1999/xlink" data-attribute-id="e0f8f3a8-ac48-4040-aa61-6d98bf685133d6e8" class="p" data-element="p">Schema Dateien können aber auch in XML Editoren eingebunden werden, um schon während der Eingabe der XML Instanz die Korrektheit zu überprüfen. </div><div xmlns:xr="http://www.tekturcms.de/2012/xr/common" xmlns:xlink="http://www.w3.org/1999/xlink" data-attribute-id="3920a1e6-ddfe-499f-997b-33b7b330ae55d6e10" class="p" data-element="p">Das geht einerseits über die Angabe des Doctypes in der XML Instanz, anderseits bieten auch alle Editoren die Möglichkeit ein bestimmtes Schema explizit auszuwählen, um gegen dieses auf Anforderung zu validieren.</div><div xmlns:xr="http://www.tekturcms.de/2012/xr/common" xmlns:xlink="http://www.w3.org/1999/xlink" data-attribute-id="0c8bf04d-6ef7-4b2b-9e36-3c115fdf5657d6e10" class="p" data-element="p">Gilt es komplexere Businessregeln zu überprüfen, die über Syntax-, Konsistenz- und einfache Korrektheitschecks hinausgehen, empfiehlt sich eine Validierung mit Schematron Regeln.</div><div class="placeholder text" data-element="p"></div></div><div data-element="section" class="section optional show_menu"><div data-attribute-id="c802dd14-5953-4c24-8637-f7552d107e57d6e13" class="title" data-element="title">Schematron ist XSLT</div><div xmlns:xr="http://www.tekturcms.de/2012/xr/common" xmlns:xlink="http://www.w3.org/1999/xlink" data-attribute-id="c7d6f54a-c183-4238-8fcd-65258833ebd9d6e15" class="p" data-element="p">Bei einer Schematron Validierung wird eine XML Instanz mit Hilfe eines automatisch generierten XSLT Stylesheets überprüft. Dieses kontextabhängige Stylesheet wird aus einer in der Schematron Syntax vom Autor verfassten Regelbasis, die wiederum in XML vorliegt, über ein zweites XSLT Stylesheet generiert - Dieses zweite XSLT Stylesheet ist sozusagen das eigentliche Schematron Programm. </div><div xmlns:xr="http://www.tekturcms.de/2012/xr/common" xmlns:xlink="http://www.w3.org/1999/xlink" data-attribute-id="ca8d184a-924b-4ea6-bdab-3340c1bde072d6e19" class="p" data-element="p">Das folgende Diagramm veranschaulicht die Vorgehensweise anhand eines Filter-Szenarios[[xe1:Verarbeitungsmethoden;xe2:Filter-Szenario]], bei dem ein XML Dokument mit einigen ungültigen Passagen in eine gefilterte Darstellung überführt wird.</div> |   |                                                    Rejected by , .       <div data-attribute-id="7b4d6915-e9d8-4db0-a65a-6b014e30d70cd6e21" class="fig show_menu" data-element="fig"><div class="desc optional" data-element="desc">Einfacher Batch-Prozess zur Validierung mit Schematron und anschliessendem Filtern der Ergebnisse</div><img class="image" style="display:block" data-element="image" src="schematron.svg"></img><div class="image" data-element="image" style="display:none" data-attribute-id="f0f0adf5-2746-4636-9318-f335053437b8d7e36" data-attribute-href="schematron.svg"></div><div class="title optional" data-element="title">Schematron Validierung mit Filter</div><table class="legend optional show_menu" data-element="legend" width="100%" style="display:none"><tbody><tr class="legentry" data-element="legentry"><td valign="top" class="leg-pos" data-element="leg-pos" width="10%"><div class="pmarker placeholder text" data-element="p"></div></td><td valign="top" class="leg-name" data-element="leg-name" width="90%"><div class="pmarker placeholder text" data-element="p"></div></td></tr></tbody></table></div><div class="placeholder text" data-element="p"></div><div xmlns:xr="http://www.tekturcms.de/2012/xr/common" xmlns:xlink="http://www.w3.org/1999/xlink" data-attribute-id="4e1ec9a6-9a1a-470b-9e86-2708788be97bd6e19" class="p" data-element="p">Zu finden ist das [[link]]Schematron Repo auf Github[[fn:https://github.com/Schematron/schematron*Schematron auf GitHub]]. Dieses Repo ist etwas unübersichtlich. Der relevante Teil des Sourcecodes befindet sich unter: [[code:schematron/code]]</div></div><div data-element="section" class="section optional show_menu"><div data-attribute-id="0cc5ca05-4506-44eb-981b-f74a156e6da0d6e20" class="title" data-element="title">CLI Verwendung</div><div xmlns:xr="http://www.tekturcms.de/2012/xr/common" xmlns:xlink="http://www.w3.org/1999/xlink" data-attribute-id="3f68c067-cd95-4b41-b51b-c594057af29fd6e22" class="p" data-element="p">Um die Schematron XSLT Skripte in eine eigene XSLT Anwendung per Kommandozeile einzubinden, könnte man folgendermassen vorgehen: </div><ul data-attribute-id="368e46b4-2935-46d4-b297-b69ea1f184f9d6e28" class="ul" data-element="ul"><li data-attribute-id="beaa7b40-6b08-40a3-b2ba-0adb6c981fe8d6e29" class="li" data-element="li"><div xmlns:xr="http://www.tekturcms.de/2012/xr/common" xmlns:xlink="http://www.w3.org/1999/xlink" data-attribute-id="59142162-ceef-41df-a800-9a82f41eaff6d6e30" class="p" data-element="p">Im eigenen GIT Projekt das Schematron Projekt als Submodule referenzieren.</div></li><li data-attribute-id="9b6d2a32-4852-4160-b41b-862d27c79eb6d6e32" class="li" data-element="li"><div xmlns:xr="http://www.tekturcms.de/2012/xr/common" xmlns:xlink="http://www.w3.org/1999/xlink" data-attribute-id="8a62a1b3-7fee-435a-bf97-c1948afb372ed6e33" class="p" data-element="p">Eine Regelbasis anlegen, beispielsweise [[code:$project_name.sch]].</div></li><li data-attribute-id="0ae25d42-35fb-4e22-8244-0339392cfbe1d6e38" class="li" data-element="li"><div xmlns:xr="http://www.tekturcms.de/2012/xr/common" xmlns:xlink="http://www.w3.org/1999/xlink" data-attribute-id="eab4b247-bdc0-4465-bc93-a032e7705a07d6e39" class="p" data-element="p">Zwei Batch-Skripte anlegen, beispielsweise [[code:generate_schema.sh]] und [[code:validate.sh]].</div></li></ul><div class="placeholder text" data-element="p"></div><div xmlns:xr="http://www.tekturcms.de/2012/xr/common" xmlns:xlink="http://www.w3.org/1999/xlink" data-attribute-id="998bb486-7c42-4af2-8e5b-0e85e56dc38ad6e50" class="p" data-element="p">Mittels des Skripts [[code:generate_schema.sh]] wird aus der Schematron Regelbasis das Schematron XSLT Stylesheet generiert. Der Inhalt dieser Batchdatei könnte zum Beispiel so aussehen:</div><div class="pre"><div data-attribute-id="458c3244-e5e8-48f5-a549-21b224542ab6d7e56" data-attribute-xml_space="preserve" class="pre-content" data-element="pre">saxon $script_dir/$project_name_validation.sch $script_dir/schematron/iso_dsdl_include.xsl
 | \ saxon -s:- $script_dir/schematron/iso_abstract_expand.xsl | \
saxon -s:- $script_dir/schematron/iso_svrl_for_xslt2.xsl \
  <span data-attribute-id="bf02c5f0-b12f-4646-a448-7f30126397fad6e57" class="b" data-element="b">generate-fired-rule</span>=false &gt; $script_dir/$project_name_validation.xsl</div></div><div class="placeholder text" data-element="p"></div><div xmlns:xr="http://www.tekturcms.de/2012/xr/common" xmlns:xlink="http://www.w3.org/1999/xlink" data-attribute-id="7be99f5c-fe71-459c-8ddf-9f08385e9169d6e54" class="p" data-element="p">Der Prozess zum Erzeugen des projektspezifischen Validerungs-XSLT-Skripts ist dreistufig und wird über die folgenden XSLT Schritte abgearbeitet.</div><ul data-attribute-id="9d6e90b6-c296-482a-a1e2-77c4b31d6a65d6e56" class="ul" data-element="ul"><li data-attribute-id="45781342-3ecf-42ae-8ab6-5ac71b0f4ff9d6e57" class="li" data-element="li"><div xmlns:xr="http://www.tekturcms.de/2012/xr/common" xmlns:xlink="http://www.w3.org/1999/xlink" data-attribute-id="eb1a9bae-260a-4106-b5c9-b6851fdd2ba1d6e58" class="p" data-element="p">[[code:iso_dsdl_include.xsl]]</div></li><li data-attribute-id="7e655fce-dd9b-45b7-b7ed-a70107e495f8d6e60" class="li" data-element="li"><div xmlns:xr="http://www.tekturcms.de/2012/xr/common" xmlns:xlink="http://www.w3.org/1999/xlink" data-attribute-id="a82297e3-5906-4320-99eb-713788e3b883d6e61" class="p" data-element="p">[[code:iso_abstract_expand.xsl]]</div></li><li data-attribute-id="8080fd50-b3ca-4df8-a4cf-06ac1f27971dd6e63" class="li" data-element="li"><div xmlns:xr="http://www.tekturcms.de/2012/xr/common" xmlns:xlink="http://www.w3.org/1999/xlink" data-attribute-id="cab1d34a-07d6-4707-8cfd-1a22273d0703d6e64" class="p" data-element="p">[[code:iso_svrl_for_xslt2.xsl]]</div></li></ul><div class="placeholder text" data-element="p"></div><div xmlns:xr="http://www.tekturcms.de/2012/xr/common" xmlns:xlink="http://www.w3.org/1999/xlink" data-attribute-id="315b3655-c795-42e1-908a-769f2ca0b68cd6e66" class="p" data-element="p">Herauszufinden, was in diesen Skripten passiert, sei dem geneigten Leser selbst überlassen. Uns interessiert an dieser Stelle nur das Resultat, nämlich das XSLT Stylesheet [[code:$project_name_validation.xsl]].</div><div xmlns:xr="http://www.tekturcms.de/2012/xr/common" xmlns:xlink="http://www.w3.org/1999/xlink" data-attribute-id="a226a2f6-4408-401b-b164-9ee358f8bd09d6e76" class="p" data-element="p">Dieses Skript wird in der Batchdatei [[code:validate.sh]] aufgerufen:</div><div class="pre"><div data-attribute-id="fbff61a8-b17c-46be-8ce6-bdb050aab73dd7e77" data-attribute-xml_space="preserve" class="pre-content" data-element="pre">saxon $xml_instance_to_check.xml $script_dir/$project_name_validation.xsl \
  &gt; $validation-result.xml</div></div><div class="placeholder text" data-element="p"></div><div xmlns:xr="http://www.tekturcms.de/2012/xr/common" xmlns:xlink="http://www.w3.org/1999/xlink" data-attribute-id="bd569a63-55f0-4524-bb53-0d3eeb1bdb59d6e83" class="p" data-element="p">Die Ausgabe dieses Prüfprozesses ist eine XML Datei mit den Fehlern in der Eingabe-XML-Instanz, die weiterverarbeitet werden kann, beispielsweise als Filterkriterium für einen nachfolgenden Prozessschritt. Ihr Inhalt dieser Datei sieht z.B. wie folgt aus:</div><div class="pre"><div data-attribute-id="d91b6b4b-7f8b-4616-b234-57e6d9f071cbd7e82" data-attribute-xml_space="preserve" class="pre-content" data-element="pre">&lt;svrl:schematron-output xmlns:svrl="http://purl.oclc.org/dsdl/svrl" [...]
  &lt;svrl:active-pattern document="file:/Users/alex/xml_instance_to_check.xml" 
   id="default" name="default"/&gt;
  &lt;svrl:failed-assert test="count(key('unique-ids', current()))=1"&gt;
    &lt;svrl:text&gt;ID is not unique!&lt;/svrl:text&gt;
    &lt;svrl:diagnostic-reference diagnostic="default"&gt;
      &lt;bk:id xmlns:bk="http://tekturcms/namespaces/book"&gt;1234-5678-9&lt;/my:id&gt;
    &lt;/svrl:diagnostic-reference&gt;
  &lt;/svrl:failed-assert&gt;
  [...]</div></div><div class="placeholder text" data-element="p"></div><div xmlns:xr="http://www.tekturcms.de/2012/xr/common" xmlns:xlink="http://www.w3.org/1999/xlink" data-attribute-id="62973ac6-dca8-47cf-b4aa-8e5b6c4242a6d6e88" class="p" data-element="p">Neben den [[code:svrl:failed-assert]] Elementen, die angeben, was bei der überprüften XML-Instanz fehlgeschlagen ist, gibt es auch die Möglichkeit sich positive Ergebnisse anzeigen zu lassen - über das Element [[code:svrl:successful-report]].</div><div xmlns:xr="http://www.tekturcms.de/2012/xr/common" xmlns:xlink="http://www.w3.org/1999/xlink" data-attribute-id="a939cc7b-99b0-401a-8bc5-5b0c0f41882cd6e100" class="p" data-element="p">Konkret sagt uns das obige XML Schnipsel, dass unsere [[code:id]] mit dem Wert [[code:1234-5688-9]] im geprüften XML Dokument nicht eindeutig ist. Die Schematron Regelbasis, die wir zur Überprüfung angegebenen haben, sieht so aus:</div><div class="pre"><div data-attribute-id="3a1e0e65-640e-4007-be79-920fe263d7f7d7e88" data-attribute-xml_space="preserve" class="pre-content" data-element="pre">&lt;schema xmlns:sch="http://purl.oclc.org/dsdl/schematron" [...]
  &lt;xsl:key name="unique-ids" match="bk:id" use="."/&gt;
  &lt;sch:let name="date-regex" value="'^((19|2[0-9])[0-9]{2})-(0[1-9]|1[012])
                                     -(0[1-9]|[12][0-9]|3[01])$'"/&gt;
  &lt;sch:pattern id="default"&gt;
    &lt;sch:rule context="book"&gt;
      &lt;sch:assert id="check-book-id" role="error" test="count(key('unique-ids', bk:id))=1" 
                  diagnostics="default"&gt;ID is not unique!&lt;/sch:assert&gt;
      &lt;sch:assert id="check-book-published" role="error" 
                  test="matches(bk:published,$date-regex)
    &lt;/sch:rule&gt;
    [...]
  &lt;/sch:pattern&gt;
  &lt;sch:diagnostics&gt;
    &lt;sch:diagnostic id="default"&gt;
      &lt;xsl:element name="bk:id"&gt;
        &lt;xsl:value-of select="bk:id"/&gt;
      &lt;/xsl:element&gt;
    &lt;/sch:diagnostic&gt;
  &lt;/sch:diagnostics&gt;</div></div><div class="placeholder text" data-element="p"></div><div xmlns:xr="http://www.tekturcms.de/2012/xr/common" xmlns:xlink="http://www.w3.org/1999/xlink" data-attribute-id="86e8f330-f639-42dd-98da-7eebba76fb51d6e108" class="p" data-element="p">Neben der "successful" und "failed" Regeln ist auch die Deklaration von Funktionen und Variablen im Body der Regelbasis erlaubt. Dies ermöglicht komplexe Bedingungen, bespw. durch das Nachschlagen in einer Lookup-Tabelle abzuprüfen. </div></div></div></div></div></div><textarea style="display:none" id="application-status">{}</textarea><div id="table-drag-info" style="display:none"></div><div id="debug-message" style="display:none;color:red"></div><div id="rendering-finished" style="display:none;">true</div><div id="tektur-configuration" style="display:none"><div id="tektur-configuration-editable-elements">p,title,pre,desc,shortdesc,cmd,navtitle,searchtitle</div><div id="tektur-configuration-title-elements">title,dthd,ddhd,desc,shortdesc,navtitle,searchtitle,typeofhazard</div><div id="tektur-configuration-inline-elements">b,i,u,sup,sub,xref,tt,indexterm,image</div><div id="tektur-configuration-list-elements">li,step,substep,choice</div><div id="tektur-configuration-table-elements">table,choicetable,simpletable,dl,legend</div><div id="tektur-configuration-real-table-elements">table,simpletable</div><div id="tektur-configuration-table-entry-elements">entry,leg-pos,leg-name,stentry,dt,dd,dthd,ddhd,choptionhd,chdeschd,choption,chdesc</div><div id="tektur-configuration-table-row-elements">row,legentry,strow,sthead,dlhead,dlentry,chhead,chrow</div><div id="tektur-configuration-paragraph-elements">p,cmd</div><div id="tektur-configuration-action-elements">cmd</div><div id="tektur-configuration-result-elements">step,stepresult</div><div id="tektur-configuration-pre-elements">pre</div><div id="tektur-configuration-selectable-elements">table,topic,task,taskbody,simpletable,fig,note,dl,step,substep,hazardstatement,ol,steps,ul,section,legend,choices,substeps,stepresult,choicetable,info,step,substep,body,placeholder-element</div><div id="tektur-configuration-block-elements">p,table,simpletable,pre,fig,dl,ol,ul,note,hazardstatement,pre</div><div id="tektur-configuration-body-elements">body,frontbody</div><div id="tektur-configuration-section-elements">section</div><div id="tektur-configuration-root-elements">topic,task,frontbody</div><div id="tektur-configuration-must-contain-elements">body,entry,desc,li,typeofhazard,consequence,dt,dd,dlhead,dlentry,chrow,chhead,legpos,legname,dthd,dtdd,titlealts</div><div id="tektur-configuration-show-tags-elements">table,fig,dl,ul,ol,code,typeofhazard,consequence,howtoavoid,hazardstatement,note,simpletable,legend,section,choices,info,stepresult,prereq,context,postreq,result,topic,task,abstract,taskbody,steps,choicetable,substeps,body</div><div id="tektur-configuration-show-icon-instead-of-tags-elements">placeholder-element,step,substep</div><div id="tektur-configuration-never-show-tags-elements">thead,tgroup,tbody,row,entry,stentry,strow,sthead,dlhead,dlentry,legentry,p,chhead,chrow</div><div id="tektur-configuration-labels">placeholder-element=Optional Element</div><div id="tektur-configuration-structure-nogos">table/table</div><div id="tektur-configuration-blocks-mode-deletable">dl,fig,hazardstatement,note,ol,p,li,pre,simpletable,table,ul,section,prereq,context,steps,result,postreq,step,substeps,choices,choicetable,info,stepresult,stepsection,abstract</div><div id="tektur-configuration-do-not-hide-tags">true</div><div id="tektur-configuration-tag-style">font-weight:normal;margin-bottom: 4px;color:black;padding-left:4px;padding-right:4px;font-style:italic;font-size:8pt;font-family:Arial;background-color:#e3e3e3</div><div id="tektur-configuration-tag-border-style">font-weight:normal;margin-bottom: 4px;color:black;padding-left:4px;padding-right:4px;font-style:italic;font-size:8pt;font-family:Arial;background-color:#e3e3e3;</div><div id="tektur-configuration-tag-invisible-style">font-weight:normal;margin-bottom: 4px;color:black;padding-left:4px;padding-right:4px;font-style:italic;font-size:8pt;font-family:Arial;background-color:#e3e3e3</div><div id="tektur-configuration-undo-keystroke-limit">10</div></div></body></html>