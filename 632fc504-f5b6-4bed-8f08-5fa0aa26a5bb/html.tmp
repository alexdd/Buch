<div data-attribute-id="6f1d988d-2a6f-4ce7-82ab-8d7857e00610" class="topic show_menu tags" data-element="topic" data-deletable="false" data-tektur-editor-id="9cf22c55-d7d1-4c88-8d18-ec7a8606a4ba"><div class="gui-optional-elements-button" contenteditable="false"><div class="menu-icon" style="display:none">+</div></div><div data-attribute-id="8ab127a1-f7fa-4113-8ab7-9e0d00b2ccdd" class="title pmarker tags" data-element="title" data-tektur-editor-id="f0664393-42ee-4ea6-a00e-24d5295cedb3" contenteditable="true">mlcp - MarkLogic Content Pump</div><div class="abstract optional show_menu tags" data-element="abstract" data-excluding="shortdesc" style="display:none" data-tektur-editor-id="d4886cf8-25dd-4442-9cb1-e49fb37f3d36"><div class="gui-optional-elements-button" contenteditable="false"><div class="menu-icon" style="display:none">+</div></div><div class="placeholder text pmarker tags" data-element="p" data-tektur-editor-id="c92d53e6-9754-4391-b4a8-1d65fc4ee9b8" contenteditable="true"></div></div><div data-attribute-id="c0ff5619-8a20-494b-acf6-5434b7154503" class="body show_menu tags" data-element="body" data-deletable="false" data-tektur-editor-id="5ea7d3a5-fdd5-49c9-b64a-af0ae73b060f"><div class="gui-optional-elements-button" contenteditable="false"><div class="menu-icon" style="display:none">+</div></div><div class="section tektur-wrapper tags" data-element="section" data-tektur-editor-id="b4670972-ebac-4ade-9fc7-fe54d07fc293"><div xmlns:xr="http://www.tekturcms.de/2012/xr/common" xmlns:xlink="http://www.w3.org/1999/xlink" data-attribute-id="0bfad7a9-ed2d-4700-bf0f-dc1618b6fe0a" class="p pmarker tags" data-element="p" data-tektur-editor-id="66dff474-5e6c-47f7-b2bd-a33577a539b1" contenteditable="true">Die Content Pump f端r MarkLogic ist ein Java Tool<span class="bracket-tags-marker" id="63243ab7-dab7-4e10-8370-802c242c77bb">[[<span class="bracket-tags">xe1:Tools f端r MarkLogic;xe2:Content Pump</span>]]</span>, das den Bulk-Import von Daten 端ber die Kommadozeile realisiert.</div><div xmlns:xr="http://www.tekturcms.de/2012/xr/common" xmlns:xlink="http://www.w3.org/1999/xlink" data-attribute-id="18eb8e60-9aa7-4995-a990-b2e35c3eb0f5d7e6" class="p pmarker tags" data-element="p" data-tektur-editor-id="e986743f-5df4-4c35-b4a6-b7b4acc3c617" contenteditable="true">Das betreffende GitHub Projekt befindet sich <span class="bracket-tags-marker" id="618e38c8-fcd4-428a-9bad-f7f503b217eb">[[<span class="bracket-tags">link</span>]]</span>hier<span class="bracket-tags-marker" id="89a10d79-c5f0-4c3a-b08d-51fc166b8687">[[<span class="bracket-tags">fn:https://github.com/marklogic/marklogic-contentpump*GitHub Projekt zur MarkLogic Content Pump</span>]]</span>.</div><div xmlns:xr="http://www.tekturcms.de/2012/xr/common" xmlns:xlink="http://www.w3.org/1999/xlink" data-attribute-id="36942ea0-9a85-4e60-a4a4-b1840d913432d7e8" class="p pmarker tags" data-element="p" data-tektur-editor-id="a07b8aa5-50f0-4998-88a2-44bf7b0da193" contenteditable="true">Zur einfachen Installation kann man sich aber auch die Binaries auf den </div><div xmlns:xr="http://www.tekturcms.de/2012/xr/common" xmlns:xlink="http://www.w3.org/1999/xlink" data-attribute-id="4a8a6f60-fb15-413a-a876-eb4f0d862e0fd7e10" data-attribute-href="undefined" class="p pmarker tags" data-element="p" data-tektur-editor-id="00ba0111-0072-4bf5-9f43-33c5d1e744a8" contenteditable="true"><span class="bracket-tags-marker" id="8de7c25f-33f8-4007-89ac-6c43e1e08f16">[[<span class="bracket-tags">link</span>]]</span>Developer Seiten<span class="bracket-tags-marker" id="f4536f95-6344-453c-8ba2-59a967c813b9">[[<span class="bracket-tags">fn:https://developer.marklogic.com/products/mlcp*Binaries zur Installation der MarkLogic Content Pump</span>]]</span> herunterladen.</div><div xmlns:xr="http://www.tekturcms.de/2012/xr/common" xmlns:xlink="http://www.w3.org/1999/xlink" data-attribute-id="610445a5-b21f-4c12-b582-6acc8367231cd7e15" class="p pmarker tags" data-element="p" data-tektur-editor-id="a2f40bc9-cfa2-4b55-b8e5-5aa38f6e9ff0" contenteditable="true">Folgendes Bash Skript benutze ich um Daten nach MarkLogic hochzuladen:</div><div class="pre"><div data-attribute-id="268f0586-9f71-4ee2-b354-a1f1851223b3d7e14" data-attribute-xml_space="preserve" class="pre-content pmarker tags" data-element="pre" data-tektur-editor-id="605a1da9-b4aa-49c9-8306-fa0d34d5f0f2" contenteditable="true">#!/bin/bash

set -eo pipefail

mlcp_opts="-database alex-test -host localhost -username admin -password admin"

mlcp import $mlcp_opts \
     -input_file_path input-files \
     -input_file_type aggregates \
     -aggregate_record_element chapter \
     -output_collections /chapter \
     -output_uri_prefix /chapter/ \
     -output_uri_suffix .xml</div></div><div xmlns:xr="http://www.tekturcms.de/2012/xr/common" xmlns:xlink="http://www.w3.org/1999/xlink" data-attribute-id="e296ffb3-e4e7-440a-90dc-3870dc33c0d1d7e19" class="p pmarker tags" data-element="p" data-tektur-editor-id="0ac3a033-fae9-4a5b-8206-ec6fd8361a92" contenteditable="true">Dabei werden alle Dateien im Ordner <span class="bracket-tags-marker" id="07bb3228-aad0-4947-80f9-44c9e073f59e">[[<span class="bracket-tags">code:input-files</span>]]</span> importiert. Der Dateityp
der hochzuladenen Daten ist mit <span class="bracket-tags-marker" id="96ceddb6-afbe-4cff-b88d-1a608e0b9ed7">[[<span class="bracket-tags">code:aggregates</span>]]</span> angegeben. Das sind XML Daten. </div><div data-element="note" class="show_menu tags" data-tektur-editor-id="86342d4e-935e-496b-8a00-5f6a39920c79"><div class="gui-optional-elements-button" contenteditable="false"><div class="menu-icon" style="display:none">+</div></div><div class="note"><div class="signal-word">NOTE</div><div class="hcontent"><div xmlns:xr="http://www.tekturcms.de/2012/xr/common" xmlns:xlink="http://www.w3.org/1999/xlink" data-attribute-id="bfaf1f2d-d1c7-43b9-9099-c629f74cc23cd7e22" class="p pmarker tags" data-element="p" data-tektur-editor-id="96eb88b5-a6a2-4aee-9760-977998f5a486" contenteditable="true">Mehr Infos zu den Kommandozeilen-Optionen befinden sich auf der 
entsprechenden <span class="bracket-tags-marker" id="2e18acd4-beb9-4495-ab52-4187cd84a065">[[<span class="bracket-tags">link</span>]]</span>Dokuseite<span class="bracket-tags-marker" id="abc8f0ae-8944-4aff-83a7-3ba66573ef5d">[[<span class="bracket-tags">fn:https://docs.marklogic.com/guide/mlcp/import*Dokuseite zu den Import Optionen der MarkLogic Content Pump</span>]]</span>
von MarkLogic. </div></div></div></div><div xmlns:xr="http://www.tekturcms.de/2012/xr/common" xmlns:xlink="http://www.w3.org/1999/xlink" data-attribute-id="d6695868-ca0a-418e-91e2-bd91943744b3d7e24" class="p pmarker tags" data-element="p" data-tektur-editor-id="a2481e83-fc87-4574-a247-ea4dd4bab469" contenteditable="true">Mit der Option <span class="bracket-tags-marker" id="9ddb0622-656a-43dd-91bf-d6b789653733">[[<span class="bracket-tags">code:-aggregate_record_element</span>]]</span> wird definiert, dass die Eingabe bzgl. des Elements <span class="bracket-tags-marker" id="85e8a7a1-b5ff-4279-a4e5-e15b40b12912">[[<span class="bracket-tags">code:&#x3C;chapter&#x3E;</span>]]</span> aufgesplittet werden soll.
D.h. eine Datei mit folgendem Inhalt: </div><div class="pre"><div data-attribute-id="3c25a19d-ce44-44cd-97a8-93478bcb418bd7e23" data-attribute-xml_space="preserve" class="pre-content pmarker tags" data-element="pre" data-tektur-editor-id="93c15b83-56c6-4eac-abfb-26562cc95d99" contenteditable="true">&#x3C;test&#x3E;
  &#x3C;title&#x3E;Test Datei&#x3C;/title&#x3E;
  &#x3C;chapter&#x3E;
    &#x3C;title&#x3E;Test Kapitel 1&#x3C;/title&#x3E;
    &#x3C;content&#x3E;Kapitel Inhalt 1&#x3C;/content&#x3E;
  &#x3C;/chapter&#x3E;
  &#x3C;chapter&#x3E;
    &#x3C;title&#x3E;Test Kapitel 2&#x3C;/title&#x3E;
    &#x3C;content&#x3E;Kapitel Inhalt 2&#x3C;/content&#x3E;
  &#x3C;/chapter&#x3E;
  &#x3C;chapter&#x3E;
    &#x3C;title&#x3E;Test Kapitel 2&#x3C;/title&#x3E;
    &#x3C;content&#x3E;Kapitel Inhalt 2&#x3C;/content&#x3E;
  &#x3C;/chapter&#x3E;
&#x3C;/test&#x3E;</div></div><div xmlns:xr="http://www.tekturcms.de/2012/xr/common" xmlns:xlink="http://www.w3.org/1999/xlink" data-attribute-id="cfcdff52-44c0-48d4-aeca-1e8702ba3868d7e28" class="p pmarker tags" data-element="p" data-tektur-editor-id="9a4bd2e7-13f7-4dac-833b-407961ac0eb2" contenteditable="true">wird in drei Records aufgesplittet:</div><div data-attribute-id="964971ac-f826-4b38-b346-3f439fb3de65d7e30" class="fig show_menu tags" data-element="fig" data-tektur-editor-id="a97c0697-d57d-4711-a2bf-c5e1233fd8d7"><div class="gui-optional-elements-button" contenteditable="false"><div class="menu-icon" style="display:none">+</div></div><div class="desc optional pmarker tags" data-element="desc" data-tektur-editor-id="f09f4088-9596-496b-967e-010b75c90a1e" contenteditable="true">Auf der Konsole kann man sich das Ergebnis der <span class="bracket-tags-marker" id="663b2cb0-65cf-4dd4-ad34-5a97434faddc">[[<span class="bracket-tags">code:mlcp</span>]]</span> Sitzung anschauen. Es wurden - wie gew端nscht - drei XML Fragmente separat in die Collection gespeichert.</div><div class="image tags" data-element="image" style="display:none" data-attribute-id="b8e88a4c-1206-4612-a4b0-e0e8cd38e2bed7e33" data-attribute-href="mlcp.png" data-tektur-editor-id="8caeafaa-29ce-4360-b9b6-4de75f5f1cc0"></div><div class="title optional pmarker tags" data-element="title" data-tektur-editor-id="79127a53-9354-4e09-90a0-2d0d6929ab7b" contenteditable="true">Ergebnis einer MarkLogic Content Pump Sitzung</div><table class="legend optional show_menu tags" data-element="legend" width="100%" style="display:none" data-tektur-editor-id="39e7232a-640c-405c-ac0f-b793de96878e"><div class="gui-optional-elements-button" contenteditable="false"><div class="menu-icon" style="display:none">+</div></div><tbody><tr class="legentry tags" data-element="legentry" data-tektur-editor-id="4877d687-5212-48c7-92c9-d9adfe31fad6"><td valign="top" class="leg-pos tags" data-element="leg-pos" width="10%" data-tektur-editor-id="af837093-7024-48ab-97b3-3d4fec9b5782"><div class="pmarker placeholder text tags" data-element="p" data-tektur-editor-id="bc5795af-ffa5-4955-9c1d-8f93dbcb3f95" contenteditable="true"></div></td><td valign="top" class="leg-name tags" data-element="leg-name" width="90%" data-tektur-editor-id="3fa27957-64d7-4736-be90-990a97cb8295"><div class="pmarker placeholder text tags" data-element="p" data-tektur-editor-id="6af2e8f9-5a9a-4c36-b558-4148d8cab287" contenteditable="true"></div></td></tr></tbody></table></div><div class="placeholder text pmarker tags" data-element="p" data-tektur-editor-id="32d70f9c-00fa-4f42-8965-2b6a9799ca32" contenteditable="true"></div></div></div></div>