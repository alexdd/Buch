<html xmlns:xs="http://www.w3.org/2001/XMLSchema"><head><meta charset="utf-8"></meta><link type="text/css" rel="stylesheet" href="/editor/res/css/scrollbars.css"></link><link type="text/css" rel="stylesheet" href="/editor/res/css/tektur-editor-gui.css"></link><link type="text/css" rel="stylesheet" href="/editor/res/css/tektur-editor.css"></link><link type="text/css" rel="stylesheet" href="/editor/res/css/tektur-editor-preview.css"></link><link type="text/css" rel="stylesheet" href="/editor/res/css/tektur-editor-custom.css"></link><script type="text/javascript" src="/editor/res/js/lib/ckeditor/ckeditor.js"></script><script type="text/javascript" src="/editor/res/js/lib/jquery.js"></script><script type="text/javascript" src="/editor/res/js/lib/ckeditor/adapters/jquery.js"></script><script type="text/javascript" src="/editor/res/js/lib/FileSaver.min.js"></script><script type="text/javascript" src="/editor/res/js/lib/colResizable-1.5.min.js"></script><script type="text/javascript" src="/editor/res/js/lib/jquery-ui.min.js"></script><script type="text/javascript" src="/editor/res/js/lib/templater.js"></script><script type="text/javascript" src="/editor/src/custom.js"></script><script type="text/javascript" src="/dist/tektur-editor.js"></script></head><body><div id="edit-mode" style="display:none">1</div><div id="resource-path" style="display:none">/data/</div><div id="is-dirty" style="display:none">false</div><div class="popup" id="attributes-dialog" style="display:none"><div class="scroll-panel"><ul><li>Keine Eigenschaften</li></ul></div><div class="buttons"><button class="cancel-button">Abbrechen</button><button class="save-button">Ã„ndern</button></div></div><div class="custom-dropdown-menu" id="attributes-select" style="display:none"><ul class="items scroll-panel"><li>dummy1</li><li>dummy2</li><li>dummy3</li></ul></div><div class="popup" id="image-dialog" style="display:none"><div class="scroll-panel"><ul><li>todo</li></ul></div><div class="buttons"><button class="cancel-button">Cancel</button><button class="save-button">Save</button></div></div><script type="text/html" id="gui_optional_tmpl"><div class="gui-optional-elements-button" contenteditable="false"><div class="menu-icon" style="display:none">+</div></div></script><script type="text/html" id="gui_multiple_tmpl"><div class="gui-multiple-elements-button" contenteditable="false"><div class="menu-icon" style="display:none">+</div></div></script><script type="text/html" id="p_tmpl"><div class="p" data-element="p"></div></script><script type="text/html" id="placeholder_text_tmpl"><div class="pmarker placeholder text" data-element="p"></div></script><script type="text/html" id="title_tmpl"><div class="title" data-element="title"></div></script><script type="text/html" id="table_tmpl"><% if(mode == "normal") { %><div data-element="table" class="table show_menu" style="display:none" data-attribute-pgwide="0" data-attribute-frame="all"><div data-element="desc" style="display:none" class="pmarker desc optional placeholder text"></div><table data-element="tgroup" width="100%" cols="0"><colgroup><% for(var i=count2; i>0; i--) { %><col data-colname="set-me"></col><% } %></colgroup><thead data-element="thead"><tr class="row" data-element="row"><% for(var i=count2; i>0; i--) { %><td valign="top" class="entry" data-element="entry"><div class="pmarker placeholder text" data-element="p"></div></td><% } %></tr></thead><tbody data-element="tbody"><% for(var j=count1; j>0; j--) { %><tr class="row" data-element="row"><% for(var i=count2; i>0; i--) { %><td valign="top" class="entry" data-element="entry"><div class="pmarker placeholder text" data-element="p"></div></td><% } %></tr><% } %></tbody></table><div data-element="title" class="pmarker title optional placeholder text" style="display:none"></div></div><div class="pmarker placeholder text" data-element="p"></div><% } else { %><div data-element="simpletable" class="table show_menu" style="display:none"><table width="100%"><tr class="sthead" data-element="sthead"><% for(var i=count2; i>0; i--) { %><td valign="top" class="stentry" data-element="stentry"><div class="pmarker placeholder text" data-element="p"></div></td><% } %></tr><% for(var j=count1; j>0; j--) { %><tr class="strow" data-element="strow"><% for(var i=count2; i>0; i--) { %><td valign="top" class="stentry" data-element="stentry"><div class="pmarker placeholder text" data-element="p"></div></td><% } %></tr><% } %></table></div><div class="pmarker placeholder text" data-element="p"></div><% } %></script><script type="text/html" id="row_tmpl"><tr class="row" data-element="row"><% for(var i=count1; i>0; i--) { %><td valign="top" class="entry" data-element="entry"><div class="pmarker placeholder text" data-element="p"></div></td><% } %></tr></script><script type="text/html" id="strow_tmpl"><tr class="row" data-element="strow"><% for(var i=count1; i>0; i--) { %><td valign="top" class="entry" data-element="stentry"><div class="pmarker placeholder text" data-element="p"></div></td><% } %></tr></script><script type="text/html" id="sthead_tmpl"><tr class="row" data-element="sthead"><% for(var i=count1; i>0; i--) { %><td valign="top" class="entry" data-element="stentry"><div class="pmarker placeholder text" data-element="p"></div></td><% } %></tr></script><script type="text/html" id="entry_tmpl"><td class="entry" data-element="entry" valign="top" width="20%"><div class="pmarker placeholder text" data-element="p"></div></td></script><script type="text/html" id="stentry_tmpl"><td class="entry" data-element="stentry" valign="top"><div class="pmarker placeholder text" data-element="p"></div></td></script><script type="text/html" id="dl_tmpl"><table class="dl show_menu" data-element="dl" width="100%" style="display:none"><tbody><tr class="dlhead" data-element="dlhead"><th valign="top" class="dthd" data-element="dthd" width="30%"><div class="pmarker placeholder text" data-element="p"></div></th><th valign="top" class="ddhd" data-element="ddhd" width="70%"><div class="pmarker placeholder text" data-element="p"></div></th></tr><tr class="dlentry" data-element="dlentry"><td valign="top" class="dt" data-element="dt"><div class="pmarker placeholder text tektur-wrapper" data-element="p"></div></td><td valign="top" class="dd" data-element="dd"><div class="pmarker placeholder  text" data-element="p"></div></td></tr></tbody></table><div class="pmarker placeholder text" data-element="p"></div></script><script type="text/html" id="dlentry_tmpl"><tr class="dlentry" data-element="dlentry"><td valign="top" class="dt" data-element="dt"><div class="pmarker placeholder  text tektur-wrapper" data-element="p"></div></td><td valign="top" class="dd" data-element="dd"><div class="pmarker placeholder text" data-element="p"></div></td></tr></script><script type="text/html" id="ol_tmpl"><ol data-element="ol" style="display:none"><li class="li" data-element="li"><div class="p pmarker" data-element="p"></div></li></ol><div class="pmarker placeholder text" data-element="p"></div></script><script type="text/html" id="ul_tmpl"><ul data-element="ul" style="display:none"><li class="li" data-element="li"><div class="p pmarker" data-element="p"></div></li></ul><div class="pmarker placeholder text" data-element="p"></div></script><script type="text/html" id="li_tmpl"><li class="li" data-element="li"><div class="p  pmarker" data-element="p"></div></li></script><script type="text/html" id="section_tmpl"><div class="section optional show_menu" data-element="section"><div data-element="title" class="pmarker title"></div><div class="pmarker placeholder text" data-element="p"></div></div></script><script type="text/html" id="pre_tmpl"><div class="pre"><div class="pre-content pmarker" data-element="pre"></div></div><div class="placeholder text pmarker" data-element="p"></div></script><script type="text/html" id="fig_tmpl"><div class="fig show_menu" data-element="fig" style="display:none"><div data-element="desc" class="pmarker placeholder desc optional  text placeholder-forced" style="display:none"></div><img style="display:block" class="image" data-element="image" src="test.jpg" data-attribute-xr_oid-ref="dummy"></img><div class="image" data-element="image" data-attribute-href="test.jpg" style="display:none"></div><div data-element="title" class="pmarker title optional placeholder text placeholder-forced" style="display:none"></div><table class="legend optional show_menu" data-element="legend" width="100%" style="display:none"><tbody><tr class="legentry" data-element="legentry"><td valign="top" class="leg-pos" data-element="leg-pos" width="10%"><div class="pmarker placeholder text" data-element="p"></div></td><td valign="top" class="leg-name" data-element="leg-name" width="90%"><div class="pmarker placeholder text" data-element="p"></div></td></tr></tbody></table></div><div class="placeholder text pmarker" data-element="p"></div></script><script type="text/html" id="legentry_tmpl"><tr class="legentry" data-element="legentry"><td valign="top" class="leg-pos" data-element="leg-pos" width="10%"><div class="placeholder text pmarker" data-element="p"></div></td><td valign="top" class="leg-name" data-element="leg-name" width="90%"><div class="placeholder text pmarker" data-element="p"></div></td></tr></script><script type="text/html" id="hazardstatement_tmpl"><div data-element="hazardstatement" data-attribute-type="warning" data-ommited="messagepanel" style="display:none" class="show_menu"><div class="Warning container"><div class="signal-word">WARNING</div><div class="hcontent"><div class="typeofhazard" data-element="typeofhazard"><div class="pmarker p tektur-wrapper placeholder text" data-element="p"></div></div><div class="consequence multiple optional" data-element="consequence" style="display:none"><div class="pmarker p tektur-wrapper placeholder text" data-element="p"></div></div><div class="howtoavoid multiple" data-element="howtoavoid"><div class="pmarker p tektur-wrapper placeholder text" data-element="p"></div></div></div></div></div><div class="placeholder text pmarker" data-element="p"></div></script><script type="text/html" id="typeofhazard_tmpl"><div class="typeofhazard" data-element="typeofhazard"><div class="pmarker p tektur-wrapper placeholder text" data-element="p"></div></div></script><script type="text/html" id="consequence_tmpl"><div class="consequence multiple optional" data-element="consequence" style="display:none"><div class="pmarker p tektur-wrapper placeholder text" data-element="p"></div></div></script><script type="text/html" id="howtoavoid_tmpl"><div class="howtoavoid multiple" data-element="howtoavoid"><div class="pmarker p tektur-wrapper placeholder text" data-element="p"></div></div></script><script type="text/html" id="note_tmpl"><div data-element="note" style="display:none" class="show_menu"><div class="Note"><div class="signal-word">NOTE</div><div class="hcontent"><div class="pmarker placeholder text" data-element="p"></div></div></div></div><div class="pmarker placeholder text" data-element="p"></div></script><script type="text/html" id="steps_tmpl"><ol data-element="steps" style="display:none" class="steps optional"><div class="placeholder element show_menu tektur-wrapper" data-element="placeholder-element" data-optional="stepsection"><div class="stepsection optional" data-element="stepsection" style="display:none" data-not="note|hazardstatement|table"><div class="pmarker placeholder text" data-element="p"></div></div></div><li data-element="step" class="step show_menu special"><div class="pmarker cmd placeholder text implied" data-element="cmd" data-before="note|hazardstatement" data-text-placeholder="no"></div><ol class="substeps optional multiple" data-element="substeps" style="display:none"><li data-element="substep" class="substep show_menu special"><div class="pmarker cmd placeholder text implied" data-element="cmd" data-before="note|hazardstatement" data-text-placeholder="no"></div><div class="info optional show_menu" data-element="info" style="display:none"><div class="pmarker placeholder text" data-element="p"></div></div><div class="stepresult optional show_menu" data-element="stepresult" style="display:none"><table><tr><td class="symbol" valign="top">â–·</td><td class="result-content"><div class="pmarker placeholder text" data-element="p"></div></td></tr></table></div></li></ol><ul class="choices optional multiple" data-element="choices" style="display:none"><li class="choice" data-element="choice"><div class="pmarker placeholder text" data-element="p"></div></li></ul><table style="display:none" data-element="choicetable" width="100%" class="choicetable optional show_menu"><tbody><tr class="chhead" data-element="chhead"><th valign="top" class="choptionhd" data-element="choptionhd" width="50%"><div class="plaseholder text" data-element="p"></div></th><th valign="top" class="chdeschd" data-element="chdeschd" width="50%"><div class="pmarker placeholder text" data-element="p"></div></th></tr><tr class="chrow" data-element="chrow"><td valign="top" class="choption" data-element="choption" width="50%"><div class="pmarker placeholder text" data-element="p"></div></td><td valign="top" class="chdesc" data-element="chdesc" width="50%"><div class="pmarker placeholder text" data-element="p"></div></td></tr></tbody></table><div class="info optional show_menu" data-element="info" style="display:none"><div class="pmarker placeholder text" data-element="p"></div></div><div class="stepresult optional show_menu" data-element="stepresult" style="display:none"><table><tr><td class="symbol" valign="top">â–·</td><td class="result-content"><div class="pmarker placeholder text" data-element="p"></div></td></tr></table></div></li></ol></script><script type="text/html" id="substeps_tmpl"><ol data-element="substeps" style="display:none" class="substeps multiple optional"><li data-element="substep" class="substep show_menu special"><div class="pmarker cmd placeholder text implied" data-element="cmd" data-before="note|hazardstatement" data-text-placeholder="no"></div><div class="info optional show_menu" data-element="info" style="display:none"><div class="pmarker placeholder text" data-element="p"></div></div><div class="stepresult optional show_menu" data-element="stepresult" style="display:none"><table><tr><td class="symbol" valign="top">â–·</td><td class="result-content"><div class="pmarker placeholder text" data-element="p"></div></td></tr></table></div></li></ol></script><script type="text/html" id="choice_tmpl"><li class="choice" data-element="choice"><div class="pmarker placeholder text" data-element="p"></div></li></script><script type="text/html" id="info_tmpl"><div class="info optional show_menu" data-element="info"><div class="pmarker placeholder text" data-element="p"></div></div></script><script type="text/html" id="stepresult_tmpl"><div class="stepresult optional show_menu" data-element="stepresult" style="display:none"><table><tr><td class="symbol" valign="top">â–·</td><td class="result-content"><div class="pmarker placeholder text" data-element="p"></div></td></tr></table></div></script><script type="text/html" id="result_tmpl"><div class="result optional show_menu" data-element="result" style="display:none"><table><tr><td class="symbol" valign="top">â–·</td><td class="result-content"><div class="pmarker placeholder text" data-element="p"></div></td></tr></table></div></script><script type="text/html" id="choicetable_tmpl"><table style="display:none" data-element="choicetable" width="100%" class="choicetable optional show_menu"><tbody><tr class="chhead" data-element="chhead"><th valign="top" class="choptionhd" data-element="choptionhd" width="50%"><div class="pmarker plaseholder text" data-element="p"></div></th><th valign="top" class="chdeschd" data-element="chdeschd" width="50%"><div class="pmarker placeholder text" data-element="p"></div></th></tr><tr class="chrow" data-element="chrow"><td valign="top" class="choption" data-element="choption" width="50%"><div class="pmarker placeholder text" data-element="p"></div></td><td valign="top" class="chdesc" data-element="chdesc" width="50%"><div class="pmarker placeholder text" data-element="p"></div></td></tr></tbody></table></script><script type="text/html" id="choices_tmpl"><ul class="choices optional multiple" data-element="choices" style="display:none"><li class="choice" data-element="choice"><div class="pmarker placeholder text" data-element="p"></div></li></ul></script><script type="text/html" id="step_tmpl"><li data-element="step" class="step show_menu special"><div class="pmarker cmd placeholder text implied" data-element="cmd" data-before="note|hazardstatement" data-text-placeholder="no"></div><ol class="substeps optional multiple" data-element="substeps" style="display:none"><li data-element="substep" class="substep show_menu special"><div class="pmarker cmd placeholder text implied" data-element="cmd" data-before="note|hazardstatement" data-text-placeholder="no"></div><div class="info optional show_menu" data-element="info" style="display:none"><div class="pmarker placeholder text" data-element="p"></div></div><div class="stepresult optional show_menu" data-element="stepresult" style="display:none"><table><tr><td class="symbol" valign="top">â–·</td><td class="result-content"><div class="pmarker placeholder text" data-element="p"></div></td></tr></table></div></li></ol><ul class="choices optional multiple" data-element="choices" style="display:none"><li class="choice" data-element="choice"><div class="pmarker placeholder text" data-element="p"></div></li></ul><table style="display:none" data-element="choicetable" width="100%" class="choicetable optional show_menu"><tbody><tr class="chhead" data-element="chhead"><th valign="top" class="choptionhd" data-element="choptionhd" width="50%"><div class="plaseholder text" data-element="p"></div></th><th valign="top" class="chdeschd" data-element="chdeschd" width="50%"><div class="pmarker placeholder text" data-element="p"></div></th></tr><tr class="chrow" data-element="chrow"><td valign="top" class="choption" data-element="choption" width="50%"><div class="pmarker placeholder text" data-element="p"></div></td><td valign="top" class="chdesc" data-element="chdesc" width="50%"><div class="pmarker placeholder text" data-element="p"></div></td></tr></tbody></table><div class="info optional show_menu" data-element="info" style="display:none"><div class="pmarker placeholder text" data-element="p"></div></div><div class="stepresult optional show_menu" data-element="stepresult" style="display:none"><table><tr><td class="symbol" valign="top">â–·</td><td class="result-content"><div class="pmarker placeholder text" data-element="p"></div></td></tr></table></div></li></script><script type="text/html" id="substep_tmpl"><li data-element="substep" class="substep show_menu special"><div class="pmarker cmd placeholder text implied" data-element="cmd" data-before="note|hazardstatement" data-text-placeholder="no"></div><div class="info optional show_menu" data-element="info" style="display:none"><div class="pmarker placeholder text" data-element="p"></div></div><div class="stepresult optional show_menu" data-element="stepresult" style="display:none"><table><tr><td class="symbol" valign="top">â–·</td><td class="result-content"><div class="pmarker placeholder text" data-element="p"></div></td></tr></table></div></li></script><script type="text/html" id="chrow_tmpl"><tr class="chrow" data-element="chrow"><td valign="top" class="choption" data-element="choption" width="50%"><div class="pmarker placeholder p" data-element="p"></div></td><td valign="top" class="chdesc" data-element="chdesc" width="50%"><div class="pmarker placeholder p" data-element="p"></div></td></tr></script><script type="text/html" id="postreq_tmpl"><div data-element="postreq" class="postreq optional show_menu" style="display:none"><div class="pmarker placeholder text" data-element="p"></div></div></script><script type="text/html" id="prereq_tmpl"><div data-element="prereq" class="prereq optional show_menu" style="display:none"><div class="pmarker placeholder text" data-element="p"></div></div></script><script type="text/html" id="context_tmpl"><div data-element="context" class="context optional show_menu" style="display:none"><div class="pmarker placeholder text" data-element="p"></div></div></script><script type="text/html" id="stepsection_tmpl"><div class="placeholder element show_menu tektur-wrapper" data-element="placeholder-element" data-optional="stepsection"><div class="stepsection optional" data-element="stepsection" style="display:none" data-not="note|hazardstatement|pre|table"><div class="pmarker placeholder text" data-element="p"></div></div></div></script><script type="text/html" id="legend_tmpl"><table class="legend optional show_menu" data-element="legend" width="100%" style="display:none"><tbody><tr class="legentry" data-element="legentry"><td valign="top" class="leg-pos" data-element="leg-pos" width="10%"><div class="pmarker placeholder text" data-element="p"></div></td><td valign="top" class="leg-name" data-element="leg-name" width="90%"><div class="pmarker placeholder text" data-element="p"></div></td></tr></tbody></table></script><script type="text/html" id="shortdesc_tmpl"><div class="pmarker shortdesc optional placeholder text" data-element="shortdesc" data-excluding="abstract"></div></script><script type="text/html" id="abstract_tmpl"><div class="abstract optional show_menu" data-element="abstract" data-excluding="shortdesc" style="display:none"><div class="pmarker placeholder text" data-element="p"></div></div></script><script type="text/html" id="icon_tmpl"><span class="icon" data-element="image" data-attribute-href="test.jpg"><img style="display:inline" class="icon" data-element="image" src="test.jpg" data-attribute-xr_oid-ref="dummy"></img></span></script><div id="scroll-area"><div id="toolbar"><table><tr><td><img style="display:none" id="save-icon" title="not-used"></img></td><td><div><img id="undo-icon" src="/editor/res/icons/undo.png" title="Undo"></img></div></td><td><div><img id="redo-icon" src="/editor/res/icons/redo.png" title="Redo"></img></div></td><td class="spacer"><div><img id="import-text-icon" src="/editor/res/icons/paste.png" title="Import Text Content"></img></div></td><td class="spacer"><div><img id="swap-icon" src="/editor/res/icons/arrow_up.png" title="Move Up"></img></div></td><td><div><img id="movedown-icon" src="/editor/res/icons/arrow_down.png" title="Move Down"></img></div></td><td class="spacer"><div><img id="bold-icon" src="/editor/res/icons/bold-text.png" title="Set Bold Text"></img></div></td><td><div><img id="italic-icon" src="/editor/res/icons/italics.png" title="Set Italics Text"></img></div></td><td><div><img id="underline-icon" src="/editor/res/icons/undelined.png" title="Set Underlined Text"></img></div></td><td><div><img id="sup-icon" src="/editor/res/icons/superscript.png" title="Set Superscript Text"></img></div></td><td><div><img id="sub-icon" src="/editor/res/icons/subscript.png" title="Set Subscript Text"></img></div></td><td class="spacer"><div><img id="ul-icon" src="/editor/res/icons/bullets.png" title="Set Bulleted List"></img></div></td><td><div><img id="ol-icon" src="/editor/res/icons/numbering.png" title="Set Numbered List"></img></div></td><td><div><img id="dl-icon" src="/editor/res/icons/definitionlist.png" title="Set Definition-List"></img></div></td><td><div><img id="fig-icon" src="/editor/res/icons/insert-picture.png" title="Insert Figure"></img></div></td><td><div><img id="icon-icon" src="/editor/res/icons/insert-icon.png" title="Insert Icon"></img></div></td><td><div><img id="table-icon" src="/editor/res/icons/table.png" title="Insert Table"></img></div></td><td style="display:none"><div></div></td><td><div><img id="hazardstatement-icon" src="/editor/res/icons/caution.png" title="Insert Hazardstatement"></img></div></td><td><div><img id="note-icon" src="/editor/res/icons/note.png" title="Insert Note"></img></div></td><td><div><img id="pre-icon" src="/editor/res/icons/code.png" title="Insert Code"></img></div></td><td><div><img id="section-icon" src="/editor/res/icons/new_section.png" title="Insert Section"></img></div></td><td><div><img id="link-icon" src="/editor/res/icons/link.png" title="Insert Link"></img></div></td><td class="spacer" style="display:none"><div></div></td><td style="display:none"><div></div></td><td style="display:none"><div></div></td><td style="display:none"><div></div></td><td style="display:none"><div></div></td><td style="display:none"><div></div></td></tr></table></div><div id="breadcrumbs"></div><div id="table-button-panel" style="display:none;position:fixed;right: 8px;top:90px;background-color:white;"><div style="margin-bottom:10px"><button type="button" id="debug-button-1" style="background-color:white;">Button-1</button></div><div style="margin-bottom:10px"><button type="button" id="debug-button-2" style="background-color:white;">Button-2</button></div><div style="margin-bottom:10px"><button type="button" id="debug-button-3" style="background-color:white;">Button-3</button></div><div style="margin-bottom:10px"><button type="button" id="debug-button-4" style="background-color:white;">Button-4</button></div><div style="margin-bottom:10px"><button type="button" id="debug-button-5" style="background-color:white;">Button-5</button></div><div style="margin-bottom:10px"><button type="button" id="debug-button-6" style="background-color:white;">Button-6</button></div><div style="margin-bottom:10px"><button type="button" id="debug-button-7" style="background-color:white;">Button-7</button></div><div style="margin-bottom:10px"><button type="button" id="debug-button-8" style="background-color:white;">Button-8</button></div><div style="margin-bottom:10px"><button type="button" id="debug-button-9" style="background-color:white;">Button-9</button></div><div style="margin-bottom:10px"><button type="button" id="debug-button-10" style="background-color:white;">Button-10</button></div><div style="margin-bottom:10px"><button type="button" id="debug-button-11" style="background-color:white;">Button-11</button></div><div style="margin-bottom:10px"><button type="button" id="debug-button-12" style="background-color:white;">Button-12</button></div><div style="margin-bottom:10px"><button type="button" id="debug-button-13" style="background-color:white;">Button-13</button></div><div style="margin-bottom:10px"><button type="button" id="debug-button-14" style="background-color:white;">Button-14</button></div><div style="margin-bottom:10px"><button type="button" id="debug-button-15" style="background-color:white;">Button-15</button></div><div style="margin-bottom:10px"><button type="button" id="debug-button-16" style="background-color:white;">Button-16</button></div></div><div id="content"><div data-attribute-id="4e59c114-46a9-4292-8c91-b346f9cde93f" class="topic show_menu" data-element="topic" data-deletable="false"><div data-attribute-id="6dc3be8f-5b8c-407c-9853-0533fdbf8267" class="title" data-element="title">SQL Views in MarkLogic</div><div class="abstract optional show_menu" data-element="abstract" data-excluding="shortdesc" style="display:none"><div class="placeholder text" data-element="p"></div></div><div data-attribute-id="7f34fad8-1a7e-4e87-b393-2a47e817e2da" class="body show_menu" data-element="body" data-deletable="false"><div class="section tektur-wrapper" data-element="section"><div xmlns:xr="http://www.tekturcms.de/2012/xr/common" xmlns:xlink="http://www.w3.org/1999/xlink" data-attribute-id="51cd2348-5ac3-401f-bfec-d6669662af27" class="p" data-element="p">Es macht nicht immer Sinn Ã¼ber eine Baumstruktur zu suchen. Obwohl das in einer 
XML Datenbank rasend schnell geht, weil jeder Knoten des Baums initial in einen Index
aufgenommen wird. So gibt es doch AnwendungsfÃ¤lle bei denen man lieber eine relationale
Sicht auf die Daten hÃ¤tte.</div><div xmlns:xr="http://www.tekturcms.de/2012/xr/common" xmlns:xlink="http://www.w3.org/1999/xlink" data-attribute-id="fa6fb1a1-78b4-4a46-9b1e-ba2328fdd2f3d6e6" class="p" data-element="p">In MarkLogic heisst die LÃ¶sung dazu SQL Views.</div><div xmlns:xr="http://www.tekturcms.de/2012/xr/common" xmlns:xlink="http://www.w3.org/1999/xlink" data-attribute-id="8029ae2f-5b5a-4df5-97c1-aad92ac65df2d6e8" class="p" data-element="p">Bspw. benÃ¶tigt man eine relationale Sicht auf die Daten,
wenn Ã¼ber verschiedene DatensÃ¤tze ein Report generiert werden soll.</div><div xmlns:xr="http://www.tekturcms.de/2012/xr/common" xmlns:xlink="http://www.w3.org/1999/xlink" data-attribute-id="93e04ead-905f-488b-a0bc-d024c912fc35d6e10" class="p" data-element="p">Nehmen wir an es gibt im Datenbestand die folgenden Dokumente:</div><div class="pre"><div data-attribute-id="6d7fad8e-dc88-40ff-8267-38a670794a87d6e12" data-attribute-xml_space="preserve" class="pre-content" data-element="pre">&lt;k:kunde&gt;
  &lt;k:id&gt;1&lt;/k:id&gt;
  &lt;k:name&gt;Alex&lt;/k:name&gt;
  &lt;k:eMail&gt;tekturcms@gmail.com&lt;/k:eMail&gt;
&lt;/k:kunde&gt;

&lt;k:kunde&gt;
  &lt;k:id&gt;2&lt;/k:id&gt;
  &lt;k:name&gt;Horst&lt;/k:name&gt;
  &lt;k:eMail&gt;horst@horst.de&lt;/k:eMail&gt;
&lt;/k:kunde&gt;

&lt;k:kunde&gt;
  &lt;k:id&gt;3&lt;/k:id&gt;
  &lt;k:name&gt;Gundula&lt;/k:name&gt;
  &lt;k:eMail&gt;gundl@gundula.de&lt;/k:eMail&gt;
&lt;/k:kunde&gt;

&lt;b:bestellung&gt;
  &lt;b:id&gt;1&lt;/b:id&gt;
  &lt;b:datum&gt;02.01.2019&lt;/b:datum&gt;
  &lt;b:preis&gt;99.90&lt;/b:preis&gt;
  &lt;kunde-id&gt;2&lt;/kunde-id&gt;
&lt;/b:bestellung&gt;

&lt;b:bestellung&gt;
  &lt;b:id&gt;2&lt;/b:id&gt;
  &lt;b:datum&gt;03.01.2019&lt;/b:datum&gt;
  &lt;b:preis&gt;68.90&lt;/b:preis&gt;
  &lt;b:kunde-id&gt;1&lt;/b:kunde-id&gt;
&lt;/b:bestellung&gt;</div></div><div class="placeholder text" data-element="p"></div><div xmlns:xr="http://www.tekturcms.de/2012/xr/common" xmlns:xlink="http://www.w3.org/1999/xlink" data-attribute-id="2328ace1-a84c-4d9b-839c-e81962bff15ed6e14" class="p" data-element="p">Will man sich alle Kunden anzeigen lassen, die eine Bestellung 
abgegeben haben - das sind Alex und Horst - so wÃ¼rde man bei
einem relationalen Ansatz einen JOIN verwenden, so wie:</div><div class="pre"><div data-attribute-id="fee01771-5dd3-4608-8e75-20582ecf5926d6e16" data-attribute-xml_space="preserve" class="pre-content" data-element="pre">SELECT name, datum, preis
FROM kunden k
INNER JOIN bestellungen b
ON k.id = b.kunde_id</div></div><div class="placeholder text" data-element="p"></div><div xmlns:xr="http://www.tekturcms.de/2012/xr/common" xmlns:xlink="http://www.w3.org/1999/xlink" data-attribute-id="634aa470-0b4d-4ef9-ad31-e23e72e82857d6e18" class="p" data-element="p">In einer relationalen Sicht wÃ¼rde uns das dann die folgende Tabelle liefern:</div><div class="pre"><div data-attribute-id="8cc8f210-5379-4fe3-be86-db0986c77ff7d6e20" data-attribute-xml_space="preserve" class="pre-content" data-element="pre">name, datum, preis
Alex, 03.01.2019, 68.90
Horst, 02.01.2019, 99.90</div></div><div class="placeholder text" data-element="p"></div><div xmlns:xr="http://www.tekturcms.de/2012/xr/common" xmlns:xlink="http://www.w3.org/1999/xlink" data-attribute-id="32221bf5-8e13-4057-90ab-06577e278a90d6e22" class="p" data-element="p">Um fÃ¼r MarkLogic eine SQL View zu definieren verwendet man einen Mechanismus,
der da heisst: [[link]]Template Driven Extraction[[fn:https://docs.marklogic.com/guide/app-dev/TDE*Template Driven Extraction wird verwendet um in MarkLogic eine relationale Sicht auf die baumstrukturierten Daten zu setzen]]</div><div xmlns:xr="http://www.tekturcms.de/2012/xr/common" xmlns:xlink="http://www.w3.org/1999/xlink" data-attribute-id="300d1425-14e5-4fe0-b486-327254ed8cf0d6e24" class="p" data-element="p">Dazu werden Templates in XML deklariert und in die Template Collection eingefÃ¼gt. FÃ¼r unser obiges Beispiel
wÃ¼rden wir zwei Templates brauchen, die so aussehen:</div><div class="pre"><div data-attribute-id="74121c39-6f77-42d7-b378-4d1d6c6c3d79d6e27" data-attribute-xml_space="preserve" class="pre-content" data-element="pre">xquery version "1.0-ml";

import module namespace tde = "http://marklogic.com/xdmp/tde" 
                            at "/MarkLogic/tde.xqy";

let $sql-view-name := 'kunden-view.xml'
let $sql-view := &lt;template xmlns="http://marklogic.com/xdmp/tde"&gt;
   &lt;path-namespaces&gt;
      &lt;path-namespace&gt;
         &lt;prefix&gt;k&lt;/prefix&gt;
         &lt;namespace-uri&gt;https://tekturcms.de/schema/kunde/1.0&lt;/namespace-uri&gt;
      &lt;/path-namespace&gt;
   &lt;/path-namespaces&gt;
   &lt;context&gt;/k:kunde&lt;/context&gt;
   &lt;collections&gt;
      &lt;collections-and&gt;
         &lt;collection&gt;/kunden&lt;/collection&gt;
      &lt;/collections-and&gt;
   &lt;/collections&gt;
   &lt;rows&gt;
      &lt;row&gt;
         &lt;schema-name&gt;kunden_schema&lt;/schema-name&gt;
         &lt;view-name&gt;kunden_view&lt;/view-name&gt;
         &lt;columns&gt;
            &lt;column&gt;
               &lt;name&gt;id&lt;/name&gt;
               &lt;scalar-type&gt;string&lt;/scalar-type&gt;
               &lt;val&gt;k:id&lt;/val&gt;
               &lt;nullable&gt;true&lt;/nullable&gt;
            &lt;/column&gt;
            &lt;column&gt;
               &lt;name&gt;datum&lt;/name&gt;
               &lt;scalar-type&gt;string&lt;/scalar-type&gt;
               &lt;val&gt;k:datum&lt;/val&gt;
               &lt;nullable&gt;true&lt;/nullable&gt;
            &lt;/column&gt;
            &lt;column&gt;
               &lt;name&gt;eMail&lt;/name&gt;
               &lt;scalar-type&gt;string&lt;/scalar-type&gt;
               &lt;val&gt;k:eMail&lt;/val&gt;
               &lt;nullable&gt;true&lt;/nullable&gt;
            &lt;/column&gt;
         &lt;/columns&gt;
      &lt;/row&gt;
   &lt;/rows&gt;
&lt;/template&gt;
return(
  tde:template-insert(concat('/templates/', $sql-view-name), 
                      $sql-view, xdmp:default-permissions())
)</div></div><div class="placeholder text" data-element="p"></div><div xmlns:xr="http://www.tekturcms.de/2012/xr/common" xmlns:xlink="http://www.w3.org/1999/xlink" data-attribute-id="1b5ad441-b64a-48a5-beaf-fcb03b693c17d6e29" class="p" data-element="p">und analog fÃ¼r die Bestellungen:</div><div class="pre"><div data-attribute-id="d7378039-37d5-4cdf-b46d-44f8ed884352d6e31" data-attribute-xml_space="preserve" class="pre-content" data-element="pre">[...]
   &lt;rows&gt;
      &lt;row&gt;
         &lt;schema-name&gt;bestellungen_schema&lt;/schema-name&gt;
         &lt;view-name&gt;bestellungen_view&lt;/view-name&gt;
         &lt;columns&gt;
            &lt;column&gt;
               &lt;name&gt;id&lt;/name&gt;
               &lt;scalar-type&gt;string&lt;/scalar-type&gt;
               &lt;val&gt;b:id&lt;/val&gt;
            &lt;/column&gt;
            &lt;column&gt;
               &lt;name&gt;datum&lt;/name&gt;
               &lt;scalar-type&gt;string&lt;/scalar-type&gt;
               &lt;val&gt;b:datum&lt;/val&gt;
            &lt;/column&gt;
            &lt;column&gt;
               &lt;name&gt;preis&lt;/name&gt;
               &lt;scalar-type&gt;string&lt;/scalar-type&gt;
               &lt;val&gt;b:preis&lt;/val&gt;
            &lt;/column&gt;
            &lt;column&gt;
               &lt;name&gt;kunde_id&lt;/name&gt;
               &lt;scalar-type&gt;string&lt;/scalar-type&gt;
               &lt;val&gt;b:kunde-id&lt;/val&gt;
            &lt;/column&gt;
         &lt;/columns&gt;
      &lt;/row&gt;
[...]</div></div><div class="placeholder text" data-element="p"></div><div xmlns:xr="http://www.tekturcms.de/2012/xr/common" xmlns:xlink="http://www.w3.org/1999/xlink" data-attribute-id="beda4ca5-f41c-4fbd-834a-6a375127725dd6e33" class="p" data-element="p">In XQuery eingebunden kÃ¶nnte man dann die definierten SQL Views mit dem folgenden Befehl abfragen:</div><div class="pre"><div data-attribute-id="a74f8274-9f20-4148-bab6-6993a1b13eadd6e35" data-attribute-xml_space="preserve" class="pre-content" data-element="pre">xdmp:sql("SELECT name, datum, preis FROM kunden_view k 
          INNER JOIN bestellungen_view b ON k.id = b.kunde_id")</div></div><div class="placeholder text" data-element="p"></div><div xmlns:xr="http://www.tekturcms.de/2012/xr/common" xmlns:xlink="http://www.w3.org/1999/xlink" data-attribute-id="30ca1f15-55f4-4eba-9f9f-eff3c661f764d6e37" class="p" data-element="p">Folgende ist das komplette Beispiel fÃ¼r eine MarkLogic XQuery Konsolensitzung abgebildet ...</div><div class="pre"><div data-attribute-id="d0d93557-545a-4535-ac8b-9b5fb873df14d6e39" data-attribute-xml_space="preserve" class="pre-content" data-element="pre">xquery version "1.0-ml";

declare namespace k = 'http://www.tekturcms.de/kunden';
declare namespace b = 'http://www.tekturcms.de/bestellungen';

import module namespace tde = "http://marklogic.com/xdmp/tde" at "/MarkLogic/tde.xqy";

declare function local:loadKunde($id, $name, $eMail)
{
  let $root :=
  &lt;k:kunde&gt;
    &lt;k:id&gt;{ $id }&lt;/k:id&gt;
    &lt;k:name&gt;{ $name }&lt;/k:name&gt;
    &lt;k:eMail&gt;{ $eMail }&lt;/k:eMail&gt;
  &lt;/k:kunde&gt;,
  $options :=
  &lt;options xmlns="xdmp:document-insert"&gt;  
    &lt;permissions&gt;{ xdmp:default-permissions() }&lt;/permissions&gt;
    &lt;collections&gt;
      &lt;collection&gt;/kunden&lt;/collection&gt;
    &lt;/collections&gt;
  &lt;/options&gt;,
  $fname := concat('/kunden/',$id,".xml")
  return xdmp:document-insert($fname,$root,$options)
};

declare function local:loadBestellung($id, $datum, $preis, $kunde-id)
{
  let $root :=
  &lt;b:bestellung&gt;
    &lt;b:id&gt;{ $id }&lt;/b:id&gt;
    &lt;b:datum&gt;{ $datum }&lt;/b:datum&gt;
    &lt;b:preis&gt;{ $preis }&lt;/b:preis&gt;
    &lt;b:kunde-id&gt;{ $kunde-id }&lt;/b:kunde-id&gt;
  &lt;/b:bestellung&gt;,
  $options :=
  &lt;options xmlns="xdmp:document-insert"&gt;  
    &lt;permissions&gt;{ xdmp:default-permissions() }&lt;/permissions&gt;
    &lt;collections&gt;
      &lt;collection&gt;/bestellungen&lt;/collection&gt;
    &lt;/collections&gt;
  &lt;/options&gt;,
  $fname := concat('/bestellungen/',$id,".xml")
  return xdmp:document-insert($fname,$root,$options)
};

declare function local:insertKundenSchema()
{
  let $sql-view-name := 'kunden-view.xml',
      $sql-view := &lt;template xmlns="http://marklogic.com/xdmp/tde"&gt;
    &lt;path-namespaces&gt;
      &lt;path-namespace&gt;
        &lt;prefix&gt;k&lt;/prefix&gt;
        &lt;namespace-uri&gt;http://www.tekturcms.de/kunden&lt;/namespace-uri&gt;
       &lt;/path-namespace&gt;
    &lt;/path-namespaces&gt;
    &lt;context&gt;/k:kunde&lt;/context&gt;
     &lt;collections&gt;
       &lt;collections-and&gt;
         &lt;collection&gt;/kunden&lt;/collection&gt;
      &lt;/collections-and&gt;
     &lt;/collections&gt;
     &lt;rows&gt;
       &lt;row&gt;
         &lt;schema-name&gt;kunden_schema&lt;/schema-name&gt;
         &lt;view-name&gt;kunden_view&lt;/view-name&gt;
         &lt;columns&gt;
            &lt;column&gt;
               &lt;name&gt;id&lt;/name&gt;
               &lt;scalar-type&gt;string&lt;/scalar-type&gt;
               &lt;val&gt;k:id&lt;/val&gt;
            &lt;/column&gt;
            &lt;column&gt;
               &lt;name&gt;name&lt;/name&gt;
               &lt;scalar-type&gt;string&lt;/scalar-type&gt;
               &lt;val&gt;k:name&lt;/val&gt;
            &lt;/column&gt;
          &lt;column&gt;
             &lt;name&gt;eMail&lt;/name&gt;
             &lt;scalar-type&gt;string&lt;/scalar-type&gt;
             &lt;val&gt;k:eMail&lt;/val&gt;
          &lt;/column&gt;
        &lt;/columns&gt;
      &lt;/row&gt;
    &lt;/rows&gt;
  &lt;/template&gt;
  return
    tde:template-insert(concat('/templates/', 
                        $sql-view-name), $sql-view, xdmp:default-permissions())
};

declare function local:insertBestellungenSchema()
{
  let $sql-view-name := 'bestellungen-view.xml',
      $sql-view := &lt;template xmlns="http://marklogic.com/xdmp/tde"&gt;
    &lt;path-namespaces&gt;
      &lt;path-namespace&gt;
        &lt;prefix&gt;b&lt;/prefix&gt;
        &lt;namespace-uri&gt;http://www.tekturcms.de/bestellungen&lt;/namespace-uri&gt;
       &lt;/path-namespace&gt;
    &lt;/path-namespaces&gt;
    &lt;context&gt;/b:bestellung&lt;/context&gt;
     &lt;collections&gt;
       &lt;collections-and&gt;
         &lt;collection&gt;/bestellungen&lt;/collection&gt;
      &lt;/collections-and&gt;
     &lt;/collections&gt;
     &lt;rows&gt;
       &lt;row&gt;
         &lt;schema-name&gt;bestellungen_schema&lt;/schema-name&gt;
         &lt;view-name&gt;bestellungen_view&lt;/view-name&gt;
         &lt;columns&gt;
            &lt;column&gt;
               &lt;name&gt;id&lt;/name&gt;
               &lt;scalar-type&gt;string&lt;/scalar-type&gt;
               &lt;val&gt;b:id&lt;/val&gt;
            &lt;/column&gt;
            &lt;column&gt;
               &lt;name&gt;datum&lt;/name&gt;
               &lt;scalar-type&gt;string&lt;/scalar-type&gt;
               &lt;val&gt;b:datum&lt;/val&gt;
            &lt;/column&gt;
          &lt;column&gt;
             &lt;name&gt;preis&lt;/name&gt;
             &lt;scalar-type&gt;string&lt;/scalar-type&gt;
             &lt;val&gt;b:preis&lt;/val&gt;
          &lt;/column&gt;
          &lt;column&gt;
             &lt;name&gt;kunde_id&lt;/name&gt;
             &lt;scalar-type&gt;string&lt;/scalar-type&gt;
             &lt;val&gt;b:kunde-id&lt;/val&gt;
          &lt;/column&gt;
        &lt;/columns&gt;
      &lt;/row&gt;
    &lt;/rows&gt;
  &lt;/template&gt;
  return
    tde:template-insert(concat('/templates/', 
                        $sql-view-name), $sql-view, xdmp:default-permissions())
};
local:loadKunde("1","Alex","tekturcms@gmail.com"),
local:loadKunde("2","Horst","horst@horst.de"),
local:loadKunde("3","Gundula","gundl@gundula.de"),
local:loadBestellung("1","02.01.2019","99.90","2"),
local:loadBestellung("2","03.01.2019","68.90","1"),
local:insertKundenSchema(),
local:insertBestellungenSchema(),

xdmp:sql("SELECT name, datum, preis FROM kunden_view k INNER JOIN 
          bestellungen_view b ON k.id = b.kunde_id")</div></div><div class="placeholder text" data-element="p"></div><div xmlns:xr="http://www.tekturcms.de/2012/xr/common" xmlns:xlink="http://www.w3.org/1999/xlink" data-attribute-id="af0bb509-8735-46fb-8e48-918f1d3f8f15d6e41" class="p" data-element="p">... mit einer schÃ¶nen tabellarischen Ausgabe im unteren Panel der Query Konsole - oder als JSON:</div><div class="pre"><div data-attribute-id="71d3890d-57a1-4861-a0a7-373c1ef77ae9d6e43" data-attribute-xml_space="preserve" class="pre-content" data-element="pre">[
  [
    "k.name", 
    "b.datum", 
    "b.preis"
  ], 
  [
    "Alex", 
    "03.01.2019", 
    "68.90"
  ], 
  [
    "Horst", 
    "02.01.2019", 
    "99.90"
  ]
]</div></div><div class="placeholder text" data-element="p"></div><div class="placeholder text" data-element="p"></div></div></div></div></div></div><textarea style="display:none" id="application-status">{}</textarea><div id="table-drag-info" style="display:none"></div><div id="debug-message" style="display:none;color:red"></div><div id="rendering-finished" style="display:none;">true</div><div id="tektur-configuration" style="display:none"><div id="tektur-configuration-editable-elements">p,title,pre,desc,shortdesc,cmd,navtitle,searchtitle</div><div id="tektur-configuration-title-elements">title,dthd,ddhd,desc,shortdesc,navtitle,searchtitle,typeofhazard</div><div id="tektur-configuration-inline-elements">b,i,u,sup,sub,xref,tt,indexterm,image</div><div id="tektur-configuration-list-elements">li,step,substep,choice</div><div id="tektur-configuration-table-elements">table,choicetable,simpletable,dl,legend</div><div id="tektur-configuration-real-table-elements">table,simpletable</div><div id="tektur-configuration-table-entry-elements">entry,leg-pos,leg-name,stentry,dt,dd,dthd,ddhd,choptionhd,chdeschd,choption,chdesc</div><div id="tektur-configuration-table-row-elements">row,legentry,strow,sthead,dlhead,dlentry,chhead,chrow</div><div id="tektur-configuration-paragraph-elements">p,cmd</div><div id="tektur-configuration-action-elements">cmd</div><div id="tektur-configuration-result-elements">step,stepresult</div><div id="tektur-configuration-pre-elements">pre</div><div id="tektur-configuration-selectable-elements">table,topic,task,taskbody,simpletable,fig,note,dl,step,substep,hazardstatement,ol,steps,ul,section,legend,choices,substeps,stepresult,choicetable,info,step,substep,body,placeholder-element</div><div id="tektur-configuration-block-elements">p,table,simpletable,pre,fig,dl,ol,ul,note,hazardstatement,pre</div><div id="tektur-configuration-body-elements">body,frontbody</div><div id="tektur-configuration-section-elements">section</div><div id="tektur-configuration-root-elements">topic,task,frontbody</div><div id="tektur-configuration-must-contain-elements">body,entry,desc,li,typeofhazard,consequence,dt,dd,dlhead,dlentry,chrow,chhead,legpos,legname,dthd,dtdd,titlealts</div><div id="tektur-configuration-show-tags-elements">table,fig,dl,ul,ol,code,typeofhazard,consequence,howtoavoid,hazardstatement,note,simpletable,legend,section,choices,info,stepresult,prereq,context,postreq,result,topic,task,abstract,taskbody,steps,choicetable,substeps,body</div><div id="tektur-configuration-show-icon-instead-of-tags-elements">placeholder-element,step,substep</div><div id="tektur-configuration-never-show-tags-elements">thead,tgroup,tbody,row,entry,stentry,strow,sthead,dlhead,dlentry,legentry,p,chhead,chrow</div><div id="tektur-configuration-labels">placeholder-element=Optional Element</div><div id="tektur-configuration-structure-nogos">table/table</div><div id="tektur-configuration-blocks-mode-deletable">dl,fig,hazardstatement,note,ol,p,li,pre,simpletable,table,ul,section,prereq,context,steps,result,postreq,step,substeps,choices,choicetable,info,stepresult,stepsection,abstract</div><div id="tektur-configuration-do-not-hide-tags">true</div><div id="tektur-configuration-tag-style">font-weight:normal;margin-bottom: 4px;color:black;padding-left:4px;padding-right:4px;font-style:italic;font-size:8pt;font-family:Arial;background-color:#e3e3e3</div><div id="tektur-configuration-tag-border-style">font-weight:normal;margin-bottom: 4px;color:black;padding-left:4px;padding-right:4px;font-style:italic;font-size:8pt;font-family:Arial;background-color:#e3e3e3;</div><div id="tektur-configuration-tag-invisible-style">font-weight:normal;margin-bottom: 4px;color:black;padding-left:4px;padding-right:4px;font-style:italic;font-size:8pt;font-family:Arial;background-color:#e3e3e3</div><div id="tektur-configuration-undo-keystroke-limit">10</div></div></body></html>