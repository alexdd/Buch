<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Strict//DE" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html data-tektur-document-version="0">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <title>XML Hands On</title>
      <link>
         <link rel="stylesheet" type="text/css" href="/html5/css/site.css">
         <link rel="stylesheet" type="text/css" href="/html5/css/elements.css">
         <link rel="stylesheet" type="text/css" href="/html5/css/prettify.css"><script type="text/javascript" src="/html5/js/jquery.js"></script><script type="text/javascript" src="/html5/js/jquery.cookie.js"></script><script type="text/javascript" src="/html5/js/jquery.treeview.js"></script><script type="text/javascript" src="/html5/js/jquery.mark.min.js"></script><script type="text/javascript" src="/dist/site.js"></script>
   </head>
   <body>
      <div id="bar"></div>
      <div id="header">
         <h1>
            <div id="header-text">XML Hands On</div>
         </h1>
      </div>
      <div id="nav">
         <div class="buttons" style="width:100%">
            <ul>
               <li><a href="#" class="info menu"><img id="tocbutton" src="/images/toc_open.png" border="0"><span>Hide Sidebar</span></a></li>
               <li><a href="../result.pdf" target="_blank" class="info menu"><img id="pdfbutton" style="margin-top:3px" src="/images/pdficon.png" border="0"><span>Show PDF</span></a></li>
               <li><a href="/exportElement/alex/dec6632b-2b03-481e-924c-b05befd3f95b/map" target="_blank" class="info menu"><img id="ditabutton" style="margin-top:3px" src="/images/disk.png" border="0"><span>Download XML</span></a></li>
            </ul>
         </div>
      </div>
      <div id="sidebar"><a href="/tektur.html" title="Go to Tektur CCMS"><img id="logo-image" src="../logo.png"></a><div id="scrollarea">
            <div id="toc-panel">
               <table width="100%" border="0" id="toc-links">
                  <tr>
                     <td><a class="cover-link" href="book.html">Cover</a></td>
                     <td style="text-align:right">[ <span id="collapse-link">collapse</span> ]
                     </td>
                  </tr>
               </table>
               <ul id="navigation" class="treeview-gray">
                  <li class="toc-level-1"><a href="c15a8d5c-03bc-4ee9-a04a-a123e0ce5d88.html" class="toc-entry" id="chapter-link_c15a8d5c-03bc-4ee9-a04a-a123e0ce5d88" data-level="1"><span class="chapter-link1">1&nbsp;&nbsp;
                           Intro
                           </span></a></li>
                  <li class="toc-level-1"><a href="792c9845-7c63-4a18-8aee-1878763200b5.html" class="toc-entry" id="chapter-link_792c9845-7c63-4a18-8aee-1878763200b5" data-level="1"><span class="chapter-link1">2&nbsp;&nbsp;
                           Anwendungsgebiete
                           </span></a><ul>
                        <li class="toc-level-2"><a href="a264856d-c5d5-4d7b-993f-421bf222db76.html" class="toc-entry" id="chapter-link_a264856d-c5d5-4d7b-993f-421bf222db76" data-level="2"><span class="chapter-link2">2.1&nbsp;&nbsp;
                                 XSLT - die Programmiersprache im XML Bereich
                                 </span></a></li>
                        <li class="toc-level-2"><a href="3c090c4b-2d46-459c-87ba-60a824bf5aa5.html" class="toc-entry" id="chapter-link_3c090c4b-2d46-459c-87ba-60a824bf5aa5" data-level="2"><span class="chapter-link2">2.2&nbsp;&nbsp;
                                 Aktuelle und vergangene Anwendungen
                                 
                                 XML Webseiten
                                 
                                 Serverseitige Konvertierung
                                 
                                 Ausgabeformate
                                 
                                 Menschenlesbare Ausgabe
                                 
                                 Diagramme darstellen
                                 </span></a></li>
                        <li class="toc-level-2"><a href="151a9719-a32a-4fca-a55c-769b47a73b34.html" class="toc-entry" id="chapter-link_151a9719-a32a-4fca-a55c-769b47a73b34" data-level="2"><span class="chapter-link2">2.3&nbsp;&nbsp;
                                 Professionelle XML Verarbeitung
                                 
                                 Single Source Publishing
                                 
                                 Code Generierung
                                 
                                 Migrationen und Konvertierungen
                                 </span></a></li>
                     </ul>
                  </li>
                  <li class="toc-level-1"><a href="31a92dc0-959c-49a1-b06e-01e2369e050e.html" class="toc-entry" id="chapter-link_31a92dc0-959c-49a1-b06e-01e2369e050e" data-level="1"><span class="chapter-link1">3&nbsp;&nbsp;
                           Wichtige Konzepte
                           </span></a><ul>
                        <li class="toc-level-2"><a href="5b73f348-0058-45e0-82f7-c3de72ec5d41.html" class="toc-entry" id="chapter-link_5b73f348-0058-45e0-82f7-c3de72ec5d41" data-level="2"><span class="chapter-link2">3.1&nbsp;&nbsp;
                                 Push vs. Pull Stylesheets 
                                 </span></a></li>
                        <li class="toc-level-2"><a href="db988919-f71e-437e-b699-b6fdd2a32cb9.html" class="toc-entry" id="chapter-link_db988919-f71e-437e-b699-b6fdd2a32cb9" data-level="2"><span class="chapter-link2">3.2&nbsp;&nbsp;
                                 Eindeutigkeit der Regelbasis
                                 
                                 Reihenfolge der Match-Regeln
                                 
                                 Präzedenz der Auswertung
                                 
                                 Import Präzendenz und Default-Regel
                                 
                                 Prioritäten
                                 
                                 Modus Attribute
                                 </span></a></li>
                        <li class="toc-level-2"><a href="3e443c28-8698-470b-b443-f286ff7ed2d5.html" class="toc-entry" id="chapter-link_3e443c28-8698-470b-b443-f286ff7ed2d5" data-level="2"><span class="chapter-link2">3.3&nbsp;&nbsp;
                                 Namespaces
                                 
                                 Namespaces in XQuery
                                 </span></a></li>
                     </ul>
                  </li>
                  <li class="toc-level-1"><a href="f838f9be-97bf-44a4-ac63-2e813a87f2ea.html" class="toc-entry" id="chapter-link_f838f9be-97bf-44a4-ac63-2e813a87f2ea" data-level="1"><span class="chapter-link1">4&nbsp;&nbsp;
                           Ausgewählte Themen
                           </span></a><ul>
                        <li class="toc-level-2"><a href="c20c1e01-1175-4664-a26a-71317760930f.html" class="toc-entry" id="chapter-link_c20c1e01-1175-4664-a26a-71317760930f" data-level="2"><span class="chapter-link2">4.1&nbsp;&nbsp;
                                 Transformationen mit XSLT
                                 </span></a><ul>
                              <li class="toc-level-3"><a href="ceed4546-a60b-4d5f-a625-6e79c180cc13.html" class="toc-entry" id="chapter-link_ceed4546-a60b-4d5f-a625-6e79c180cc13" data-level="3"><span class="chapter-link3">4.1.1&nbsp;&nbsp;
                                       Vortransformationen 
                                       </span></a></li>
                              <li class="toc-level-3"><a href="888d37da-0dbe-4fae-bec9-2ad1e99f7818.html" class="toc-entry" id="chapter-link_888d37da-0dbe-4fae-bec9-2ad1e99f7818" data-level="3"><span class="chapter-link3">4.1.2&nbsp;&nbsp;
                                       Vererbung 
                                       
                                       Beispiel: Parameterisierung
                                       </span></a></li>
                              <li class="toc-level-3"><a href="1f8595d0-4ed9-4070-8cff-c5c59f690093.html" class="toc-entry" id="chapter-link_1f8595d0-4ed9-4070-8cff-c5c59f690093" data-level="3"><span class="chapter-link3">4.1.3&nbsp;&nbsp;
                                       XSLT Streaming
                                       </span></a><ul>
                                    <li class="toc-level-4"><a href="51bec5b9-1207-45cc-9bf2-b6ce3e300547.html" class="toc-entry" id="chapter-link_51bec5b9-1207-45cc-9bf2-b6ce3e300547" data-level="4"><span class="chapter-link4">4.1.3.1&nbsp;&nbsp;
                                             XSLT Akkumulator
                                             </span></a></li>
                                    <li class="toc-level-4"><a href="b308e60a-c7f3-4143-8e04-6c0d3bd4df01.html" class="toc-entry" id="chapter-link_b308e60a-c7f3-4143-8e04-6c0d3bd4df01" data-level="4"><span class="chapter-link4">4.1.3.2&nbsp;&nbsp;
                                             XSLT Iterator
                                             </span></a></li>
                                 </ul>
                              </li>
                              <li class="toc-level-3"><a href="e3ccdc75-56e4-45b3-a2be-07a61a2dcd51.html" class="toc-entry" id="chapter-link_e3ccdc75-56e4-45b3-a2be-07a61a2dcd51" data-level="3"><span class="chapter-link3">4.1.4&nbsp;&nbsp;
                                       Identifikation mit <span style="font-family:Courier New, monospace">
                                          generate-id()
                                          </span>
                                       
                                       
                                       Beispiel Stückliste
                                       
                                       Beispiel Mantel Dokument
                                       </span></a></li>
                              <li class="toc-level-3"><a href="12f4b667-2093-456b-8986-d269a6375d60.html" class="toc-entry" id="chapter-link_12f4b667-2093-456b-8986-d269a6375d60" data-level="3"><span class="chapter-link3">4.1.5&nbsp;&nbsp;
                                       Reguläre Ausdrücke
                                       
                                       XSLT Analyze String
                                       </span></a></li>
                              <li class="toc-level-3"><a href="11ebc17e-560c-4961-8dd6-9aa6776dc160.html" class="toc-entry" id="chapter-link_11ebc17e-560c-4961-8dd6-9aa6776dc160" data-level="3"><span class="chapter-link3">4.1.6&nbsp;&nbsp;
                                       Webservice Calls mit <span style="font-family:Courier New, monospace">
                                          doc()
                                          </span> und <span style="font-family:Courier New, monospace">
                                          unparsed-text()
                                          </span>
                                       
                                       </span></a></li>
                           </ul>
                        </li>
                        <li class="toc-level-2"><a href="0846d6a2-6999-42ab-9e83-55bc197fc11c.html" class="toc-entry" id="chapter-link_0846d6a2-6999-42ab-9e83-55bc197fc11c" data-level="2"><span class="chapter-link2">4.2&nbsp;&nbsp;
                                 Abfragen mit XQuery 
                                 
                                 XQuery Builder
                                 
                                 FLOWR Expression
                                 
                                 XML per XQuery
                                 
                                 Document Projection
                                 </span></a><ul>
                              <li class="toc-level-3"><a href="98665bd9-d40d-4fc7-ab7a-e340be6190a6.html" class="toc-entry" id="chapter-link_98665bd9-d40d-4fc7-ab7a-e340be6190a6" data-level="3"><span class="chapter-link3">4.2.1&nbsp;&nbsp;
                                       XQuery als Programmiersprache
                                       
                                       Schleifen
                                       
                                       Dokumente in der DB anlegen
                                       </span></a><ul>
                                    <li class="toc-level-4"><a href="3630ee02-616b-4bbc-8655-9064d57bf945.html" class="toc-entry" id="chapter-link_3630ee02-616b-4bbc-8655-9064d57bf945" data-level="4"><span class="chapter-link4">4.2.1.1&nbsp;&nbsp;
                                             Funktionen und Module
                                             
                                             Funktionen
                                             
                                             Module
                                             </span></a></li>
                                    <li class="toc-level-4"><a href="d9cd641f-29f4-485d-8e67-32519d422b08.html" class="toc-entry" id="chapter-link_d9cd641f-29f4-485d-8e67-32519d422b08" data-level="4"><span class="chapter-link4">4.2.1.2&nbsp;&nbsp;
                                             If..then..else Ausdrücke
                                             
                                             XQuery Server Application
                                             </span></a></li>
                                 </ul>
                              </li>
                           </ul>
                        </li>
                        <li class="toc-level-2"><a href="3337f433-44bf-430d-a809-73fd1de5ba6c.html" class="toc-entry" id="chapter-link_3337f433-44bf-430d-a809-73fd1de5ba6c" data-level="2"><span class="chapter-link2">4.3&nbsp;&nbsp;
                                 XML Datenbanken
                                 </span></a><ul>
                              <li class="toc-level-3"><a href="38f7a676-cbef-4a69-9ae9-d89bddde2719.html" class="toc-entry" id="chapter-link_38f7a676-cbef-4a69-9ae9-d89bddde2719" data-level="3"><span class="chapter-link3">4.3.1&nbsp;&nbsp;
                                       Connector zu Marklogic in Oxygen Test
                                       </span></a></li>
                              <li class="toc-level-3"><a href="382bb96a-5a06-460c-8d69-4c4cd613297c.html" class="toc-entry" id="chapter-link_382bb96a-5a06-460c-8d69-4c4cd613297c" data-level="3"><span class="chapter-link3">4.3.2&nbsp;&nbsp;
                                       SQL Views in MarkLogic
                                       </span></a></li>
                              <li class="toc-level-3"><a href="ef2b4070-c3cf-4d73-968e-e25f6dc1eef0.html" class="toc-entry" id="chapter-link_ef2b4070-c3cf-4d73-968e-e25f6dc1eef0" data-level="3"><span class="chapter-link3">4.3.3&nbsp;&nbsp;
                                       Bi-Temporale Dokumente
                                       </span></a><ul>
                                    <li class="toc-level-4"><a href="7c58baac-7b83-41b9-adf6-12f63539cbb6.html" class="toc-entry" id="chapter-link_7c58baac-7b83-41b9-adf6-12f63539cbb6" data-level="4"><span class="chapter-link4">4.3.3.1&nbsp;&nbsp;
                                             Anlegen des Testszenarios auf der ML Konsole
                                             </span></a></li>
                                    <li class="toc-level-4"><a href="62faa067-ecd5-4053-8388-e7e151f04542.html" class="toc-entry" id="chapter-link_62faa067-ecd5-4053-8388-e7e151f04542" data-level="4"><span class="chapter-link4">4.3.3.2&nbsp;&nbsp;
                                             Ausführen einiger Beispiel-Queries
                                             </span></a></li>
                                 </ul>
                              </li>
                           </ul>
                        </li>
                        <li class="toc-level-2"><a href="b3eba8f1-fb04-4ab5-ac92-5f52c80d1936.html" class="toc-entry" id="chapter-link_b3eba8f1-fb04-4ab5-ac92-5f52c80d1936" data-level="2"><span class="chapter-link2">4.4&nbsp;&nbsp;
                                 Testing
                                 </span></a><ul>
                              <li class="toc-level-3"><a href="6fd7b270-9d1f-4f8e-996f-13b5862956a9.html" class="toc-entry" id="chapter-link_6fd7b270-9d1f-4f8e-996f-13b5862956a9" data-level="3"><span class="chapter-link3">4.4.1&nbsp;&nbsp;
                                       Validierung mit Schematron
                                       
                                       Schematron ist XSLT
                                       
                                       CLI Verwendung
                                       </span></a></li>
                              <li class="toc-level-3"><a href="cc183707-5352-4c9c-9c31-68047a882d0f.html" class="toc-entry" id="chapter-link_cc183707-5352-4c9c-9c31-68047a882d0f" data-level="3"><span class="chapter-link3">4.4.2&nbsp;&nbsp;
                                       Erste Schritte mit Xspec
                                       </span></a></li>
                           </ul>
                        </li>
                     </ul>
                  </li>
                  <li class="toc-level-1"><a href="f606e9c6-3d46-48f3-8de4-46e13dc7d055.html" class="toc-entry" id="chapter-link_f606e9c6-3d46-48f3-8de4-46e13dc7d055" data-level="1"><span class="chapter-link1">5&nbsp;&nbsp;
                           Zusätzliches Know-How
                           </span></a><ul>
                        <li class="toc-level-2"><a href="7dbb15ce-bbc5-4d91-b977-ed7e8117730e.html" class="toc-entry" id="chapter-link_7dbb15ce-bbc5-4d91-b977-ed7e8117730e" data-level="2"><span class="chapter-link2">5.1&nbsp;&nbsp;
                                 GIT Einmaleins 
                                 </span></a></li>
                        <li class="toc-level-2"><a href="4100d43a-5b71-43ba-a05f-1063fcee8679.html" class="toc-entry" id="chapter-link_4100d43a-5b71-43ba-a05f-1063fcee8679" data-level="2"><span class="chapter-link2">5.2&nbsp;&nbsp;
                                 XML Editoren 
                                 
                                 WYSIWYM Desktop
                                 
                                 WYSIWYG Desktop
                                 
                                 WYSIWYM Online
                                 </span></a></li>
                     </ul>
                  </li>
                  <li class="toc-level-1"><a href="3dfad2c2-2299-461a-9d80-42237bbb5e89.html" class="toc-entry" id="chapter-link_3dfad2c2-2299-461a-9d80-42237bbb5e89" data-level="1"><span class="chapter-link1">6&nbsp;&nbsp;
                           Glossar
                           </span></a></li>
                  <li class="toc-level-1"><a href="dac12b19-ef37-4e41-b88c-6f0ce7becbb8.html" class="toc-entry" id="chapter-link_dac12b19-ef37-4e41-b88c-6f0ce7becbb8" data-level="1"><span class="chapter-link1">7&nbsp;&nbsp;
                           Tektur CCMS
                           </span></a></li>
               </ul>
            </div>
         </div>
      </div>
      <div id="main">
         <div id="content-wrapper">
            <div id="11ebc17e-560c-4961-8dd6-9aa6776dc160-target" class="chapter first" data-element-name="chapter">
               <h2 id="" data-element-name="title"><span class="number">4.1.6&nbsp;&nbsp;</span><span class="text"><span class="first-chapter-title">
                        
                        <div class="title" data-tektur-reviewer-number="" id="fbbe8267-ed7b-4b78-b547-d00fe41f0b5c" data-element-name="title">Webservice Calls mit <span style="font-family:Courier New, monospace">
                              doc()
                              </span> und <span style="font-family:Courier New, monospace">
                              unparsed-text()
                              </span>
                           
                        </div>
                        </span></span></h2>
               <div class="margin">
                  <div class="p" id="" data-element-name="p" data-tektur-reviewer-number="">Eine verbreitete Paxis ist es, mit der Funktion <span style="font-family:Courier New, monospace">
                        document()
                        </span> oder kurz <span style="font-family:Courier New, monospace">
                        doc()
                        </span> 
                     entfernte Ressourcen in die Transformation einzubinden. 
                     Bei einer Schematron-Validierung, würde bspw. eine Regel, wie:
                  </div>
               </div>
               <div class="no-margin"><pre class="verbatim"><span style="color:#527F3F">&lt;sch:not-assert</span> id="personal-check"
    role="error"
    test="doc(concat('https://tekturcms.de/personal.xqy?personal-id=',personal-id))/kuendigung"<span style="color:#527F3F">&gt;</span>
        Angestellter mit ID "<span style="color:#527F3F">&lt;sch:value-of</span> select="personal-id"<span style="color:#527F3F">/&gt;</span>" hat gekündigt!
<span style="color:#527F3F">&lt;/sch:not-assert&gt;</span></pre></div>
               <div class="margin">
                  <div class="p" id="" data-element-name="p" data-tektur-reviewer-number="">einen entferneten Webservice aufrufen und prüfen, ob für den Angestellten mit <span style="font-family:Courier New, monospace">
                        personal-id
                        </span>
                     eine Kündigung vorliegt. Ist dies der Fall, so ist die negative Zusicherung <span style="font-family:Courier New, monospace">
                        not-assert
                        </span> nicht
                     erfüllt und die Schematron Regel feuert - was sich wohl im einfachsten Fall in einem 
                     Logfile Eintrag äussern sollte.
                  </div>
               </div>
               <div class="margin">
                  <div class="p" id="" data-element-name="p" data-tektur-reviewer-number="">Was vermutlich viele noch nicht kennen - ich nehme jetzt einfach mal an, dass mein 
                     bisheriger Kenntnisstand dem der Mehrheit der XML-Entwickler entspricht - ist der Umstand,
                     dass auch die Funktion <span style="font-family:Courier New, monospace">
                        unparsed-text()
                        </span> eine URL als Parameter nimmt:
                  </div>
               </div>
               <div class="no-margin"><pre class="verbatim"><span style="color:#527F3F">&lt;xsl:template</span> match="angestellter"
    &lt;xsl:copy<span style="color:#527F3F">&gt;</span>
        <span style="color:#527F3F">&lt;xsl:apply-templates</span> select="node()|@*"<span style="color:#527F3F">/&gt;</span>
        <span style="color:#527F3F">&lt;hat-gekuendigt&gt;</span>
            <span style="color:#527F3F">&lt;xsl:sequence</span> select="json-to-xml(
                                  unparsed-text(
                                  concat('https://tekturcms.de/personal.xqy?personal-id=',
                                  personal-id))))/descendant::*[@key='gekuendigt']/text()"<span style="color:#527F3F">/&gt;</span>
        <span style="color:#527F3F">&lt;/hat-gekuendigt&gt;</span>
    <span style="color:#527F3F">&lt;/xsl:copy&gt;</span>
<span style="color:#527F3F">&lt;/xsl:template&gt;</span></pre></div>
               <div class="margin">
                  <div class="p" id="" data-element-name="p" data-tektur-reviewer-number="">Während mit <span style="font-family:Courier New, monospace">
                        doc()
                        </span> oder <span style="font-family:Courier New, monospace">
                        document()
                        </span> ein zurückgeliefertes XML Fragment 
                     prozessiert wird, erwartet <span style="font-family:Courier New, monospace">
                        unparsed-text()
                        </span> z.B. einen JSON-String, der dann mittels
                     der Funktion <span style="font-family:Courier New, monospace">
                        json-to-xml()
                        </span> nach XML konvertiert werden kann.
                  </div>
               </div>
               <div class="margin">
                  <div class="p" id="" data-element-name="p" data-tektur-reviewer-number="">Beispielsweise könnte die Gegenseite zum <span style="font-family:Courier New, monospace">
                        angestellter
                        </span> Template mittels XQuery
                     folgendermassen realisiert sein:
                  </div>
               </div>
               <div class="no-margin"><pre class="verbatim">xquery version "1.0-ml";

<span style="color:#7F3300">declare </span><span style="color:#7F3300">variable </span><span style="color:#7F0037">$personal-id</span> := <span style="color:#000099">xdmp:get-request-field</span>('personal-id');

<span style="color:#7F3300">let </span><span style="color:#7F0037">$gekuendigt</span> := <span style="color:#7F3300">if </span>(collection('/personal')/*[personal-id = <span style="color:#7F0037">$personal-id</span> and 
                                                 <span style="color:#000099">fn:exists</span>(kuendingung)] <span style="color:#7F3300">then </span>
                                                 'ja' else 'nein'
<span style="color:#7F3300">return </span>
    <span style="color:#000099">common:render-response</span>(concat('{"gekuendigt":"',<span style="color:#7F0037">$gekuendigt</span>,'",
                                    "personal-id":"',<span style="color:#7F0037">$personal-id</span>,'"}'))</pre></div>
               <div class="margin">
                  <div class="p" id="" data-element-name="p" data-tektur-reviewer-number="">(<a class="ref" id="86e61dc1-c690-4420-b3ce-83c39c6bf091" data-id-ref="" data-element-name="doclink" data-is-inline-element="yes">Mehr zu XQuery und den hier verwendeten Konstrukten</a>, wie <span style="font-family:Courier New, monospace">
                        render-response()
                        </span>))
                  </div>
               </div>
               <div class="margin">
                  <div class="p" id="" data-element-name="p" data-tektur-reviewer-number="">Das zurückgeklieferte JSON Dokument sieht dann so aus:</div>
               </div>
               <div class="no-margin"><pre class="verbatim">{"gekuendig":"ja","personal-id":"q5687500"}</pre></div>
               <div class="margin">
                  <div class="p" id="" data-element-name="p" data-tektur-reviewer-number="">Konvertiert nach XML erhält man eine Map Struktur:</div>
               </div>
               <div class="no-margin"><pre class="verbatim"><span style="color:#527F3F">&lt;map</span> xmlns="http://www.w3.org/2005/xpath-functions"<span style="color:#527F3F">&gt;</span>
    <span style="color:#527F3F">&lt;string</span> key="gekuedigt"<span style="color:#527F3F">&gt;</span>ja<span style="color:#527F3F">&lt;/string&gt;</span>
    <span style="color:#527F3F">&lt;string</span> key="personal-id"<span style="color:#527F3F">&gt;</span>q5687500<span style="color:#527F3F">&lt;/string&gt;</span>
<span style="color:#527F3F">&lt;/map&gt;</span></pre></div>
               <div class="margin">
                  <div class="p" id="" data-element-name="p" data-tektur-reviewer-number="">was den Selektorausdruck im obigen XPATH erklärt:</div>
               </div>
               <div class="no-margin"><pre class="verbatim">json-to-xml(
unparsed-text(
concat('https://tekturcms.de/personal.xqy?personal-id=',
personal-id))))/descendant::*[@key='gekuendigt']/text()</pre></div>
               <div class="margin">
                  <div class="p" id="" data-element-name="p" data-tektur-reviewer-number="">Resultat der Konvertierung wäre also dann - wie erwartet - ein um 
                     das <span style="font-family:Courier New, monospace">
                        gekuendigt
                        </span> Flag erweitertes <span style="font-family:Courier New, monospace">
                        &lt;angestellter&gt;
                        </span>
                     Element:
                  </div>
               </div>
               <div class="no-margin"><pre class="verbatim"><span style="color:#527F3F">&lt;angestellter&gt;</span>
    <span style="color:#527F3F">&lt;perosnal-id&gt;</span>q5687500<span style="color:#527F3F">&lt;/perosnal-id&gt;</span>
    <span style="color:#527F3F">&lt;name&gt;</span>Alex<span style="color:#527F3F">&lt;/name&gt;</span>
    [...]
    <span style="color:#527F3F">&lt;gekuendigt&gt;</span>nein<span style="color:#527F3F">&lt;/gekuendigt&gt;</span>
<span style="color:#527F3F">&lt;/angestellter&gt;</span></pre></div>
               <div class="margin">
                  <div class="p" id="" data-element-name="p" data-tektur-reviewer-number="">Sicherlich wird der XML Entwicler eine <a class="ref" id="997e18de-4390-4b97-9f13-5198617f39e4" data-id-ref="" data-element-name="doclink" data-is-inline-element="yes">XML Datenbank</a>, wie MarkLogic, vorziehen
                     und sich gleich XML Fragmente ausliefern laasen. Tektur&nbsp;CCMS ist aber bspw. mit
                     <a href="https://www.mongodb.com/" title="https://www.mongodb.com/" target="_blank">MongoDB</a>
                     realisiert, die auf JSON arbeitet... Nicht zuletzt deshalb finde ich JSON Verarbeitung
                     mit XSLT recht spannend.
                  </div>
               </div>
            </div>
         </div>
         <div id="page-browser-arrows">
            <table>
               <tr>
                  <td><a href="#" class="info menu" id="prev-page"><img src="/images/arrow_left.png" border="0"><span>Previous Page</span></a></td>
                  <td><a href="#" class="info menu" id="next-page"><img src="/images/arrow_right.png" border="0"><span>Next Page</span></a></td>
               </tr>
            </table>
         </div>
      </div>
      <div id="date-version">Version: 200<br>Mar 27 2019
      </div>
   </body>
</html>