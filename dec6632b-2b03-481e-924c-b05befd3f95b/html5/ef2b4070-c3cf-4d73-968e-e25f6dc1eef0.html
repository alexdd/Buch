<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Strict//DE" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html data-tektur-document-version="0">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <title>XML Hands On</title>
      <link>
         <link rel="stylesheet" type="text/css" href="/html5/css/site.css">
         <link rel="stylesheet" type="text/css" href="/html5/css/elements.css">
         <link rel="stylesheet" type="text/css" href="/html5/css/prettify.css"><script type="text/javascript" src="/html5/js/jquery.js"></script><script type="text/javascript" src="/html5/js/jquery.cookie.js"></script><script type="text/javascript" src="/html5/js/jquery.treeview.js"></script><script type="text/javascript" src="/html5/js/jquery.mark.min.js"></script><script type="text/javascript" src="/dist/site.js"></script>
   </head>
   <body>
      <div id="topicid" style="display:none">ef2b4070-c3cf-4d73-968e-e25f6dc1eef0</div>
      <div id="bar"></div>
      <div id="header">
         <h1>
            <div id="header-text">XML Hands On</div>
         </h1>
      </div>
      <div id="nav">
         <div class="buttons" style="width:100%">
            <ul>
               <li><a href="#" class="info menu"><img id="tocbutton" src="/images/toc_open.png" border="0"><span>Hide Sidebar</span></a></li>
               <li><a href="#" class="info menu"><img id="commentsbutton" src="/images/bubble_toc_close.png" border="0"><span>Show Comments</span></a></li>
               <li><a href="../result.pdf" target="_blank" class="info menu"><img id="pdfbutton" style="margin-top:3px" src="/images/pdficon.png" border="0"><span>Show PDF</span></a></li>
               <li><a href="/exportElement/alex/dec6632b-2b03-481e-924c-b05befd3f95b/map" target="_blank" class="info menu"><img id="ditabutton" style="margin-top:3px" src="/images/disk.png" border="0"><span>Download XML</span></a></li>
            </ul>
         </div>
      </div>
      <div id="sidebar"><a href="/tektur.html" title="Go to Tektur CCMS"><img id="logo-image" src="../logo.png"></a><div id="scrollarea">
            <div id="toc-panel">
               <table width="100%" border="0" id="toc-links">
                  <tr>
                     <td><a class="cover-link" href="book.html">Cover</a></td>
                     <td style="text-align:right">[ <span id="collapse-link">collapse</span> ]
                     </td>
                  </tr>
               </table>
               <ul id="navigation" class="treeview-gray">
                  <li class="toc-level-1"><a href="c15a8d5c-03bc-4ee9-a04a-a123e0ce5d88.html" class="toc-entry" id="chapter-link_c15a8d5c-03bc-4ee9-a04a-a123e0ce5d88" data-level="1"><span class="chapter-link1">1&nbsp;&nbsp;
                           Intro
                           </span></a></li>
                  <li class="toc-level-1"><a href="792c9845-7c63-4a18-8aee-1878763200b5.html" class="toc-entry" id="chapter-link_792c9845-7c63-4a18-8aee-1878763200b5" data-level="1"><span class="chapter-link1">2&nbsp;&nbsp;
                           Anwendungsgebiete
                           </span></a><ul>
                        <li class="toc-level-2"><a href="a264856d-c5d5-4d7b-993f-421bf222db76.html" class="toc-entry" id="chapter-link_a264856d-c5d5-4d7b-993f-421bf222db76" data-level="2"><span class="chapter-link2">2.1&nbsp;&nbsp;
                                 XSLT - die Programmiersprache im XML Bereich
                                 </span></a></li>
                        <li class="toc-level-2"><a href="3c090c4b-2d46-459c-87ba-60a824bf5aa5.html" class="toc-entry" id="chapter-link_3c090c4b-2d46-459c-87ba-60a824bf5aa5" data-level="2"><span class="chapter-link2">2.2&nbsp;&nbsp;
                                 Aktuelle und vergangene Anwendungen
                                 </span></a><ul>
                              <li class="toc-level-3"><a href="3c090c4b-2d46-459c-87ba-60a824bf5aa5.html" id="chapter-link_df972998-fdff-45dd-9394-6508080a897dd6e6" data-level="3" data-is-section="true" class="toc-entry"><span class="chapter-link3"><span class="number">└</span>&nbsp;&nbsp;<span class="number">2.2.1</span>&nbsp;&nbsp;<span class="text">
                                          XML Webseiten
                                          </span></span></a></li>
                              <li class="toc-level-3"><a href="3c090c4b-2d46-459c-87ba-60a824bf5aa5.html" id="chapter-link_b77288d2-fa43-40b6-8226-134452b22fc7d6e28" data-level="3" data-is-section="true" class="toc-entry"><span class="chapter-link3"><span class="number">└</span>&nbsp;&nbsp;<span class="number">2.2.2</span>&nbsp;&nbsp;<span class="text">
                                          Serverseitige Konvertierung
                                          </span></span></a></li>
                              <li class="toc-level-3"><a href="3c090c4b-2d46-459c-87ba-60a824bf5aa5.html" id="chapter-link_9c01f236-d070-46db-9fd9-4585808a4401d6e43" data-level="3" data-is-section="true" class="toc-entry"><span class="chapter-link3"><span class="number">└</span>&nbsp;&nbsp;<span class="number">2.2.3</span>&nbsp;&nbsp;<span class="text">
                                          Multiple Ausgabeformate
                                          </span></span></a></li>
                              <li class="toc-level-3"><a href="3c090c4b-2d46-459c-87ba-60a824bf5aa5.html" id="chapter-link_14a69d0c-9be4-46eb-a266-4123a3f473dbd6e53" data-level="3" data-is-section="true" class="toc-entry"><span class="chapter-link3"><span class="number">└</span>&nbsp;&nbsp;<span class="number">2.2.4</span>&nbsp;&nbsp;<span class="text">
                                          Menschenlesbare Ausgabe
                                          </span></span></a></li>
                              <li class="toc-level-3"><a href="3c090c4b-2d46-459c-87ba-60a824bf5aa5.html" id="chapter-link_2c3b949c-77c7-4dab-b6f6-7aa304536f45d6e66" data-level="3" data-is-section="true" class="toc-entry"><span class="chapter-link3"><span class="number">└</span>&nbsp;&nbsp;<span class="number">2.2.5</span>&nbsp;&nbsp;<span class="text">
                                          Diagramme darstellen
                                          </span></span></a></li>
                           </ul>
                        </li>
                        <li class="toc-level-2"><a href="151a9719-a32a-4fca-a55c-769b47a73b34.html" class="toc-entry" id="chapter-link_151a9719-a32a-4fca-a55c-769b47a73b34" data-level="2"><span class="chapter-link2">2.3&nbsp;&nbsp;
                                 Professionelle XML Verarbeitung
                                 </span></a><ul>
                              <li class="toc-level-3"><a href="151a9719-a32a-4fca-a55c-769b47a73b34.html" id="chapter-link_b3ef9995-0478-4867-b02a-e2a3b0d9cf2cd6e6" data-level="3" data-is-section="true" class="toc-entry"><span class="chapter-link3"><span class="number">└</span>&nbsp;&nbsp;<span class="number">2.3.1</span>&nbsp;&nbsp;<span class="text">
                                          Single Source Publishing
                                          </span></span></a></li>
                              <li class="toc-level-3"><a href="151a9719-a32a-4fca-a55c-769b47a73b34.html" id="chapter-link_084a7657-95f1-4ade-905e-cada919a0918d6e72" data-level="3" data-is-section="true" class="toc-entry"><span class="chapter-link3"><span class="number">└</span>&nbsp;&nbsp;<span class="number">2.3.2</span>&nbsp;&nbsp;<span class="text">
                                          Code Generierung
                                          </span></span></a></li>
                              <li class="toc-level-3"><a href="151a9719-a32a-4fca-a55c-769b47a73b34.html" id="chapter-link_ce09156d-5ebb-4829-b9dc-21a3bfdf8107d6e83" data-level="3" data-is-section="true" class="toc-entry"><span class="chapter-link3"><span class="number">└</span>&nbsp;&nbsp;<span class="number">2.3.3</span>&nbsp;&nbsp;<span class="text">
                                          Migrationen und Konvertierungen
                                          </span></span></a></li>
                           </ul>
                        </li>
                     </ul>
                  </li>
                  <li class="toc-level-1"><a href="31a92dc0-959c-49a1-b06e-01e2369e050e.html" class="toc-entry" id="chapter-link_31a92dc0-959c-49a1-b06e-01e2369e050e" data-level="1"><span class="chapter-link1">3&nbsp;&nbsp;
                           Wichtige Konzepte
                           </span></a><ul>
                        <li class="toc-level-2"><a href="5b73f348-0058-45e0-82f7-c3de72ec5d41.html" class="toc-entry" id="chapter-link_5b73f348-0058-45e0-82f7-c3de72ec5d41" data-level="2"><span class="chapter-link2">3.1&nbsp;&nbsp;
                                 Push vs. Pull Stylesheets 
                                 </span></a></li>
                        <li class="toc-level-2"><a href="db988919-f71e-437e-b699-b6fdd2a32cb9.html" class="toc-entry" id="chapter-link_db988919-f71e-437e-b699-b6fdd2a32cb9" data-level="2"><span class="chapter-link2">3.2&nbsp;&nbsp;
                                 Eindeutigkeit der Regelbasis
                                 </span></a><ul>
                              <li class="toc-level-3"><a href="db988919-f71e-437e-b699-b6fdd2a32cb9.html" id="chapter-link_dddb5d5f-b523-4d70-871c-9deadda78661d6e8" data-level="3" data-is-section="true" class="toc-entry"><span class="chapter-link3"><span class="number">└</span>&nbsp;&nbsp;<span class="number">3.2.1</span>&nbsp;&nbsp;<span class="text">
                                          Reihenfolge der Match-Regeln
                                          </span></span></a></li>
                              <li class="toc-level-3"><a href="db988919-f71e-437e-b699-b6fdd2a32cb9.html" id="chapter-link_9ee01e85-e2da-4c26-9c87-8ab4ef47faf6d6e15" data-level="3" data-is-section="true" class="toc-entry"><span class="chapter-link3"><span class="number">└</span>&nbsp;&nbsp;<span class="number">3.2.2</span>&nbsp;&nbsp;<span class="text">
                                          Präzedenz der Auswertung
                                          </span></span></a></li>
                              <li class="toc-level-3"><a href="db988919-f71e-437e-b699-b6fdd2a32cb9.html" id="chapter-link_daccc985-d7ea-41a7-8408-3094b807352dd6e76" data-level="3" data-is-section="true" class="toc-entry"><span class="chapter-link3"><span class="number">└</span>&nbsp;&nbsp;<span class="number">3.2.3</span>&nbsp;&nbsp;<span class="text">
                                          Import Präzendenz und Default-Regel
                                          </span></span></a></li>
                              <li class="toc-level-3"><a href="db988919-f71e-437e-b699-b6fdd2a32cb9.html" id="chapter-link_8159cee1-a749-403e-8f24-6ca446baade4d6e89" data-level="3" data-is-section="true" class="toc-entry"><span class="chapter-link3"><span class="number">└</span>&nbsp;&nbsp;<span class="number">3.2.4</span>&nbsp;&nbsp;<span class="text">
                                          Prioritäten
                                          </span></span></a></li>
                              <li class="toc-level-3"><a href="db988919-f71e-437e-b699-b6fdd2a32cb9.html" id="chapter-link_1c1d47cc-6418-4bdb-ad46-5f097384af28d6e118" data-level="3" data-is-section="true" class="toc-entry"><span class="chapter-link3"><span class="number">└</span>&nbsp;&nbsp;<span class="number">3.2.5</span>&nbsp;&nbsp;<span class="text">
                                          Modus Attribute
                                          </span></span></a></li>
                           </ul>
                        </li>
                        <li class="toc-level-2"><a href="3e443c28-8698-470b-b443-f286ff7ed2d5.html" class="toc-entry" id="chapter-link_3e443c28-8698-470b-b443-f286ff7ed2d5" data-level="2"><span class="chapter-link2">3.3&nbsp;&nbsp;
                                 Namespaces
                                 </span></a><ul>
                              <li class="toc-level-3"><a href="3e443c28-8698-470b-b443-f286ff7ed2d5.html" id="chapter-link_93174629-fa2e-4ee4-a5f4-805f4708bb69d6e82" data-level="3" data-is-section="true" class="toc-entry"><span class="chapter-link3"><span class="number">└</span>&nbsp;&nbsp;<span class="number">3.3.1</span>&nbsp;&nbsp;<span class="text">
                                          Namespaces in XQuery
                                          </span></span></a></li>
                           </ul>
                        </li>
                     </ul>
                  </li>
                  <li class="toc-level-1"><a href="f838f9be-97bf-44a4-ac63-2e813a87f2ea.html" class="toc-entry" id="chapter-link_f838f9be-97bf-44a4-ac63-2e813a87f2ea" data-level="1"><span class="chapter-link1">4&nbsp;&nbsp;
                           Ausgewählte Themen
                           </span></a><ul>
                        <li class="toc-level-2"><a href="c20c1e01-1175-4664-a26a-71317760930f.html" class="toc-entry" id="chapter-link_c20c1e01-1175-4664-a26a-71317760930f" data-level="2"><span class="chapter-link2">4.1&nbsp;&nbsp;
                                 Transformationen mit XSLT
                                 </span></a><ul>
                              <li class="toc-level-3"><a href="ceed4546-a60b-4d5f-a625-6e79c180cc13.html" class="toc-entry" id="chapter-link_ceed4546-a60b-4d5f-a625-6e79c180cc13" data-level="3"><span class="chapter-link3">4.1.1&nbsp;&nbsp;
                                       Vortransformationen 
                                       </span></a></li>
                              <li class="toc-level-3"><a href="888d37da-0dbe-4fae-bec9-2ad1e99f7818.html" class="toc-entry" id="chapter-link_888d37da-0dbe-4fae-bec9-2ad1e99f7818" data-level="3"><span class="chapter-link3">4.1.2&nbsp;&nbsp;
                                       Vererbung 
                                       </span></a><ul>
                                    <li class="toc-level-4"><a href="888d37da-0dbe-4fae-bec9-2ad1e99f7818.html" id="chapter-link_df11855f-2b16-4ccb-b01c-f3ad33cc67bed6e8" data-level="4" data-is-section="true" class="toc-entry"><span class="chapter-link4"><span class="number">└</span>&nbsp;&nbsp;<span class="number">4.1.2.1</span>&nbsp;&nbsp;<span class="text">
                                                Beispiel: Parameterisierung
                                                </span></span></a></li>
                                 </ul>
                              </li>
                              <li class="toc-level-3"><a href="1f8595d0-4ed9-4070-8cff-c5c59f690093.html" class="toc-entry" id="chapter-link_1f8595d0-4ed9-4070-8cff-c5c59f690093" data-level="3"><span class="chapter-link3">4.1.3&nbsp;&nbsp;
                                       XSLT Streaming
                                       </span></a><ul>
                                    <li class="toc-level-4"><a href="51bec5b9-1207-45cc-9bf2-b6ce3e300547.html" class="toc-entry" id="chapter-link_51bec5b9-1207-45cc-9bf2-b6ce3e300547" data-level="4"><span class="chapter-link4">4.1.3.1&nbsp;&nbsp;
                                             XSLT Akkumulator
                                             </span></a></li>
                                    <li class="toc-level-4"><a href="b308e60a-c7f3-4143-8e04-6c0d3bd4df01.html" class="toc-entry" id="chapter-link_b308e60a-c7f3-4143-8e04-6c0d3bd4df01" data-level="4"><span class="chapter-link4">4.1.3.2&nbsp;&nbsp;
                                             XSLT Iterator
                                             </span></a></li>
                                 </ul>
                              </li>
                              <li class="toc-level-3"><a href="e3ccdc75-56e4-45b3-a2be-07a61a2dcd51.html" class="toc-entry" id="chapter-link_e3ccdc75-56e4-45b3-a2be-07a61a2dcd51" data-level="3"><span class="chapter-link3">4.1.4&nbsp;&nbsp;
                                       Identifikation mit <span style="font-family:Courier New, monospace">
                                          generate-id()
                                          </span>
                                       
                                       </span></a><ul>
                                    <li class="toc-level-4"><a href="e3ccdc75-56e4-45b3-a2be-07a61a2dcd51.html" id="chapter-link_15182a91-9dc5-4632-9c80-05f50c8fc942d6e8" data-level="4" data-is-section="true" class="toc-entry"><span class="chapter-link4"><span class="number">└</span>&nbsp;&nbsp;<span class="number">4.1.4.1</span>&nbsp;&nbsp;<span class="text">
                                                Beispiel Stückliste
                                                </span></span></a></li>
                                    <li class="toc-level-4"><a href="e3ccdc75-56e4-45b3-a2be-07a61a2dcd51.html" id="chapter-link_f95ff6a2-1583-451f-b21a-8f4761eb4e46d6e17" data-level="4" data-is-section="true" class="toc-entry"><span class="chapter-link4"><span class="number">└</span>&nbsp;&nbsp;<span class="number">4.1.4.2</span>&nbsp;&nbsp;<span class="text">
                                                Beispiel Mantel Dokument
                                                </span></span></a></li>
                                 </ul>
                              </li>
                              <li class="toc-level-3"><a href="12f4b667-2093-456b-8986-d269a6375d60.html" class="toc-entry" id="chapter-link_12f4b667-2093-456b-8986-d269a6375d60" data-level="3"><span class="chapter-link3">4.1.5&nbsp;&nbsp;
                                       Reguläre Ausdrücke
                                       </span></a><ul>
                                    <li class="toc-level-4"><a href="12f4b667-2093-456b-8986-d269a6375d60.html" id="chapter-link_4f0ab2b5-80b9-4cba-9bfb-5c3f37d9887ad6e20" data-level="4" data-is-section="true" class="toc-entry"><span class="chapter-link4"><span class="number">└</span>&nbsp;&nbsp;<span class="number">4.1.5.1</span>&nbsp;&nbsp;<span class="text">
                                                XSLT Analyze String
                                                </span></span></a></li>
                                 </ul>
                              </li>
                              <li class="toc-level-3"><a href="11ebc17e-560c-4961-8dd6-9aa6776dc160.html" class="toc-entry" id="chapter-link_11ebc17e-560c-4961-8dd6-9aa6776dc160" data-level="3"><span class="chapter-link3">4.1.6&nbsp;&nbsp;
                                       Webservice Calls mit <span style="font-family:Courier New, monospace">
                                          doc()
                                          </span> und <span style="font-family:Courier New, monospace">
                                          unparsed-text()
                                          </span>
                                       
                                       </span></a></li>
                           </ul>
                        </li>
                        <li class="toc-level-2"><a href="0846d6a2-6999-42ab-9e83-55bc197fc11c.html" class="toc-entry" id="chapter-link_0846d6a2-6999-42ab-9e83-55bc197fc11c" data-level="2"><span class="chapter-link2">4.2&nbsp;&nbsp;
                                 Abfragen mit XQuery 
                                 </span></a><ul>
                              <li class="toc-level-3"><a href="0846d6a2-6999-42ab-9e83-55bc197fc11c.html" id="chapter-link_60f1ab16-16a4-4e41-a4c0-0729b99f5850d6e19" data-level="3" data-is-section="true" class="toc-entry"><span class="chapter-link3"><span class="number">└</span>&nbsp;&nbsp;<span class="number">4.2.1</span>&nbsp;&nbsp;<span class="text">
                                          XQuery Builder
                                          </span></span></a></li>
                              <li class="toc-level-3"><a href="0846d6a2-6999-42ab-9e83-55bc197fc11c.html" id="chapter-link_ac0f96f1-87d9-4191-a515-5e04a69a2147d6e34" data-level="3" data-is-section="true" class="toc-entry"><span class="chapter-link3"><span class="number">└</span>&nbsp;&nbsp;<span class="number">4.2.2</span>&nbsp;&nbsp;<span class="text">
                                          FLOWR Expression
                                          </span></span></a></li>
                              <li class="toc-level-3"><a href="0846d6a2-6999-42ab-9e83-55bc197fc11c.html" id="chapter-link_6b5b8b5e-b7cf-4b53-8f93-b659fadaea06d6e46" data-level="3" data-is-section="true" class="toc-entry"><span class="chapter-link3"><span class="number">└</span>&nbsp;&nbsp;<span class="number">4.2.3</span>&nbsp;&nbsp;<span class="text">
                                          XML per XQuery
                                          </span></span></a></li>
                              <li class="toc-level-3"><a href="0846d6a2-6999-42ab-9e83-55bc197fc11c.html" id="chapter-link_188bbf60-b618-401b-8e47-be36a013c7b7d6e57" data-level="3" data-is-section="true" class="toc-entry"><span class="chapter-link3"><span class="number">└</span>&nbsp;&nbsp;<span class="number">4.2.4</span>&nbsp;&nbsp;<span class="text">
                                          Document Projection
                                          </span></span></a></li>
                              <li class="toc-level-3"><a href="98665bd9-d40d-4fc7-ab7a-e340be6190a6.html" class="toc-entry" id="chapter-link_98665bd9-d40d-4fc7-ab7a-e340be6190a6" data-level="3"><span class="chapter-link3">4.2.5&nbsp;&nbsp;
                                       XQuery als Programmiersprache
                                       </span></a><ul>
                                    <li class="toc-level-4"><a href="98665bd9-d40d-4fc7-ab7a-e340be6190a6.html" id="chapter-link_1cba86ea-2760-4a82-b5d7-349bfa73e49fd6e8" data-level="4" data-is-section="true" class="toc-entry"><span class="chapter-link4"><span class="number">└</span>&nbsp;&nbsp;<span class="number">4.2.5.1</span>&nbsp;&nbsp;<span class="text">
                                                Schleifen
                                                </span></span></a></li>
                                    <li class="toc-level-4"><a href="98665bd9-d40d-4fc7-ab7a-e340be6190a6.html" id="chapter-link_19cc7202-f7bb-4cb1-ad46-9c7465c3d3b3d6e21" data-level="4" data-is-section="true" class="toc-entry"><span class="chapter-link4"><span class="number">└</span>&nbsp;&nbsp;<span class="number">4.2.5.2</span>&nbsp;&nbsp;<span class="text">
                                                Dokumente in der DB anlegen
                                                </span></span></a></li>
                                    <li class="toc-level-4"><a href="3630ee02-616b-4bbc-8655-9064d57bf945.html" class="toc-entry" id="chapter-link_3630ee02-616b-4bbc-8655-9064d57bf945" data-level="4"><span class="chapter-link4">4.2.5.3&nbsp;&nbsp;
                                             Funktionen und Module
                                             </span></a><ul>
                                          <li class="toc-level-5"><a href="3630ee02-616b-4bbc-8655-9064d57bf945.html" id="chapter-link_6388d720-5add-45c0-aea2-4fd40ba5b64fd6e4" data-level="5" data-is-section="true" class="toc-entry"><span class="chapter-link5"><span class="number">└</span>&nbsp;&nbsp;<span class="number">4.2.5.3.1</span>&nbsp;&nbsp;<span class="text">
                                                      Funktionen
                                                      </span></span></a></li>
                                          <li class="toc-level-5"><a href="3630ee02-616b-4bbc-8655-9064d57bf945.html" id="chapter-link_9924b5ed-d340-4e18-8580-c728182f2babd6e25" data-level="5" data-is-section="true" class="toc-entry"><span class="chapter-link5"><span class="number">└</span>&nbsp;&nbsp;<span class="number">4.2.5.3.2</span>&nbsp;&nbsp;<span class="text">
                                                      Module
                                                      </span></span></a></li>
                                       </ul>
                                    </li>
                                    <li class="toc-level-4"><a href="d9cd641f-29f4-485d-8e67-32519d422b08.html" class="toc-entry" id="chapter-link_d9cd641f-29f4-485d-8e67-32519d422b08" data-level="4"><span class="chapter-link4">4.2.5.4&nbsp;&nbsp;
                                             
                                             <span style="font-family:Courier New, monospace">
                                                if..then..else
                                                </span> Ausdrücke
                                             </span></a><ul>
                                          <li class="toc-level-5"><a href="d9cd641f-29f4-485d-8e67-32519d422b08.html" id="chapter-link_bf2d599f-40b0-4106-ab38-0ddce2a24febd6e10" data-level="5" data-is-section="true" class="toc-entry"><span class="chapter-link5"><span class="number">└</span>&nbsp;&nbsp;<span class="number">4.2.5.4.1</span>&nbsp;&nbsp;<span class="text">
                                                      Beispiel: Konditionale Server App
                                                      </span></span></a></li>
                                       </ul>
                                    </li>
                                 </ul>
                              </li>
                           </ul>
                        </li>
                        <li class="toc-level-2"><a href="3337f433-44bf-430d-a809-73fd1de5ba6c.html" class="toc-entry" id="chapter-link_3337f433-44bf-430d-a809-73fd1de5ba6c" data-level="2"><span class="chapter-link2">4.3&nbsp;&nbsp;
                                 XML Datenbanken
                                 </span></a><ul>
                              <li class="toc-level-3"><a href="38f7a676-cbef-4a69-9ae9-d89bddde2719.html" class="toc-entry" id="chapter-link_38f7a676-cbef-4a69-9ae9-d89bddde2719" data-level="3"><span class="chapter-link3">4.3.1&nbsp;&nbsp;
                                       Connector zu Marklogic in Oxygen Test
                                       </span></a></li>
                              <li class="toc-level-3"><a href="382bb96a-5a06-460c-8d69-4c4cd613297c.html" class="toc-entry" id="chapter-link_382bb96a-5a06-460c-8d69-4c4cd613297c" data-level="3"><span class="chapter-link3">4.3.2&nbsp;&nbsp;
                                       SQL Views in MarkLogic
                                       </span></a></li>
                              <li class="toc-level-3"><a href="ef2b4070-c3cf-4d73-968e-e25f6dc1eef0.html" class="toc-entry" id="chapter-link_ef2b4070-c3cf-4d73-968e-e25f6dc1eef0" data-level="3"><span class="chapter-link3">4.3.3&nbsp;&nbsp;
                                       Bi-Temporale Dokumente
                                       </span></a><ul>
                                    <li class="toc-level-4"><a href="7c58baac-7b83-41b9-adf6-12f63539cbb6.html" class="toc-entry" id="chapter-link_7c58baac-7b83-41b9-adf6-12f63539cbb6" data-level="4"><span class="chapter-link4">4.3.3.1&nbsp;&nbsp;
                                             Anlegen des Testszenarios auf der ML Konsole
                                             </span></a></li>
                                    <li class="toc-level-4"><a href="62faa067-ecd5-4053-8388-e7e151f04542.html" class="toc-entry" id="chapter-link_62faa067-ecd5-4053-8388-e7e151f04542" data-level="4"><span class="chapter-link4">4.3.3.2&nbsp;&nbsp;
                                             Ausführen einiger Beispiel-Queries
                                             </span></a></li>
                                 </ul>
                              </li>
                              <li class="toc-level-3"><a href="ff0c6d9b-57f8-4463-a65d-58dbfec8d2dc.html" class="toc-entry" id="chapter-link_ff0c6d9b-57f8-4463-a65d-58dbfec8d2dc" data-level="3"><span class="chapter-link3">4.3.4&nbsp;&nbsp;
                                       MarkLogic Tools
                                       </span></a><ul>
                                    <li class="toc-level-4"><a href="8f729755-73c7-4234-a5b2-77d2ca38a5be.html" class="toc-entry" id="chapter-link_8f729755-73c7-4234-a5b2-77d2ca38a5be" data-level="4"><span class="chapter-link4">4.3.4.1&nbsp;&nbsp;
                                             mlproj - Project and Environment Manager
                                             </span></a></li>
                                    <li class="toc-level-4"><a href="7fd62b3e-5e73-4470-ae83-318570ddcb44.html" class="toc-entry" id="chapter-link_7fd62b3e-5e73-4470-ae83-318570ddcb44" data-level="4"><span class="chapter-link4">4.3.4.2&nbsp;&nbsp;
                                             EXPath Konsole
                                             </span></a></li>
                                    <li class="toc-level-4"><a href="632fc504-f5b6-4bed-8f08-5fa0aa26a5bb.html" class="toc-entry" id="chapter-link_632fc504-f5b6-4bed-8f08-5fa0aa26a5bb" data-level="4"><span class="chapter-link4">4.3.4.3&nbsp;&nbsp;
                                             mlcp - Content Pump
                                             </span></a></li>
                                 </ul>
                              </li>
                           </ul>
                        </li>
                        <li class="toc-level-2"><a href="b3eba8f1-fb04-4ab5-ac92-5f52c80d1936.html" class="toc-entry" id="chapter-link_b3eba8f1-fb04-4ab5-ac92-5f52c80d1936" data-level="2"><span class="chapter-link2">4.4&nbsp;&nbsp;
                                 Testing
                                 </span></a><ul>
                              <li class="toc-level-3"><a href="6fd7b270-9d1f-4f8e-996f-13b5862956a9.html" class="toc-entry" id="chapter-link_6fd7b270-9d1f-4f8e-996f-13b5862956a9" data-level="3"><span class="chapter-link3">4.4.1&nbsp;&nbsp;
                                       Validierung mit Schematron
                                       </span></a><ul>
                                    <li class="toc-level-4"><a href="6fd7b270-9d1f-4f8e-996f-13b5862956a9.html" id="chapter-link_a99e14e5-6fc7-44a9-9692-cdf9799bf8bcd6e14" data-level="4" data-is-section="true" class="toc-entry"><span class="chapter-link4"><span class="number">└</span>&nbsp;&nbsp;<span class="number">4.4.1.1</span>&nbsp;&nbsp;<span class="text">
                                                Schematron ist XSLT
                                                </span></span></a></li>
                                    <li class="toc-level-4"><a href="6fd7b270-9d1f-4f8e-996f-13b5862956a9.html" id="chapter-link_2b2ab092-e67f-4ed4-bbed-89270aead234d6e30" data-level="4" data-is-section="true" class="toc-entry"><span class="chapter-link4"><span class="number">└</span>&nbsp;&nbsp;<span class="number">4.4.1.2</span>&nbsp;&nbsp;<span class="text">
                                                CLI Verwendung
                                                </span></span></a></li>
                                 </ul>
                              </li>
                              <li class="toc-level-3"><a href="cc183707-5352-4c9c-9c31-68047a882d0f.html" class="toc-entry" id="chapter-link_cc183707-5352-4c9c-9c31-68047a882d0f" data-level="3"><span class="chapter-link3">4.4.2&nbsp;&nbsp;
                                       Erste Schritte mit Xspec
                                       </span></a></li>
                           </ul>
                        </li>
                     </ul>
                  </li>
                  <li class="toc-level-1"><a href="f606e9c6-3d46-48f3-8de4-46e13dc7d055.html" class="toc-entry" id="chapter-link_f606e9c6-3d46-48f3-8de4-46e13dc7d055" data-level="1"><span class="chapter-link1">5&nbsp;&nbsp;
                           Zusätzliches Know-How
                           </span></a><ul>
                        <li class="toc-level-2"><a href="7dbb15ce-bbc5-4d91-b977-ed7e8117730e.html" class="toc-entry" id="chapter-link_7dbb15ce-bbc5-4d91-b977-ed7e8117730e" data-level="2"><span class="chapter-link2">5.1&nbsp;&nbsp;
                                 GIT Einmaleins 
                                 </span></a></li>
                        <li class="toc-level-2"><a href="4100d43a-5b71-43ba-a05f-1063fcee8679.html" class="toc-entry" id="chapter-link_4100d43a-5b71-43ba-a05f-1063fcee8679" data-level="2"><span class="chapter-link2">5.2&nbsp;&nbsp;
                                 XML Editoren 
                                 </span></a><ul>
                              <li class="toc-level-3"><a href="4100d43a-5b71-43ba-a05f-1063fcee8679.html" id="chapter-link_45392571-40bf-42cc-91a8-73db7cc25bced6e52" data-level="3" data-is-section="true" class="toc-entry"><span class="chapter-link3"><span class="number">└</span>&nbsp;&nbsp;<span class="number">5.2.1</span>&nbsp;&nbsp;<span class="text">
                                          WYSIWYM Desktop
                                          </span></span></a></li>
                              <li class="toc-level-3"><a href="4100d43a-5b71-43ba-a05f-1063fcee8679.html" id="chapter-link_31915e1f-7aa0-4ad3-b409-699f176fb8b9d6e73" data-level="3" data-is-section="true" class="toc-entry"><span class="chapter-link3"><span class="number">└</span>&nbsp;&nbsp;<span class="number">5.2.2</span>&nbsp;&nbsp;<span class="text">
                                          WYSIWYG Desktop
                                          </span></span></a></li>
                              <li class="toc-level-3"><a href="4100d43a-5b71-43ba-a05f-1063fcee8679.html" id="chapter-link_b919f7f3-3120-40b9-8c25-d2879cf6fa4fd6e78" data-level="3" data-is-section="true" class="toc-entry"><span class="chapter-link3"><span class="number">└</span>&nbsp;&nbsp;<span class="number">5.2.3</span>&nbsp;&nbsp;<span class="text">
                                          WYSIWYM Online
                                          </span></span></a></li>
                           </ul>
                        </li>
                     </ul>
                  </li>
                  <li class="toc-level-1"><a href="3dfad2c2-2299-461a-9d80-42237bbb5e89.html" class="toc-entry" id="chapter-link_3dfad2c2-2299-461a-9d80-42237bbb5e89" data-level="1"><span class="chapter-link1">6&nbsp;&nbsp;
                           Glossar
                           </span></a></li>
                  <li class="toc-level-1"><a href="dac12b19-ef37-4e41-b88c-6f0ce7becbb8.html" class="toc-entry" id="chapter-link_dac12b19-ef37-4e41-b88c-6f0ce7becbb8" data-level="1"><span class="chapter-link1">7&nbsp;&nbsp;
                           Tektur CCMS
                           </span></a></li>
               </ul>
            </div>
         </div>
      </div>
      <div id="main">
         <div id="content-wrapper">
            <div id="ef2b4070-c3cf-4d73-968e-e25f6dc1eef0-target" class="chapter first" data-element-name="chapter">
               <h2 id="7ca48bd5-7f2e-44cd-aacd-c15f7618b43e" data-element-name="title"><span class="number">4.3.3&nbsp;&nbsp;</span><span class="text"><span class="first-chapter-title">
                        
                        <div class="title" data-tektur-reviewer-number="" id="ba9dfb96-d3dd-49c8-9008-8476c0e59728" data-element-name="title">Bi-Temporale Dokumente</div>
                        </span></span></h2>
               <div class="margin">
                  <div class="p" id="fd257336-1ea5-47eb-8795-ac4f22576a8e" data-element-name="p" data-tektur-reviewer-number="">Wenn wir zwischen der Zeit in der das Dokument, bspw. ein Vetrag 
                     in der DB angelegt wird, und der Zeit in der ein Vetrag zwischen zwei 
                     Vetragspartnern abgeschlossen wird unterscheiden, dann betrachten
                     wir zwei Zeitachsen.
                  </div>
               </div>
               <div class="margin">
                  <ul id="" data-element-name="ul">
                     
                     <li id="" data-element-name="li">
                        
                        <div class="p" id="46d3aa4f-711a-488f-bf81-077849243208d6e8" data-element-name="p" data-tektur-reviewer-number="">die gültige Zeit (Valid Time)</div>
                        
                     </li>
                     
                     <li id="" data-element-name="li">
                        
                        <div class="p" id="4163702b-b6e9-40ec-b389-2a8af0afae33d6e11" data-element-name="p" data-tektur-reviewer-number="">die Systemzeit (System Time)</div>
                        
                     </li>
                     
                  </ul>
               </div>
               <div class="margin">
                  <div class="p" id="fab57861-93d5-47d3-8046-7b0d2c180b5cd6e13" data-element-name="p" data-tektur-reviewer-number="">Für die Vetragspartner ist nur die gültige Zeit relevant. Das Zeitfenster
                     zwischen gültiger Zeit und Systemzeit ist jedoch in manchen Fällen
                     ausschlaggebend.
                  </div>
               </div>
               <div class="margin">
                  <div class="p" id="50e4e500-a66d-4744-9730-1e4da489e1f8d6e15" data-element-name="p" data-tektur-reviewer-number="">
                     <i id="e607c6b2-4d9a-4652-b8d8-26fc098c3bd7d6e16" data-element-name="i">Bsp: Kürzlich wurde
                        meine Geldbörse mit meinem Perso geklaut. Beim Austellen eines vorläufigen
                        Ausweises wurde ich schriftlich darauf hingewiesen, dass nun mein Perso
                        bei Interpol zur Fahndung ausgeschrieben ist.</i>
                     
                  </div>
               </div>
               <div class="margin">
                  <div class="p" id="93133dc8-bb02-4da9-b779-64955be86d07d6e17" data-element-name="p" data-tektur-reviewer-number="">
                     <i id="96689113-3ef6-49b3-9c2c-dab8e0489a27d6e19" data-element-name="i">Kurze Zeit später fand ein netter Herr die Geldbörse (ohne Geld aber 
                        mit allen Papieren) in seinem Garten. Bei einer anschliessenden Busfahrt mit einem
                        Fernbus, wurde ich bei einer Zollkontrolle festgehalten, da das System der Polizei noch nicht aktualisiert war.</i>
                     
                  </div>
               </div>
               <div class="margin">
                  <div class="p" id="1fee1c3d-dd8b-4649-85ce-5b3d23ecec18d6e19" data-element-name="p" data-tektur-reviewer-number="">Ich nehme an, dass nach meiner Unschuldsbekundung der Vorgang auch
                     auf Seiten des Polizeicomputers aktualisiert wurde. Nun könnte man zwei Fragen
                     stellen:
                  </div>
               </div>
               <div class="margin">
                  <div class="procedure" id="" data-element-name="procedure">
                     
                     <div class="step" data-tektur-reviewer-number="" id="" data-element-name="step">
                        
                        <div class="action" id="" data-element-name="action">
                           
                           <table class="CmdStep-Table">
                              <tr>
                                 <td class="CmdStep-Icon" valign="top">1.</td>
                                 <td>
                                    <p id="5664c21f-b0b1-4c4f-a8f1-251415142a7cd6e23" data-element-name="p" class="p">Ist das Festhalten seitens der Zollbeamten rechtens?</p>
                                 </td>
                              </tr>
                           </table>
                           
                        </div>
                        
                     </div>
                     
                     <div class="step" data-tektur-reviewer-number="" id="" data-element-name="step">
                        
                        <div class="action" id="" data-element-name="action">
                           
                           <table class="CmdStep-Table">
                              <tr>
                                 <td class="CmdStep-Icon" valign="top">2.</td>
                                 <td>
                                    <p id="94fb012d-2fbb-4d68-b285-c05ccb98f507d6e26" data-element-name="p" class="p">Habe ich mich durch ein verspätetes Anzeigen des Funds schuldig gemacht?</p>
                                 </td>
                              </tr>
                           </table>
                           
                        </div>
                        
                     </div>
                     
                  </div>
               </div>
               <div class="no-margin">
                  <div class="note" id="" data-element-name="note">
                     <div class="signal-word">
                        <div class="translation" data-tektur-reviewer-number="" id="" data-element-name="translation">Hinweis</div>
                        <div class="translation" data-tektur-reviewer-number="" id="" data-element-name="translation">NOTIZ</div>
                     </div>
                     <div class="content">
                        
                        <div class="consequence" data-tektur-reviewer-number="" id="" data-element-name="consequence">
                           
                           <div class="p" id="f93b1ee9-1f0e-4d60-a375-7e32300f4d41d6e29" data-element-name="p" data-tektur-reviewer-number="">Beachte, dass man diese Fragen auch noch nach 10 Jahren stellen
                              könnte und das - bei meinem Pech in diesen Angelegenheiten - so ein Vorfall auch noch öfters passieren könnte...
                           </div>
                           
                        </div>
                        
                     </div>
                  </div>
               </div>
               <div class="margin">
                  <div class="p" id="19976305-dbf8-447b-bf4e-b0e849b7e741d6e31" data-element-name="p" data-tektur-reviewer-number="">Um diese Fragen zu beantworten, müsste unsere Datenbank in der Lage sein,
                     eine <a href="https://en.wikipedia.org/wiki/Temporal_database" title="https://en.wikipedia.org/wiki/Temporal_database" target="_blank">bitemporale Query</a> auszuführen. Zunächst registerieren wir den Vorgang
                     des Persoverlustes in unserer Marklogic Datenbank:
                  </div>
               </div>
               <div class="no-margin">
                  <div class="note" id="" data-element-name="note">
                     <div class="signal-word">
                        <div class="translation" data-tektur-reviewer-number="" id="" data-element-name="translation">Hinweis</div>
                        <div class="translation" data-tektur-reviewer-number="" id="" data-element-name="translation">NOTIZ</div>
                     </div>
                     <div class="content">
                        
                        <div class="consequence" data-tektur-reviewer-number="" id="" data-element-name="consequence">
                           
                           <div class="p" id="bc4e68d9-d093-46bc-bf26-de40abdc0486d6e34" data-element-name="p" data-tektur-reviewer-number="">Da wir hier auf einer XML Datenbank arbeiten, sprechen wir von einem Dokument,
                              wenn wir einen Datensatz meinen. 
                           </div>
                           
                           <div class="p" id="e5e49287-034d-456c-bc49-d3e82236edb7d6e38" data-element-name="p" data-tektur-reviewer-number="">Der Datensatz bzw. das Dokument wird nicht aktualisiert, sondern stattdessen das Dokument mit den aktualisierten Daten in
                              einer neuen Version angelegt. 
                           </div>
                           
                           <div class="p" id="e5af2997-aab7-463b-824b-f4de4f4d15f2d6e40" data-element-name="p" data-tektur-reviewer-number="">Auf diese Weise bleibt die Änderungshistorie erhalten.</div>
                           
                        </div>
                        
                     </div>
                  </div>
               </div>
               <div class="no-margin"><pre class="verbatim">xquery version "1.0-ml";
import <span style="color:#7F3300">module </span><span style="color:#7F3300">namespace </span>temporal = 
       "http://marklogic.com/xdmp/temporal" at "/MarkLogic/temporal.xqy";   
<span style="color:#7F3300">let </span><span style="color:#7F0037">$root</span> :=    
  <span style="color:#527F3F">&lt;vorgang&gt;</span>     
    <span style="color:#527F3F">&lt;perso-id&gt;</span>XYZ<span style="color:#527F3F">&lt;/perso-id&gt;</span>    
    <span style="color:#527F3F">&lt;name&gt;</span>Alex Düsel<span style="color:#527F3F">&lt;/name&gt;</span>   
    <span style="color:#527F3F">&lt;status&gt;</span>gestohlen<span style="color:#527F3F">&lt;/status&gt;</span>
  <span style="color:#527F3F">&lt;/vorgang&gt;</span>
<span style="color:#7F3300">let </span><span style="color:#7F0037">$options</span> :=   
  <span style="color:#527F3F">&lt;options</span> xmlns="xdmp:document-insert"<span style="color:#527F3F">&gt;</span>     
    <span style="color:#527F3F">&lt;metadata&gt;</span>        
      <span style="color:#527F3F">&lt;map:map</span> xmlns:map="http://marklogic.com/xdmp/map"<span style="color:#527F3F">&gt;</span>          
        <span style="color:#527F3F">&lt;map:entry</span> key="validStart"<span style="color:#527F3F">&gt;</span>            
	  <span style="color:#527F3F">&lt;map:value&gt;</span>2019-02-01T08:23:11<span style="color:#527F3F">&lt;/map:value&gt;</span>          
	<span style="color:#527F3F">&lt;/map:entry&gt;</span>          
	<span style="color:#527F3F">&lt;map:entry</span> key="validEnd"<span style="color:#527F3F">&gt;</span>            
	  <span style="color:#527F3F">&lt;map:value&gt;</span>9999-12-31T11:59:59Z<span style="color:#527F3F">&lt;/map:value&gt;</span>          
	<span style="color:#527F3F">&lt;/map:entry&gt;</span>         
      <span style="color:#527F3F">&lt;/map:map&gt;</span>    
    <span style="color:#527F3F">&lt;/metadata&gt;</span>  

<span style="color:#7F3300">return </span> <span style="color:#000099">temporal:document-insert</span>("/perso-verluste", 
                                 "duesel_alex_270774.xml", 
                                 <span style="color:#7F0037">$root</span>, <span style="color:#7F0037">$options</span>)</pre></div>
               <div class="margin">
                  <div class="p" id="34c9ed87-b6df-4fde-bda2-1b868aac4838d6e39" data-element-name="p" data-tektur-reviewer-number="">Unser Enddatum liegt in ferner Zukunft sicherzustellen, dass der Vorgang auf unbestimmte Zeit
                     im System bleibt.
                  </div>
               </div>
               <div class="margin">
                  <div class="p" id="500405f5-6396-4071-8349-1d9f6d39049dd6e41" data-element-name="p" data-tektur-reviewer-number="">Drei Tage später hatte ich meinen Ausweis wieder und der Vorgang wurde vier Tage später,
                     mit dem Status "gefunden" im Polizeicomputer aktualisiert:
                  </div>
               </div>
               <div class="no-margin"><pre class="verbatim">xquery version "1.0-ml";
import <span style="color:#7F3300">module </span><span style="color:#7F3300">namespace </span>temporal = 
       "http://marklogic.com/xdmp/temporal" at "/MarkLogic/temporal.xqy";   
<span style="color:#7F3300">let </span><span style="color:#7F0037">$root</span> :=    
  <span style="color:#527F3F">&lt;vorgang&gt;</span>     
    <span style="color:#527F3F">&lt;perso-id&gt;</span>XYZ<span style="color:#527F3F">&lt;/perso-id&gt;</span>    
    <span style="color:#527F3F">&lt;name&gt;</span>Alex Düsel<span style="color:#527F3F">&lt;/name&gt;</span>   
    <span style="color:#527F3F">&lt;status&gt;</span><b id="" data-element-name="b" data-is-inline-element="yes">gefunden</b><span style="color:#527F3F">&lt;/status&gt;</span>
  <span style="color:#527F3F">&lt;/vorgang&gt;</span>
<span style="color:#7F3300">let </span><span style="color:#7F0037">$options</span> :=   
  <span style="color:#527F3F">&lt;options</span> xmlns="xdmp:document-insert"<span style="color:#527F3F">&gt;</span>     
    <span style="color:#527F3F">&lt;metadata&gt;</span>        
      <span style="color:#527F3F">&lt;map:map</span> xmlns:map="http://marklogic.com/xdmp/map"<span style="color:#527F3F">&gt;</span>          
        <span style="color:#527F3F">&lt;map:entry</span> key="validStart"<span style="color:#527F3F">&gt;</span>            
	  <span style="color:#527F3F">&lt;map:value&gt;</span>2019-02-06T08:00:00<span style="color:#527F3F">&lt;map:value&gt;</span>          
	<span style="color:#527F3F">&lt;/map:entry&gt;</span>          
	<span style="color:#527F3F">&lt;map:entry</span> key="validEnd"<span style="color:#527F3F">&gt;</span>            
	  <span style="color:#527F3F">&lt;map:value&gt;</span>9999-12-31T11:59:59Z<span style="color:#527F3F">&lt;/map:value&gt;</span>          
	<span style="color:#527F3F">&lt;/map:entry&gt;</span>         
      <span style="color:#527F3F">&lt;/map:map&gt;</span>    
    <span style="color:#527F3F">&lt;/metadata&gt;</span>  

<span style="color:#7F3300">return </span> <span style="color:#000099">temporal:document-insert</span>("/perso-verluste", 
                                 "duesel_alex_270774.xml", 
                                 <span style="color:#7F0037">$root</span>, <span style="color:#7F0037">$options</span>)</pre></div>
               <div class="margin">
                  <div class="p" id="7dbc517d-b5b4-4c1b-b691-7d20f6c61c12d6e48" data-element-name="p" data-tektur-reviewer-number="">Nach der Aktualisierung enthält unsere Datenbank logisch gesehen drei Dokumente zu diesem Vorgang, 
                     die über eine Query gesucht werden können:
                  </div>
               </div>
               <div class="margin">
                  <div class="procedure" id="" data-element-name="procedure">
                     
                     <div class="step" data-tektur-reviewer-number="" id="" data-element-name="step">
                        
                        <div class="action" id="" data-element-name="action">
                           
                           <table class="CmdStep-Table">
                              <tr>
                                 <td class="CmdStep-Icon" valign="top">1.</td>
                                 <td>
                                    <p id="d112decc-3611-40d4-b9ca-0a55258e223ed6e52" data-element-name="p" class="p">Das Originaldokument, es ist vom 1.2.2019 bis zum 5.2.2019 im System aktiv</p>
                                 </td>
                              </tr>
                           </table>
                           
                        </div>
                        
                     </div>
                     
                     <div class="step" data-tektur-reviewer-number="" id="" data-element-name="step">
                        
                        <div class="action" id="" data-element-name="action">
                           
                           <table class="CmdStep-Table">
                              <tr>
                                 <td class="CmdStep-Icon" valign="top">2.</td>
                                 <td>
                                    <p id="3a23cb95-2f16-4254-8245-c0bf90780a1bd6e55" data-element-name="p" class="p">Die Aktualisierung, sie ist ab dem 6.2.2019 aktiv</p>
                                 </td>
                              </tr>
                           </table>
                           
                        </div>
                        
                     </div>
                     
                     <div class="step" data-tektur-reviewer-number="" id="" data-element-name="step">
                        
                        <div class="action" id="" data-element-name="action">
                           
                           <table class="CmdStep-Table">
                              <tr>
                                 <td class="CmdStep-Icon" valign="top">3.</td>
                                 <td>
                                    <p id="9d2d4a7b-bdf2-42e8-a024-cb053a126324d6e58" data-element-name="p" class="p">Ein "Split"-Dokument, das aus der verspäteten Aktualisierung resultiert. Es ist ab dem 6.2.2019 im System aktiv, 
                                       und zeigt den Zeitraum über einen Tag, vom 4.2.2019 bis 5.2.2019 - in dem ich ohne Perso registriert war, ihn aber tatsächlich
                                       schon wieder hatte.
                                    </p>
                                 </td>
                              </tr>
                           </table>
                           
                        </div>
                        
                     </div>
                     
                  </div>
               </div>
               <div class="margin">
                  <div class="p" id="6dc19f9e-db12-4a7c-83cd-42bb430d2c07d6e60" data-element-name="p" data-tektur-reviewer-number="">Im Gegensatz zu einer herkömmlichen Datenhaltung, bei der ein Datensatz aktualisiert wird - ggf. noch eine neue
                     Version angelegt wird - wird beim Dokument-basierten Ansatz mit bi-temporaler Datenhaltung jede Transaktion separat
                     abgespeichert. 
                  </div>
               </div>
               <div class="margin">
                  <div class="p" id="e1401c45-9a9f-41ec-a7a5-59721215ab2ed6e62" data-element-name="p" data-tektur-reviewer-number="">Das ist vergleichbar mit einer Simulation des tatsächlichen Papierverkehrs bei buchhalterischen Tätigkeiten.</div>
               </div>
               <div class="margin">
                  <div class="p" id="b2db7425-9d5b-4429-9ca6-51a67a0a34d0d6e62" data-element-name="p" data-tektur-reviewer-number="">Die Abfrage so einer Datenbank ist dadurch nicht einfacher. Drei Queries, die jeweils eines dieser drei
                     Dokumente zurückgeben, könnten bspw. so aussehen:
                  </div>
               </div>
               <div class="margin">
                  <div class="p" id="acdf48e7-7718-42be-89b9-e04b3860a7a0d6e72" data-element-name="p" data-tektur-reviewer-number="">
                     
                     <div class="subtitle" data-tektur-reviewer-number="" id="" data-element-name="subtitle">Rückgabe des Originals</div>
                     
                  </div>
               </div>
               <div class="no-margin"><pre class="verbatim">xquery version "1.0-ml";<span style="color:#000099">
cts:search</span>(<span style="color:#000099">fn:doc</span>(), <span style="color:#000099">cts:period-range-query</span>(
  "system",     
  "ISO_CONTAINS",     
  <span style="color:#000099">cts:period</span>(<span style="color:#000099">xs:dateTime</span>("2019-02-02T00:00:00"),                
             <span style="color:#000099">xs:dateTime</span>("2019-02-03T23:59:59")) )</pre></div>
               <div class="margin">
                  <div class="p" id="6d72130d-963a-4908-ac29-70e5fd445d16d6e76" data-element-name="p" data-tektur-reviewer-number="">Hier wird geprüft, ob ein Dokument im System aktiv war, dass den Zeitraum vom 2.3. bis zum 3.3. umfasste (<span style="font-family:Courier New, monospace">
                        ISO_CONTAINS
                        </span>). Diese Query ist erfolgreich und gibt das Original-Dokument des Vorgangs zurück: In diesem Zeitraum war ich also mit gestohlenem
                     Perso registriert.
                  </div>
               </div>
               <div class="margin">
                  <div class="p" id="326f277b-22dc-4247-ac43-a1245718a13ed6e79" data-element-name="p" data-tektur-reviewer-number="">
                     
                     <div class="subtitle" data-tektur-reviewer-number="" id="" data-element-name="subtitle">Rückgabe des Split-Dokuments</div>
                     
                  </div>
               </div>
               <div class="no-margin"><pre class="verbatim">xquery version "1.0-ml";<span style="color:#000099">
cts:search</span>(<span style="color:#000099">fn:doc</span>(), <span style="color:#000099">cts:period-range-query</span>(
   "valid",
   "ALN_FINISHES",
   <span style="color:#000099">cts:period</span>(<span style="color:#000099">xs:dateTime</span>("2019-02-06T08:00:00"),
              <span style="color:#000099">xs:dateTime</span>("2019-02-06T08:00:00")) ))</pre></div>
               <div class="margin">
                  <div class="p" id="3922ce91-3c33-48c6-8400-666039dec485d6e83" data-element-name="p" data-tektur-reviewer-number="">Bei dieser Query wird geprüft, ob es ein Dokument gibt, dass zu einem bestimmten Datum auf inaktiv gesetzt wurde (<span style="font-family:Courier New, monospace">
                        ALN_FINISHES
                        </span>) - Das Split-Dokument wird automatisch auf inaktiv gesetzt, wenn die neue Version angelegt wird. Unser Suchdatum wäre also
                     folgendes <span style="font-family:Courier New, monospace">
                        2019-02-06T08:00:00
                        </span>.
                  </div>
               </div>
               <div class="margin">
                  <div class="p" id="6d071bab-832d-44ca-862f-cdacf2b3c395d6e85" data-element-name="p" data-tektur-reviewer-number="">
                     
                     <div class="subtitle" data-tektur-reviewer-number="" id="" data-element-name="subtitle">Rückgabe von Split und neuer Version</div>
                     
                  </div>
               </div>
               <div class="no-margin"><pre class="verbatim">xquery version "1.0-ml";<span style="color:#000099">
cts:search</span>(<span style="color:#000099">fn:doc</span>(), <span style="color:#000099">cts:period-range-query</span>(
   "system",
   "ALN_AFTER",
   <span style="color:#000099">cts:period</span>(<span style="color:#000099">xs:dateTime</span>("2019-02-05T11:00:00"),
              <span style="color:#000099">xs:dateTime</span>("2019-02-05T11:20:00")) ))</pre></div>
               <div class="margin">
                  <div class="p" id="a28b9e0d-50c7-4d25-93f6-092f892cfaf0d6e89" data-element-name="p" data-tektur-reviewer-number="">Hier wird geprüft ob es Dokumente gibt, die nach einer bestimmten Zeitspanne im System aktiv waren. Man beachte hier, dass
                     eine Periode angegeben ist, obwohl nur ein Datum notwendig wäre. Der Vergleichsoperator hierzu heisst <span style="font-family:Courier New, monospace">
                        ALN_AFTER
                        </span>.
                  </div>
               </div>
               <div class="margin">
                  <div class="p" id="9a383d4c-8c64-4a96-a7e9-b44018451dc2d6e91" data-element-name="p" data-tektur-reviewer-number="">
                     
                     <div class="subtitle" data-tektur-reviewer-number="" id="" data-element-name="subtitle">Rückgabe von aktueller Version</div>
                     
                  </div>
               </div>
               <div class="no-margin"><pre class="verbatim">xquery version "1.0-ml";<span style="color:#000099">
cts:search</span>(<span style="color:#000099">fn:doc</span>(), <span style="color:#000099">cts:period-compare-query</span>(
   "system",
   "ISO_CONTAINS",
   "valid" ))</pre></div>
               <div class="margin">
                  <div class="p" id="fd41504a-bbd5-4a2c-b30b-e900a2fc5bbed6e95" data-element-name="p" data-tektur-reviewer-number="">Die aktuelle Version kann in Erfahrung gebracht werden, indem geprüft wird, welche gültigen Dokumente innerhalb der Systemzeitspanne
                     liegen. Das kann nur die aktuelle Version sein. Frühere gültige Versionen und Split-Dokumente wären vor der Systemzeit-Spanne.
                  </div>
               </div>
               <div class="margin">
                  <div class="p" id="4f2dcc2f-b93d-4e30-b5e0-b19426c49d74d6e97" data-element-name="p" data-tektur-reviewer-number="">Die letzte Version eines Dokuments kann aber auch einfach über ein <span style="font-family:Courier New, monospace">
                        latest
                        </span> flag in Erfahrung gebracht werden:
                  </div>
               </div>
               <div class="no-margin"><pre class="verbatim">xquery version "1.0-ml";<span style="color:#000099">
cts:search</span>(<span style="color:#000099">fn:doc</span>(), <span style="color:#000099">cts:and-query</span>((
    <span style="color:#000099">cts:collection-query</span>(("koolorder.xml")),
    <span style="color:#000099">cts:collection-query</span>(("latest")))))</pre></div>
               <div class="margin">
                  <div class="p" id="8a06ef70-7819-46ee-bfb8-8b3d7199f66ad6e102" data-element-name="p" data-tektur-reviewer-number="">
                     
                     <div class="subtitle" data-tektur-reviewer-number="" id="" data-element-name="subtitle">Weiterführende Links</div>
                     
                  </div>
               </div>
               <div class="margin">
                  <ul id="" data-element-name="ul">
                     
                     <li id="" data-element-name="li">
                        
                        <div class="p" id="3eebe4b0-500c-4caf-a6ef-ec0fb3e6f692d6e110" data-element-name="p" data-tektur-reviewer-number="">
                           <a href="https://docs.marklogic.com/guide/temporal" title="https://docs.marklogic.com/guide/temporal" target="_blank">Temporal Developer's Guide auf den MarkLogic Doku-Seiten</a>
                           
                        </div>
                        
                     </li>
                     
                     <li id="" data-element-name="li">
                        
                        <div class="p" id="5277160a-a715-4227-b2ae-96d9e230a775d6e113" data-element-name="p" data-tektur-reviewer-number="">
                           <a href="https://www.marklogic.com/blog/bitemporal/" title="https://www.marklogic.com/blog/bitemporal/" target="_blank">A Deep Dive into Bitemporal</a>
                           
                        </div>
                        
                     </li>
                     
                     <li id="" data-element-name="li">
                        
                        <div class="p" id="45286919-c6bc-41e6-841b-dcd6b85d4b05d6e113" data-element-name="p" data-tektur-reviewer-number="">
                           <a href="https://www.heise.de/developer/artikel/Temporale-Datenhaltung-in-der-Praxis-mit-Java-2100268.html?seite=all" title="https://www.heise.de/developer/artikel/Temporale-Datenhaltung-in-der-Praxis-mit-Java-2100268.html?seite=all" target="_blank">Temporale Datenhaltung in der Praxis mit Java</a>
                           
                        </div>
                        
                     </li>
                     
                  </ul>
               </div>
            </div>
         </div>
         <div id="page-browser-arrows">
            <table>
               <tr>
                  <td><a href="#" class="info menu" id="prev-page"><img src="/images/arrow_left.png" border="0"><span>Previous Page</span></a></td>
                  <td><a href="#" class="info menu" id="next-page"><img src="/images/arrow_right.png" border="0"><span>Next Page</span></a></td>
               </tr>
            </table>
         </div>
      </div>
      <div id="date-version">Version: 207<br>Mar 31 2019
      </div>
   </body>
</html>