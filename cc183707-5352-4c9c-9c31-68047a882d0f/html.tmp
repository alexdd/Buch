<div data-attribute-id="821f8271-e9a1-43e8-ba9a-b1e8aa0ce4f4" class="topic show_menu tags" data-element="topic" data-deletable="false" data-tektur-editor-id="48dda74f-bc7f-42b0-ae54-aa108584bab2"><div class="gui-optional-elements-button" contenteditable="false"><div class="menu-icon" style="display:none">+</div></div><div data-attribute-id="9b1e7086-25cc-4bdf-ba77-6adfb503603b" class="title pmarker tags" data-element="title" data-tektur-editor-id="4ed93d91-0dfd-44f6-aca5-ba80af1a61e3" contenteditable="true">Erste Schritte mit Xspec </div><div class="abstract optional show_menu tags" data-element="abstract" data-excluding="shortdesc" style="display:none" data-tektur-editor-id="32f09c13-15a5-44b0-9740-fa2ea4315adf"><div class="gui-optional-elements-button" contenteditable="false"><div class="menu-icon" style="display:none">+</div></div><div class="placeholder text pmarker tags" data-element="p" data-tektur-editor-id="15c0fc7a-6fa4-43ea-8b8a-b03309a7d61e" contenteditable="true"></div></div><div data-attribute-id="9036318d-3693-4e5c-be19-8a62e8748b03" class="body show_menu tags" data-element="body" data-deletable="false" data-tektur-editor-id="96d306ec-d235-44e2-a41a-76bb8964eb78"><div class="gui-optional-elements-button" contenteditable="false"><div class="menu-icon" style="display:none">+</div></div><div class="section tektur-wrapper tags" data-element="section" data-tektur-editor-id="317c82c1-8e0a-43c3-8f3d-aa297f62df7b"><div xmlns:xr="http://www.tekturcms.de/2012/xr/common" xmlns:xlink="http://www.w3.org/1999/xlink" data-attribute-id="eef21ef4-793e-4fef-9f1e-a22ecf24b64c" class="p pmarker tags" data-element="p" data-tektur-editor-id="2b408732-4de1-4d20-9262-3a53cbb46156" contenteditable="true">XSpec<span class="bracket-tags-marker" id="9a54c98b-56d6-4469-a1ef-d4c8b8415bab">[[<span class="bracket-tags">xe1:Tools;xe2:XSpec</span>]]</span> ist ein <span class="bracket-tags-marker" id="3bef95a2-bc07-45d4-afd3-51cfca274f55">[[<span class="bracket-tags">link</span>]]</span>Test-Framework<span class="bracket-tags-marker" id="4f769ca5-bbb8-422d-b942-9b9d8f7fa2e5">[[<span class="bracket-tags">fn:https://github.com/xspec*XSpec auf GitHub</span>]]</span><span class="bracket-tags-marker" id="94bb3f81-b65d-4be1-a65a-d9fe491221b8">[[<span class="bracket-tags">xe1:Test-Framework</span>]]</span> für XSLT, XQuery und Schematron. 
Um beispielsweise komplexe Schematron Regeln zu testen, hinterlegt man in einem <span data-attribute-id="f6d68885-0ad1-420b-82ea-92bd5889e0bcd6e9" class="b" data-element="b">Test-Szenario</span> 
Erwartungswerte für positive und negative Testfälle in Form von XML Schnippseln.</div><div class="pre"><div data-attribute-id="7372490d-fcca-4e5a-8651-b1c284739917d7e9" data-attribute-xml_space="preserve" class="pre-content pmarker tags" data-element="pre" data-tektur-editor-id="9ae271b4-0d88-4e1b-980f-6fb4bfd22c22" contenteditable="true">&#x3C;test-szenario&#x3E;
  &#x3C;testfall&#x3E;
    &#x3C;personen&#x3E;
      &#x3C;person&#x3E;
        &#x3C;vorname&#x3E;Horst&#x3C;/vorname&#x3E;
        &#x3C;nachname&#x3E;Schlämmer&#x3C;/nachname&#x3E;
        &#x3C;gewicht&#x3E;100&#x3C;/gewicht&#x3E;
      &#x3C;/person&#x3E;
      &#x3C;person&#x3E;
        &#x3C;vorname&#x3E;Gundula&#x3C;/vorname&#x3E;
        &#x3C;nachname&#x3E;&#x3C;/nachname&#x3E;
        &#x3C;gewicht&#x3E;60&#x3C;/gewicht&#x3E;
      &#x3C;/person&#x3E;
    &#x3C;/personen&#x3E;
  &#x3C;/testfall&#x3E;
&#x3C;/test-szenario&#x3E;</div></div><div xmlns:xr="http://www.tekturcms.de/2012/xr/common" xmlns:xlink="http://www.w3.org/1999/xlink" data-attribute-id="a495ec01-4794-4e28-b47f-0313ab934100d6e26" class="p pmarker tags" data-element="p" data-tektur-editor-id="8f0f062b-bf13-48af-8dc5-13e2792830a8" contenteditable="true">in einer XSpec Datei <span class="bracket-tags-marker" id="157874e3-b959-4bc0-aea7-855eb8ac15c6">[[<span class="bracket-tags">code:*.xspec</span>]]</span> werden <span data-attribute-id="31a39752-2463-4c05-bbc6-043c7fa89e67d6e28" class="b" data-element="b">Assert- und Not-Assert-Methoden</span><span class="bracket-tags-marker" id="f9286b62-77c8-48e6-9ad2-60d925265ae0">[[<span class="bracket-tags">xe1:Assert- und Not-Assert</span>]]</span>deklariert:</div><div class="pre"><div data-attribute-id="c247c5af-058e-42af-9995-0d7de6955537d7e16" data-attribute-xml_space="preserve" class="pre-content pmarker tags" data-element="pre" data-tektur-editor-id="af7c457c-e549-4d73-88c3-98c817a6ff27" contenteditable="true">&#x3C;x:description xslt-version="2.0" xmlns:x="http://www.jenitennison.com/xslt/xspec" 
               schematron="test.sch"&#x3E;
  &#x3C;x:scenario label="ALL"&#x3E;
    &#x3C;x:context href="test.xml"/&#x3E;
    &#x3C;x:expect-not-assert id="person-nachname-rule" location="//person[1]/nachname"/&#x3E;
    &#x3C;x:expect-assert id="person-nachname-rule" location="//person[2]/nachname"/&#x3E;
  &#x3C;/x:scenario&#x3E;
&#x3C;/x:description&#x3E;</div></div><div xmlns:xr="http://www.tekturcms.de/2012/xr/common" xmlns:xlink="http://www.w3.org/1999/xlink" data-attribute-id="9aac4097-bb50-44d5-8827-bd1775ce18fcd6e39" class="p pmarker tags" data-element="p" data-tektur-editor-id="47536512-1904-4344-8a79-a23c6847c179" contenteditable="true">Grds. bdeutet ein Assert, dass das Mapping zwischen tatsächlichem Wert und Erwartungswert des
Testfalls<span class="bracket-tags-marker" id="b5a7732e-4b2f-4e45-95c1-529369568ce8">[[<span class="bracket-tags">xe1:Testfall</span>]]</span> positiv erfüllt ist. Beim Not-Assert ist das Gegenteil der Fall. Im obigen Beispiel
reichen zwei Regeln, um den Testfall vollständig abzudecken.</div><div xmlns:xr="http://www.tekturcms.de/2012/xr/common" xmlns:xlink="http://www.w3.org/1999/xlink" data-attribute-id="350b086a-a78e-47cc-9a3e-4f8c596fadf4d6e41" class="p pmarker tags" data-element="p" data-tektur-editor-id="a0fb9b8e-ca18-48b4-ac80-ede04f7387db" contenteditable="true">Wenn man Schematron<span class="bracket-tags-marker" id="880ed8a1-4089-4481-b637-9e679512232f">[[<span class="bracket-tags">xe1:Tools;xe2:Schematron</span>]]</span> Regeln mit Hilfe von XSpec testen will, dann muss man ein bisschen um 
die Ecke denken. Denn auch diese Regeln werden mittels Assert und Not-Assert modelliert.</div><div class="pre"><div data-attribute-id="d2d6e5a0-d110-4fbd-abb6-3778609bb23fd7e22" data-attribute-xml_space="preserve" class="pre-content pmarker tags" data-element="pre" data-tektur-editor-id="bac98a1e-e492-4c72-bb19-5a1f83d9ad19" contenteditable="true">&#x3C;sch:schema xmlns:sch="http://purl.oclc.org/dsdl/schematron" 
            xmlns:xsl="http://www.w3.org/1999/XSL/Transform" queryBinding="xslt2"&#x3E;
  &#x3C;sch:pattern id="main"&#x3E;
    &#x3C;sch:rule context="nachname"&#x3E;
      &#x3C;sch:assert id="person-nachname-rule" role="error" test="normalize-space(.)"&#x3E;
        Der Nachname der Person mit ID: &#x3C;sch:value-of select="@id"/&#x3E; fehlt! 
      &#x3C;/sch:assert&#x3E;
    &#x3C;/sch:rule&#x3E;
  &#x3C;/sch:pattern&#x3E;
&#x3C;/sch:schema&#x3E;</div></div><div xmlns:xr="http://www.tekturcms.de/2012/xr/common" xmlns:xlink="http://www.w3.org/1999/xlink" data-attribute-id="5da4afab-3eda-4027-956a-1e72b6dd19b3d6e48" class="p pmarker tags" data-element="p" data-tektur-editor-id="63836ffa-56f2-4e8d-accc-aac8f19d6c0e" contenteditable="true">In der Schematron-Regel wird zugesichert (Assert), dass jede Person einen Nachnamen hat.</div><div xmlns:xr="http://www.tekturcms.de/2012/xr/common" xmlns:xlink="http://www.w3.org/1999/xlink" data-attribute-id="6d2dba49-cecd-4315-8956-4beb19e4af08d6e50" class="p pmarker tags" data-element="p" data-tektur-editor-id="9df30ab0-a70e-43f6-9a99-7e8ff72bdba4" contenteditable="true">Hat sie keinen Nachnamen so wird der Bericht zum Fehlerfall in die Schematron Ergebnisdatei
geschrieben. Diese Datei wertet nun Xspec aus.</div><div data-element="note" class="show_menu tags" data-tektur-editor-id="21233a1c-15a6-46e7-a8ba-3f0c283012e4"><div class="gui-optional-elements-button" contenteditable="false"><div class="menu-icon" style="display:none">+</div></div><div class="note"><div class="signal-word">NOTE</div><div class="hcontent"><div xmlns:xr="http://www.tekturcms.de/2012/xr/common" xmlns:xlink="http://www.w3.org/1999/xlink" data-attribute-id="611d787d-7b54-46dd-9548-158dd6db0bfcd6e53" class="p pmarker tags" data-element="p" data-tektur-editor-id="820a3f6d-4cf4-4cb1-8e98-a4d18e2caad1" contenteditable="true">Erscheint ein Fehler (= das Feld <span data-attribute-id="171bb098-8941-486f-b6e0-c577438c996dd6e55" class="b tags" data-element="b" data-tektur-editor-id="65a3a9b4-eb7c-42cd-80b6-0d8a726d2789">nachname</span> ist leer), so greift bei Xspec die Assert-Regel! Das ist die umgekehrte Logik zu den Schematron Regeln.</div></div></div></div><div xmlns:xr="http://www.tekturcms.de/2012/xr/common" xmlns:xlink="http://www.w3.org/1999/xlink" data-attribute-id="1ed9b5fd-88c2-4a6b-998b-6eac55854ec7d6e58" class="p pmarker tags" data-element="p" data-tektur-editor-id="c6d6d498-3b23-472d-bc93-ed00e75d7391" contenteditable="true">Als Eselsbrücke kann man
ein Assert in der Xspec Datei gleichsetzen mit <span data-attribute-id="30100a12-de8b-4e03-a6ff-86361fb1e578d6e60" class="b" data-element="b">Appear</span> und ein Not-Assert mit
<span data-attribute-id="be31f20f-1e9b-4c0d-b42d-f12afa043917d6e63" class="b" data-element="b">Not-Appear</span>. <span class="bracket-tags-marker" id="8758fc02-7d53-4190-94f5-d4996521953f">[[<span class="bracket-tags">xe1:Tipps und Tricks;xe2:Appear- und Not-Appear</span>]]</span></div><div xmlns:xr="http://www.tekturcms.de/2012/xr/common" xmlns:xlink="http://www.w3.org/1999/xlink" data-attribute-id="5f9a44b2-0d88-4bf3-81f2-d93a28301049d6e67" class="p pmarker tags" data-element="p" data-tektur-editor-id="093cd3f9-c48e-46be-9685-e0079ab91272" contenteditable="true">Ein Assert sichert also zu, dass sich ein Fehlerbericht in der
Schematron Ergebnisdatei zum Testfall befindet. Ein Not-Assert sichert zu, dass
sich kein Fehlerbericht befindet. </div><div xmlns:xr="http://www.tekturcms.de/2012/xr/common" xmlns:xlink="http://www.w3.org/1999/xlink" data-attribute-id="23ee0dc1-c910-43f7-a86b-442562947535d6e69" class="p pmarker tags" data-element="p" data-tektur-editor-id="59d06197-275e-46e8-8bb8-ca36bb8d71be" contenteditable="true"> Wie man sich leicht vorstellen kann, sind Assert-Regeln in diesem Fall leicht zu finden,
dazu muss man nur die Schematron Testregeln ins Leere zeigen lassen. Alles ist grün
und alles ist gut - dem Augenschein nach.</div></div></div></div>