<div data-attribute-id="dbe0e394-aeee-4b28-ace0-72dcd590c0f2" class="topic show_menu tags" data-element="topic" data-deletable="false" data-tektur-editor-id="2958bd8f-1422-464d-b158-f6e78c74468e"><div class="gui-optional-elements-button" contenteditable="false"><div class="menu-icon" style="display:none">+</div></div><div data-attribute-id="cb79aa28-6141-41b3-9bb7-5dc5f10cd81d" class="title pmarker tags" data-element="title" data-tektur-editor-id="d4f3157f-b615-4ee6-92d9-37ad4ead50ed" contenteditable="true">XSLT Streaming</div><div class="abstract optional show_menu tags" data-element="abstract" data-excluding="shortdesc" style="display:none" data-tektur-editor-id="d9d23af4-e26f-413e-a293-54697a0e1010"><div class="gui-optional-elements-button" contenteditable="false"><div class="menu-icon" style="display:none">+</div></div><div class="placeholder text pmarker tags" data-element="p" data-tektur-editor-id="3a43c6b2-528b-47b8-ac69-e55c6a39557e" contenteditable="true"></div></div><div data-attribute-id="b7962d84-8953-4193-989c-1feb118b0e8f" class="body show_menu tags" data-element="body" data-deletable="false" data-tektur-editor-id="d8f72570-fcd3-4894-b74e-4368d059204f"><div class="gui-optional-elements-button" contenteditable="false"><div class="menu-icon" style="display:none">+</div></div><div class="section tektur-wrapper tags" data-element="section" data-tektur-editor-id="d454d9a8-4e3a-4eee-b6e4-9370807f2269"><div xmlns:xr="http://www.tekturcms.de/2012/xr/common" xmlns:xlink="http://www.w3.org/1999/xlink" data-attribute-id="1b8326b9-86af-407d-b972-5b8d98339dec" class="p pmarker tags" data-element="p" data-tektur-editor-id="513e6711-9982-4152-9b70-70696cb796a6" contenteditable="true">Bei grossen flach strukturierten Datenmengen gibt es zwei Möglichkeiten:</div><ol data-attribute-id="55b454b3-3415-4755-9caa-141113ac3f5cd6e6" class="ol tags" data-element="ol" data-tektur-editor-id="133c37ea-dee7-4b39-92f6-043b0281f721"><li data-attribute-id="ca269a85-cba5-48ac-b9ca-dba867f63fddd6e7" class="li tags" data-element="li" data-tektur-editor-id="cd0407a8-1835-4a86-927f-a10010006972"><div xmlns:xr="http://www.tekturcms.de/2012/xr/common" xmlns:xlink="http://www.w3.org/1999/xlink" data-attribute-id="b68b789a-b3c9-407f-ba6d-fa3f3e248cdcd6e8" class="p pmarker tags" data-element="p" data-tektur-editor-id="a935aba9-8f0a-436d-a385-a3543fcbe24c" contenteditable="true">Für einfache Sammel- und Auswertungsaufgaben schreibt man sich am besten einen kleinen Parser, z.B. mit der Python<span class="bracket-tags-marker" id="bdda34dc-58be-4e4f-a72f-922aa007e742">[[<span class="bracket-tags">xe1:Programmiersprachen;xe2:Python</span>]]</span><span class="bracket-tags-marker" id="c2f7f051-fc47-4095-88ee-a1105f288b02">[[<span class="bracket-tags">link</span>]]</span>sgmllib<span class="bracket-tags-marker" id="10f7778d-8e3a-4896-a8fc-e341475309f4">[[<span class="bracket-tags">fn:https://docs.python.org/2/library/sgmllib.html*Einfacher SGML Parser der Python Standard Bibliothek</span>]]</span>.</div></li><li data-attribute-id="e7423b7a-3ac5-4ad1-a3e8-202255a4b978d6e10" class="li tags" data-element="li" data-tektur-editor-id="4b9a237b-f6d7-4d8d-a0d2-3a46e325fed7"><div xmlns:xr="http://www.tekturcms.de/2012/xr/common" xmlns:xlink="http://www.w3.org/1999/xlink" data-attribute-id="57c4f664-96a8-4fcc-9f0b-3e9ee7dfb3ecd6e11" class="p pmarker tags" data-element="p" data-tektur-editor-id="65b0cf46-efb9-476d-a67a-121cc0cba3ff" contenteditable="true">Für komplexere Aufgaben, in denen man nicht an jeder Stelle über den ganzen XML Baum navigiert und sich die Werte zusammensuchen suchen muss, kann man die Streaming Funktion des Saxon XSLT Prozessors verwenden.</div></li></ol><div xmlns:xr="http://www.tekturcms.de/2012/xr/common" xmlns:xlink="http://www.w3.org/1999/xlink" data-attribute-id="a470215e-648e-4bb9-87f9-894c63b0dd90d6e13" class="p pmarker tags" data-element="p" data-tektur-editor-id="8484c56d-8554-4a9a-ae1e-adf2ae3c2ca2" contenteditable="true">XSLT Streaming<span class="bracket-tags-marker" id="b7718b59-98d4-4d04-a785-9dcfc4058172">[[<span class="bracket-tags">xe1:Verarbeitungsmethoden;xe2:XSLT Streaming</span>]]</span> ist in der <span class="bracket-tags-marker" id="c8e0e4f9-28e1-48a1-bb03-b2a96751c4c1">[[<span class="bracket-tags">link</span>]]</span>XSLT Version 3.0<span class="bracket-tags-marker" id="e1609a29-1118-49dc-a240-06281f054a95">[[<span class="bracket-tags">fn:https://www.saxonica.com/html/documentation/sourcedocs/streaming/xslt-streaming.html*XSLT3.0 Streaming API</span>]]</span> neu hinzugekommen und in der
kommerziellen <span class="bracket-tags-marker" id="8af66d12-3992-4093-b575-fd8cf23cb717">[[<span class="bracket-tags">link</span>]]</span>Saxon-EE Löusug <span class="bracket-tags-marker" id="1088063e-9f7d-4928-a1a2-744019daee99">[[<span class="bracket-tags">fn:https://www.saxonica.com/html/documentation/sourcedocs/streaming/</span>]]</span> implementiert. Bei dieser Methode wird kein Eingabebaum im Speicher aufgebaut, was zu einer drastischen Performanzsteigerung<span class="bracket-tags-marker" id="2ff5f6a8-28fb-40ea-a565-d880b811171f">[[<span class="bracket-tags">xe1:Performanzsteigerung</span>]]</span> führt.</div><div xmlns:xr="http://www.tekturcms.de/2012/xr/common" xmlns:xlink="http://www.w3.org/1999/xlink" data-attribute-id="3646e5ae-e79b-4fe4-87dc-bf3d33d48095d6e15" class="p pmarker tags" data-element="p" data-tektur-editor-id="d18b6669-6514-4298-bc5b-46dd11b6b328" contenteditable="true">Es gibt ein paar Regeln, die man bei der Verarbeitung großer Datenmengen über die Streaming Funktionen beachten sollte:</div><ul data-attribute-id="35560a63-bdf8-4ada-81c2-106bbfc808e4d6e17" class="ul tags" data-element="ul" data-tektur-editor-id="68fa7c2e-c5f3-48c6-a412-d297bb4a1092"><li data-attribute-id="956a2a9f-c86e-4f35-9c4b-d117a5f2382bd6e18" class="li tags" data-element="li" data-tektur-editor-id="10266e88-0675-4c96-ae01-87ca99c558ef"><div xmlns:xr="http://www.tekturcms.de/2012/xr/common" xmlns:xlink="http://www.w3.org/1999/xlink" data-attribute-id="dddf3268-6ea2-4478-87d5-24c73f2f8927d6e19" class="p pmarker tags" data-element="p" data-tektur-editor-id="57f541be-538d-4bd8-8398-08ad289646c7" contenteditable="true">Bei einer XPATH Auswertung sollte nur ein einfacher Ausdruck mit höchstens einer konsumierenden Selektion gegeben sein. Konsumieren heißt, dass vom Kontextknoten aus eine Knotenmenge abwärts selektiert wird. Dagegen bleibt die Information bzgl. der Ancestor-Achse erhalten.</div></li><li data-attribute-id="b21608a7-360e-4ed0-b0e9-a58e017d15afd6e21" class="li tags" data-element="li" data-tektur-editor-id="ad763748-b26a-4a57-989d-16b37b855329"><div xmlns:xr="http://www.tekturcms.de/2012/xr/common" xmlns:xlink="http://www.w3.org/1999/xlink" data-attribute-id="3780bf62-e000-46b1-83be-09dd2089bef4d6e22" class="p pmarker tags" data-element="p" data-tektur-editor-id="8af8d001-07c4-4463-b892-31aaed6a6a8a" contenteditable="true">Bei einer Selektion sollte man aber darauf achten nur atomarische Werte auszuwählen.</div></li><li data-attribute-id="fa83009f-d8b6-4844-97d2-5e001db79581d6e24" class="li tags" data-element="li" data-tektur-editor-id="e97b33a2-4f65-4a6f-b7fc-df46c873780d"><div xmlns:xr="http://www.tekturcms.de/2012/xr/common" xmlns:xlink="http://www.w3.org/1999/xlink" data-attribute-id="7b4a93a4-86cd-479b-aa10-deca7ae3d6b6d6e25" class="p pmarker tags" data-element="p" data-tektur-editor-id="70fdd150-6607-41dc-b23e-26e436c97c84" contenteditable="true">Knotenmengen, die über die Streaming Option eingelesen wurden, können nicht einer Funktion übergeben werden. Sie sind auch nicht einer Variablen zuweisbar.</div></li><li data-attribute-id="fca47c0e-acf0-462f-acff-4368002149cdd6e27" class="li tags" data-element="li" data-tektur-editor-id="42f8623a-1c70-4607-9343-1f786b7d85cf"><div xmlns:xr="http://www.tekturcms.de/2012/xr/common" xmlns:xlink="http://www.w3.org/1999/xlink" data-attribute-id="2e7c6e48-0ea5-4af8-bd05-5bfa0f731253d6e28" class="p pmarker tags" data-element="p" data-tektur-editor-id="5e42fdd6-396a-4724-b77b-524aa3b40755" contenteditable="true">"Crawler”-Ausdrücke, wie <span class="bracket-tags-marker" id="21626f7a-6c58-4768-9124-cf0cc87ef4fd">[[<span class="bracket-tags">code://section</span>]]</span> sind nicht nicht zu verwenden, ebenso ein rekursiver Abstieg mit Selektion, wie bspw. mit einem <span class="bracket-tags-marker" id="77c5204e-7afe-4329-bf15-379e96ff81ac">[[<span class="bracket-tags">code:apply-templates</span>]]</span> Call.</div></li></ul><div xmlns:xr="http://www.tekturcms.de/2012/xr/common" xmlns:xlink="http://www.w3.org/1999/xlink" data-attribute-id="e3db71ee-23f5-45b5-ab11-d1fcca66e816d6e30" class="p pmarker tags" data-element="p" data-tektur-editor-id="6b46cdb6-e6bf-4c3b-bb85-1a54e9cb35b0" contenteditable="true">Zu Beginn der Streaming-Aktion kann man sich auf konventionelle Art und Weise Teilbäume, die nicht so performanzlastig aufgebaut werden, in einer Variablen abspeichern und im Verlauf der Streaming-Verarbeitung z.B. für einen Vergleich auswerten.</div></div></div></div>